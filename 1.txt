--- FILE: mystickyelements-deactivate-form.php ---
<style>
    .mystickyelements--hidden {
        overflow: hidden;
    }

    .mystickyelements--popup-overlay .mystickyelements--internal-message {
        margin: 3px 0 3px 22px;
        display: none;
    }

    .mystickyelements--reason-input {
        margin: 3px 0 3px 22px;
        display: none;
    }

    .mystickyelements--reason-input input[type="text"] {
        width: 100%;
        display: block;
    }

    .mystickyelements--popup-overlay {
        background: rgba(0, 0, 0, .8);
        position: fixed;
        top: 0;
        left: 0;
        height: 100%;
        width: 100%;
        z-index: 1000;
        overflow: auto;
        visibility: hidden;
        opacity: 0;
        transition: opacity 0.3s ease-in-out :
    }

    .mystickyelements--popup-overlay.mystickyelements--active {
        opacity: 1;
        visibility: visible;
    }

    .mystickyelements--serveypanel {
        width: 600px;
        background: #fff;
        margin: 65px auto 0;
    }

    .mystickyelements--popup-header {
        background: #f1f1f1;
        padding: 20px;
        border-bottom: 1px solid #ccc;
    }

    .mystickyelements--popup-header h2 {
        margin: 0;
    }

    .mystickyelements--popup-body {
        padding: 10px 20px;
    }

    .mystickyelements--popup-footer {
        background: #f9f3f3;
        padding: 10px 20px;
        border-top: 1px solid #ccc;
    }

    .mystickyelements--popup-footer:after {
        content: "";
        display: table;
        clear: both;
    }

    .action-btns {
        float: right;
    }

    .mystickyelements--anonymous {
        display: none;
    }

    .attention, .error-message {
        color: red;
        font-weight: 600;
        display: none;
    }

    .mystickyelements--spinner {
        display: none;
    }

    .mystickyelements--spinner img {
        margin-top: 3px;
    }

    .mystickyelements--hidden-input {
        padding: 10px 0 0;
        display: none;
    }
    .mystickyelements--popup-body textarea {
        padding: 10px;
        width: 100%;
        height: 100px;
        margin: 0 0 10px 0;
    }

    span.mystickyelements--error-message {
        color: #dd0000;
        font-weight: 600;
    }
    .mystickyelements--popup-body h3 {
        line-height: 24px;
    }
    .mystickyelements--popup-overlay .form-control input {
        width: 100%;
        margin: 0 0 15px 0;
    }
</style>

<div class="mystickyelements--popup-overlay">
    <div class="mystickyelements--serveypanel">
        <form action="#" method="post" id="mystickyelements--deactivate-form">
            <div class="mystickyelements--popup-header">
                <h2><?php _e('Quick feedback about My Sticky Elements', "mystickyelements"); ?> üôè</h2>
            </div>
            <div class="mystickyelements--popup-body">
                <h3><?php _e('Your feedback will help us improve the product, please tell us why did you decide to deactivate My Sticky Elements :)', "mystickyelements"); ?></h3>
                <div class="form-control">
                    <input type="email" value="<?php echo get_option( 'admin_email' ) ?>" placeholder="<?php echo _e("Email address", "mystickyelements") ?>" id="mystickyelements-deactivation-email_id">
                </div>
                <div class="form-control">
                    <label></label>
                    <textarea placeholder="<?php echo _e("Your comment", "mystickyelements") ?>" id="mystickyelements-deactivation-comment"></textarea>
                </div>
            </div>
            <div class="mystickyelements--popup-footer">
                <label class="mystickyelements--anonymous">
                    <input type="checkbox"/><?php _e('Anonymous feedback', "mystickyelements"); ?>
                </label>
                <input type="button" class="button button-secondary button-skip mystickyelements--popup-skip-feedback" value="Skip &amp; Deactivate">
                <div class="action-btns">
                    <span class="mystickyelements--spinner"><img src="<?php echo admin_url('/images/spinner.gif'); ?>" alt=""></span>
                    <input type="submit" class="button button-secondary button-deactivate mystickyelements--popup-allow-deactivate" value="Submit &amp; Deactivate" disabled="disabled">
                    <a href="#" class="button button-primary mystickyelements--popup-button-close"><?php _e('Cancel', "mystickyelements"); ?></a>
                </div>
            </div>
        </form>
    </div>
</div>


<script>
    (function ($) {

        $(function () {

            var pluginSlug = 'mystickyelements-pro';
            // Code to fire when the DOM is ready.

            $(document).on('click', 'tr[data-slug="' + pluginSlug + '"] .deactivate', function (e) {
                e.preventDefault();

                $('.mystickyelements--popup-overlay').addClass('mystickyelements--active');
                $('body').addClass('mystickyelements--hidden');
            });
            $(document).on('click', '.mystickyelements--popup-button-close', function () {
                close_popup();
            });
            $(document).on('click', ".mystickyelements--serveypanel,tr[data-slug='" + pluginSlug + "'] .deactivate", function (e) {
                e.stopPropagation();
            });

            $(document).on( 'click', function () {
                close_popup();
            });
            $('.mystickyelements--reason label').on('click', function () {
                $(".mystickyelements--hidden-input").hide();
                jQuery(".mystickyelements--error-message").remove();
                if ($(this).find('input[type="radio"]').is(':checked')) {
                    $(this).closest("li").find('.mystickyelements--hidden-input').show();
                }
            });
            $(document).on("keyup", "#mystickyelements-deactivation-comment", function(){
                if($.trim($(this).val()) == "") {
                    $(".mystickyelements--popup-allow-deactivate").attr("disabled", true);
                } else {
                    $(".mystickyelements--popup-allow-deactivate").attr("disabled", false);
                }
            });
            $('input[type="radio"][name="mystickyelements--selected-reason"]').on('click', function (event) {
                $(".mystickyelements--popup-allow-deactivate").removeAttr('disabled');
            });
            $(document).on('submit', '#mystickyelements--deactivate-form', function (event) {
                event.preventDefault();
                _reason = "";
                if(jQuery.trim(jQuery("#mystickyelements-deactivation-comment").val()) == "") {
                    jQuery("#alt_plugin").after("<span class='mystickyelements--error-message'>Please provide your feedback</span>");
                    return false;
                } else {
                    _reason = jQuery.trim(jQuery("#mystickyelements-deactivation-comment").val());
                }

                jQuery('[name="mystickyelements--selected-reason"]:checked').val();

                var email_id = jQuery.trim(jQuery("#mystickyelements-deactivation-email_id").val());

                $.ajax({
                    url: ajaxurl,
                    type: 'POST',
                    data: {
                        action: 'mystickyelements_plugin_deactivate',
                        reason: _reason,
                        email_id: email_id,
                        nonce: '<?php echo wp_create_nonce("mystickyelements_deactivate_nonce") ?>'
                    },
                    beforeSend: function () {
                        $(".mystickyelements--spinner").show();
                        $(".mystickyelements--popup-allow-deactivate").attr("disabled", "disabled");
                    }
                }).done(function () {
                    $(".mystickyelements--spinner").hide();
                    $(".mystickyelements--popup-allow-deactivate").removeAttr("disabled");
                    window.location.href = $("tr[data-slug='" + pluginSlug + "'] .deactivate a").attr('href');
                });
            });

            $('.mystickyelements--popup-skip-feedback').on('click', function (e) {
                window.location.href = $("tr[data-slug='" + pluginSlug + "'] .deactivate a").attr('href');
            })

            function close_popup() {
                $('.mystickyelements--popup-overlay').removeClass('mystickyelements--active');
                $('#mystickyelements--deactivate-form').trigger("reset");
                $(".mystickyelements--popup-allow-deactivate").attr('disabled', 'disabled');
                $(".mystickyelements--reason-input").hide();
                $('body').removeClass('mystickyelements--hidden');
                $('.message.error-message').hide();
            }
        });

    })(jQuery); // This invokes the function above and allows us to use '$' in place of 'jQuery' in our code.
</script>


--- END FILE ---

--- FILE: license-key.php ---
<style>
    .software-licensing p {
        background: #fff;
    }
    .software-licensing {
        background: #fff;
        -webkit-border-radius: 10px;
        -moz-border-radius: 10px;
        border-radius: 10px;
        font-family: 'Poppins', sans-serif;
    }
    .sticky-form-field {
        padding: 20px 20px 10px 20px;
    }
    .sticky-form-field label {
        display: block;
        padding: 0 0 5px 0;
    }
    .sticky-form-field input {
        height: 30px;
        width: 300px;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        border-radius: 3px;
    }
    .sticky-form-buttons {
        padding: 10px 20px 20px 20px;
    }
    button.sticky-activate-key {
        background: #00c67c;
        border: none;
        color: #fff;
        padding: 5px 20px;
        font-family: 'Poppins', sans-serif;
        font-size: 12px;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        border-radius: 3px;
    }
    button.sticky-activate-key:hover {
        background: #009661;
    }
    button.sticky-deactivate-key {
        background: #969696;
        border: none;
        color: #fff;
        padding: 5px 20px;
        font-family: 'Poppins', sans-serif;
        font-size: 12px;
        margin-right: 0px;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        border-radius: 3px;
    }
    button.sticky-deactivate-key:hover {
        background: #585858;
    }
    .software-licensing-footer {
        padding: 15px;
        background: #e1daf6;
        color: #7559c0;
        font-weight: bold;
        -webkit-border-bottom-right-radius: 10px;
        -webkit-border-bottom-left-radius: 10px;
        -moz-border-radius-bottomright: 10px;
        -moz-border-radius-bottomleft: 10px;
        border-bottom-right-radius: 10px;
        border-bottom-left-radius: 10px;
    }
    .sticky-element-content {
        margin: 20px 0 0 0;
    }
    .mystickyelements-header-title {
        padding: 15px 20px;
        background-color: #f9fcfc;
        -webkit-border-top-left-radius: 10px;
        -webkit-border-top-right-radius: 10px;
        -moz-border-radius-topleft: 10px;
        -moz-border-radius-topright: 10px;
        border-top-left-radius: 10px;
        border-top-right-radius: 10px;
    }
    .mystickyelements-header-title h3 {
        margin: 0;
        padding: 0;
    }
    #sticky-element-activate-key {
        padding: 30px;
    }
</style>
<div class="wrap">
    <div id="sticky-element-activate-key" class="sticky-element-content">
        <?php
        $is_active = 0;
        $is_expired = 0;
        $license_key = "";
        $expire_on = "";
        if(!empty($license_data) && isset($license_data['license'])) {
            if($license_data['license'] == "valid") {
                $is_active = 1;
            } else if($license_data['license'] == "expired") {
                $is_expired = 1;
            }
			if ( isset($license_data['expires'])) {
				$expire_on = $license_data['expires'];
			}
            $license_key = get_option("sticky_element_license_key");
        }
		?>
        <div class="software-licensing">
            <div class="mystickyelements-header-title">
                <h3>Software Licensing</h3>
            </div>
            <div class="sticky-form-field">
                <label for="sticky-license_key"><?php _e('License Key', 'mystickyelements'); ?></label>
				<input type="text" value="<?php echo (isset($license_key) && $license_key != '' ) ?substr_replace($license_key,'********',8,16) : ''; ?>" id="sticky-license_key" <?php if(isset($license_key) && $license_key != '' ):?> disabled="disabled" <?php endif;?>>
            </div>
            <div class="sticky-form-buttons">
                <button type="button" class="sticky-activate-key" style="display:<?php echo (isset($license_key) && $license_key != '') ? 'none' : 'inline-block';?>"><?php _e('Activate License', 'mystickyelements'); ?></button>
				
                <button style="display: <?php echo ($is_active)?"inline-block":"none" ?>" type="button" class="sticky-deactivate-key"><?php _e('Deactivate License', 'mystickyelements'); ?></button>
            </div>
            <input type="hidden" id="sticky_ajax_url" value="<?php echo admin_url("admin-ajax.php") ?>">
            <div class="software-licensing-footer">
                <?php if($is_active == 1 && isset($license_data['expires']) && $license_data['expires'] == "lifetime") {
                    echo "You have a lifetime license";
                } else if($is_active == 1) {
                    echo "Your License key will expire on ".date("d F, Y", strtotime($expire_on)).".";
                } else if($is_expired == 1) {
                    $url = "https://go.premio.io/checkout/?edd_license_key=".$license_key."&download_id=".PRO_MY_STICKY_ELEMENT_ID;
                    echo "Your License key has been expired on ".date("d F, Y", strtotime($expire_on)).". <a target='_blank' href='".$url."'>Click here</a> to renew";
                } else {
                    echo "Activate your License key to use All Pro features";
                }?>
            </div>
        </div>
    </div>
</div>
<script>
    jQuery(document).ready(function(){
        jQuery(".sticky-activate-key").on( 'click', function(){
            licenseKey = jQuery.trim(jQuery("#sticky-license_key").val());
            AJAX_URL = jQuery("#sticky_ajax_url").val();
            if(licenseKey == "") {
                alert("Please enter your license Key");
            } else {
                jQuery(".software-licensing button").attr("disabled", true);
                jQuery.ajax({
                    url: AJAX_URL,
                    data: "license_key=" + licenseKey + "&action=sticky_element_activate_key&nonce=<?php echo wp_create_nonce('sticky_element_activate_key_nonce') ?>",
                    method: 'post',
                    success: function (res) {
                        jQuery(".software-licensing button").attr("disabled", false);
                        res = jQuery.parseJSON(res);
                        if(res.status == 1) {
                            
                            setTimeout(function(){
                                window.location.reload();
                            }, 1500);
                        } 
						
						/* else part and license key button show line code remove. beacuse it is already manage from php*/
                        if( res.status == 0 && res.message == 'Invalid license key'){
                            jQuery(".software-licensing-footer").html(res.message);
                            jQuery(".software-licensing-footer").css('color','#ff0000');
                        }
                        
                    }
                });
            }
        });
        jQuery(".sticky-deactivate-key").on( 'click', function(){
            licenseKey = jQuery.trim(jQuery("#sticky-license_key").val());
            AJAX_URL = jQuery("#sticky_ajax_url").val();
            jQuery(".software-licensing button").attr("disabled", true);
            jQuery.ajax({
                url: AJAX_URL,
                data: "license_key=" + licenseKey + "&action=sticky_element_deactivate_key&nonce=<?php echo wp_create_nonce('sticky_element_deactivate_key_nonce') ?>",
                method: 'post',
                success: function (res) {
                    jQuery(".software-licensing button").attr("disabled", false);
                    res = jQuery.parseJSON(res);
                    if(res.status == 1) {
                        //jQuery(".sticky-deactivate-key").hide();
                        jQuery("#sticky-license_key").val("");
                        setTimeout(function(){
                            window.location.reload();
                        }, 1500);
                    }
                    jQuery(".software-licensing-footer").html(res.message);
                }
            });
        });
    });
</script>


--- END FILE ---

--- FILE: mystickyelements.php ---
<?php
/*
Plugin Name: myStickyElements Pro
Plugin URI: https://premio.io/
Description: myStickyElements is simple yet very effective plugin. It is perfect to fill out usually unused side space on webpages with some additional messages, videos, social widgets ...
Version: 2.0.7
Author: Premio
Author URI: https://premio.io/
Domain Path: /languages
License: GPLv2 or later
*/

if (!defined('ABSPATH')) {
	exit; // Exit if accessed directly
}

define('MYSTICKYELEMENTS_PRO_URL', plugins_url('/', __FILE__));  // Define Plugin URL
define('MYSTICKYELEMENTS_PRO_PATH', plugin_dir_path(__FILE__));  // Define Plugin Directory Path

/*PRO Vars*/
define("PRO_MY_STICKY_ELEMENT_API_URL", "https://go.premio.io/");
define("PRO_MY_STICKY_ELEMENT_ID", "3432");
define("PRO_MY_STICKY_ELEMENT_VERSION", "2.0.7");

/* Checking for updates */
require_once("sticky-element.class.php");
$license_key = get_option("sticky_element_license_key");
new Sticky_element_Plugin_Updater(PRO_MY_STICKY_ELEMENT_API_URL, __FILE__, array(
		'version' => PRO_MY_STICKY_ELEMENT_VERSION,
		'license' => $license_key,
		'item_id' => PRO_MY_STICKY_ELEMENT_ID,
		'item_name' => "My Sticky Elements",
		'author' => 'Premio.io',
		'url' => home_url()
	)
);

/*
 * redirect my sticky element setting page after plugin activated
 */
add_action( 'activated_plugin', 'mystickyelement_activation_redirect_pro' );
function mystickyelement_activation_redirect_pro($plugin){

	if( $plugin == plugin_basename( __FILE__ ) ) {
		wp_redirect( admin_url( 'admin.php?page=my-sticky-license-key' ) ) ;
		exit;
	}
}

if ( !function_exists( 'mystickyelement_pro_activate' )) {
	function mystickyelement_pro_activate() {
		global $wpdb;
		require_once( ABSPATH . 'wp-admin/includes/upgrade.php');
        $charset_collate = $wpdb->get_charset_collate();

		$contact_lists_table = $wpdb->prefix . 'mystickyelement_contact_lists';
		if ($wpdb->get_var("show tables like '$contact_lists_table'") != $contact_lists_table) {

			$contact_lists_table_sql = "CREATE TABLE $contact_lists_table (
				ID int(11) NOT NULL AUTO_INCREMENT,
				contact_name varchar(255) NULL,
				contact_phone varchar(255) NULL,
				contact_email varchar(255) NULL,
				contact_message text NULL,
				contact_option varchar(255) NULL,
				message_date DATETIME NOT NULL default '0000-00-00 00:00:00',
				PRIMARY KEY  (ID)
			) $charset_collate;";
			dbDelta($contact_lists_table_sql);
		}

		if ( get_option('mystickyelements-contact-form') == false ) {
			$contact_form = array(
								'enable' 		=> 1,
								'name' 			=> 1,
								'name_require' 	=> '',
								'name_value' 	=> '',
								'phone' 		=> 1,
								'phone_require' => 1,
								'phone_value' 	=> '',
								'email' 		=> 1,
								'email_require' => 1,
								'email_value' 	=> '',
								'message' 		=> 1,
								'message_value' => '',
								'dropdown'		=> '',
								'dropdown_require' => '',
								'submit_button_background_color'=> '#7761DF',
								'submit_button_text_color' 		=> '#FFFFFF',
								'submit_button_text' 	=> 'Submit',
								'desktop' 	=> 1,
								'mobile' 	=> 1,
								'direction' 	=> 'LTR',
								'tab_background_color' 	=> '#7761DF',
								'tab_text_color' 		=> '#FFFFFF',
								'headine_text_color' 	=> '#7761DF',
								'text_in_tab' 			=> 'Contact Us',
								'thank_you_message' 	=> 'Your message was sent successfully',
								'send_leads' 			=> 'database',
								'email_subject_line' 	=> 'New lead from MyStickyElements from {name} on {date} {hour}',
								'sent_to_mail' 			=> '',
								'form_css' 				=> '' ,
							);

			update_option( 'mystickyelements-contact-form', $contact_form);
		}

		if ( get_option('mystickyelements-social-channels') == false ) {
			$social_channels = array(
									'enable' 			=> 1,
									'whatsapp' 			=> 1,
									//'facebook_messenger'=> 1,
								);

			update_option( 'mystickyelements-social-channels', $social_channels);
		}
		if ( get_option('mystickyelements-social-channels-tabs') == false ) {
			$social_channels_tabs['whatsapp'] = array(
													'text' => "Whatsapp",
													'hover_text' => "WhatsApp",
													'bg_color' => "#26D367",
													'desktop' => 1,
													'mobile' => 1,
												);
			/*
			$social_channels_tabs['facebook_messenger'] = array(
													'text' => "Facebook",
													'hover_text' => "Facebook Messenger",
													'bg_color' => "#007FF7",
													'desktop' => 1,
													'mobile' => 1,
												);
			*/
			update_option( 'mystickyelements-social-channels-tabs', $social_channels_tabs);
		}
		if ( get_option('mystickyelements-general-settings') == false ) {
			$general_settings = array(
									'position' 			=> 'left',
									'position_mobile' 	=> 'left',
									'open_tabs_when' 	=> 'hover',
									'mobile_behavior' 	=> 'disable',
									'flyout' 			=> 'disable',
									'custom_position' 	=> '',
									'tabs_css' 			=> '',
									'minimize_tab'		=> '1',
									'on_load_when'		=> 'open',
									'minimize_tab_background_color'	=> '#000000',
									'page_settings'     => '',
								);

			update_option( 'mystickyelements-general-settings', $general_settings);
		}

		$DS = DIRECTORY_SEPARATOR;
		$dirName = ABSPATH . "wp-content{$DS}plugins{$DS}mystickyelements{$DS}";
		if(is_dir($dirName)) {
			if (is_plugin_active("mystickyelements/mystickyelements.php")) {
				deactivate_plugins("mystickyelements/mystickyelements.php");
			}
			mystickyelement_delete_directory($dirName);
		}
	}
}

register_activation_hook( __FILE__, 'mystickyelement_pro_activate' );



function mystickyelement_delete_directory($dirname) {
	if (is_dir($dirname))
		$dir_handle = opendir($dirname);
	if (!$dir_handle)
		return false;
	while($file = readdir($dir_handle)) {
		if ($file != "." && $file != "..") {
			if (!is_dir($dirname."/".$file))
				unlink($dirname."/".$file);
			else
				mystickyelement_delete_directory($dirname.'/'.$file);
		}
	}
	closedir($dir_handle);
	rmdir($dirname);
	return true;
}

if ( !function_exists('mystickyelements_social_channels')) {

	function mystickyelements_social_channels() {
		$social_channels = array(
							'whatsapp'	=> array(
											'text' => "WhatsApp",
											'icon_text' => "",
											'hover_text' => "WhatsApp",
											'background_color' => "#26D367",
											'placeholder'	=> 'Example: +18006927753',
											'class' => "fab fa-whatsapp",
											'tooltip'	=> 'Add your full WhatsApp number with country code. E.g., +18006927753',
											'is_pre_set_message' => 1,
											'number_validation' => 1,
											'icon_color' => 1
										),
							'facebook_messenger'	=> array(
											'text' => "Facebook Messenger",
											'icon_text' => "",
											'hover_text' => "Facebook Messenger",
											'background_color' => "#007FF7",
											'placeholder'	=> 'Example: Coca-Cola',
											'class' => "fab fa-facebook-messenger",
											'tooltip'	=> '<ul><li>1. Go to <a href="" target="_blank">Facebook.com</a></li><li>2. Click on your name tab</li><li>3. Copy the last part of the URL <img src="'.MYSTICKYELEMENTS_PRO_URL.'images/facebook-image.png" /></li><li>4. Add your Messenger username. If your page\'s username is "cocacola" add only the username part. E.g., cocacola</li></ul>',
											'icon_color' => 1
										),
							'facebook' => array(
											'text' => "Facebook",
											'icon_text' => "",
											'hover_text' => "Facebook",
											'background_color' => "#4267B2",
											'placeholder'	=> 'Example: https://facebook.com/coca-cola/',
											'class' => "fab fa-facebook-f",
											'tooltip'	=> 'Add the link of of your Facebook page or URL. E.g., <a href="https://facebook.com/cocacola" target="_blank">https://facebook.com/cocacola</a>',
											'icon_color' => 1
										),
							'SMS'	=> array(
											'text' => "SMS",
											'icon_text' => "",
											'hover_text' => "SMS",
											'background_color' => "#ff549c",
											'placeholder'	=> 'Example: +1507854875',
											'class' => "fas fa-sms",
											'tooltip'	=> 'Add your full phone number with country code. E.g., +18006927753',
											'number_validation' => 1,
											'icon_color' => 1
										),
							'phone'		=> array(
											'text' => "Phone",
											'icon_text' => "",
											'hover_text' => "Phone",
											'background_color' => "#26D37C",
											'placeholder'	=> 'Example: +18006927753',
											'class' => "fa fa-phone",
											'tooltip'	=> 'Add your full phone number with country code. E.g., +18006927753',
											'number_validation' => 1,
											'icon_color' => 1
										),							
							'email'		=> array(
											'text' => "Email",
											'icon_text' => "",
											'hover_text' => "Email",
											'background_color' => "#DC483C",
											'placeholder'	=> 'Example: john@example.com',
											'class' => "far fa-envelope",
											'tooltip'	=> 'Add your email address. E.g., support@premio.io',
											'icon_color' => 1
										),
							'insagram'	=> array(
											'text' => "Instagram",
											'icon_text' => "",
											'hover_text' => "Instagram",
											'background_color' => "",
											'placeholder'	=> 'Example: https://instagram.com/cocacola',
											'class' => "fab fa-instagram",
											'tooltip'	=> 'Add the link of of your Instagram profile E.g., <a href="https://instagram.com/cocacola" target="_blank">https://instagram.com/cocacola</a>',
											'icon_color' => 1
										),
							'skype'	=> array(
											'text' => "Skype",
											'icon_text' => "",
											'hover_text' => "Skype",
											'background_color' => "#00aff0",
											'placeholder'	=> 'Example: Enter your Skype Username',
											'class' => "fab fa-skype",
											'tooltip'	=> 'Enter your Skype username. E.g., username',
											'icon_color' => 1
										),
							'telegram'	=> array(
											'text' => "Telegram",
											'icon_text' => "",
											'hover_text' => "Telegram",
											'background_color' => "#2CA5E0",
											'placeholder'	=> 'Enter Telegram username of channel or personal profile',
											'class' => "fab fa-telegram-plane",
											'tooltip'	=> 'Enter the username of your Telegram profile or  channel. You can find your username by going into the Telegram profile. E.g., TelegramTips',
											'icon_color' => 1
										),
							'address'	=> array(
											'text' => "Address",
											'icon_text' => "",
											'icon_label' => "Address",
											'icon_new_tab' => "0",
											'hover_text' => "Address",
											'background_color' => "#23D28C",
											'placeholder'	=> 'Example: 3229, Royalway, Houston, TX 77058, US',
											'class' => "fas fa-map-marker-alt",
											'tooltip'	=> 'Add your full address. E.g., 3229, Royalway, Houston, TX 77058, US',
											'icon_color' => 1
										),
							'business_hours'	=> array(
											'text' => "Open Hours",
											'icon_text' => "",
											'icon_label' => "Opening Hours",
											'icon_new_tab' => "0",
											'hover_text' => "Open Hours",
											'background_color' => "#E85F65",
											'placeholder'	=> 'Example: 9:00 - 5:00',
											'class' => "fas fa-calendar-alt",
											'tooltip'	=> 'Write your opening hours. E.g, 9:00am - 5:00pm or 9:00 - 5:00 or 9:00 - 15:30',
											'icon_color' => 1
										),
							'youtube'	=> array(
											'text' => "YouTube",
											'icon_text' => "",
											'hover_text' => "YouTube",
											'background_color' => "#F54E4E",
											'placeholder'	=> 'Example: https://youtube.com/username',
											'class' => "fab fa-youtube",
											'tooltip'	=> 'Add your YouTube channel link. E.g., <a href="https://youtube.com/username" target="_blank">https://youtube.com/username</a>',
											'icon_color' => 1
										),
							'poptin_popups'	=> array(
											'text' => "Poptin Popups",
											'icon_text' => "",
											"icon_label"=>"Popup link",
											'hover_text' => "Poptin Popups",
											'background_color' => "#47a2b1",
											'placeholder'	=> 'Example: https://app.popt.in/APIRequest/click/96Y4a02XXa15e',
											'class' => "mystickyelement_poptin_icon",
											'tooltip'	=> 'Copy your Poptin popup link from "On-click", from Display Rules. Check the <a href="https://premio.io/help/mystickyelements/how-to-launch-a-poptin-pop-up-in-my-sticky-elements/" target="_blank">documentation</a> for more. E.g., <a href="https://app.popt.in/APIRequest/click/96Y4a02XXa15e" target="_blank">https://app.popt.in/APIRequest/click/96Y4a02XXa15e</a>',
											'icon_color' => 1
										),
							'wechat'	=> array(
											'text' => "WeChat",
											'icon_text' => "",
											'hover_text' => "WeChat",
											'background_color' => "#00AD19",
											'placeholder'	=> 'Enter weChat ID. E.g., cocacola',
											'class' => "fab fa-weixin",
											'tooltip'	=> "Enter the weChat ID of the profile you want to add. You will usually find the 'WeChat ID' written next to the avatar photo of the profile.Unfortunately, WeChat doesn't have a click-to-chat API, therefore we can only show your username on-click so visitors can look-up for it",
											'icon_color' => 1
										),	
							'snapchat'	=> array(
											'text' => "Snapchat",
											'icon_text' => "",
											'hover_text' => "Snapchat",
											'background_color' => "#fffc00",
											'placeholder'	=> 'Example: Enter your Snapchat Username',
											'class' => "fab fa-snapchat-ghost",
											'tooltip'	=> 'Enter your Snapchat username. E.g., username',
											'icon_color' => 1
										),
							
							'twitter'	=> array(
											'text' => "Twitter",
											'icon_text' => "",
											'hover_text' => "Twitter",
											'background_color' => "#1C9DEB",
											'placeholder'	=> 'Example: https://twitter.com/cocacola',
											'class' => "fab fa-twitter",
											'tooltip'	=> 'Add the link of of your Twitter profile E.g., <a href="https://twitter.com/cocacola" target="_blank">https://twitter.com/cocacola</a>',
											'icon_color' => 1
										),
							'linkedin'	=> array(
											'text' => "Linkedin",
											'icon_text' => "",
											'hover_text' => "Linkedin",
											'background_color' => "#0077b5",
											'placeholder'	=> 'Example: https://linkedin.com/in/username',
											'class' => "fab fa-linkedin-in",
											'tooltip'	=> 'Enter the full link of your LinkedIn profile. E.g., <a href="https://linkedin.com/in/username" target="_blank">https://linkedin.com/in/username</a>',
											'icon_color' => 1
										),
							'viber'	=> array(
											'text' => "Viber",
											'icon_text' => "",
											'hover_text' => "Viber",
											'background_color' => "#59267c",
											'placeholder'	=> 'Example: +1507854875',
											'class' => "fab fa-viber",
											'tooltip'	=> 'Enter your full phone number that you registered with Viber. E.g., +1507854875',
											'number_validation' => 1,
											'icon_color' => 1
										),
							'tiktok'	=> array(
											'text' => "Tiktok",
											'icon_text' => "",
											'hover_text' => "Tiktok",
											'background_color' => "#000",
											'placeholder'	=> 'Example: @TikTok_username',
											'class' => "fab fa-tiktok",
											'tooltip'	=> '',
											'icon_color' => 1
										),
							'vimeo'	=> array(
											'text' => "Vimeo",
											'icon_text' => "",
											'hover_text' => "Vimeo",
											'background_color' => "#1ab7ea",
											'placeholder'	=> 'Example: https://vimeo.com/channel-name',
											'class' => "fab fa-vimeo-v",
											'tooltip'	=> 'Add your Vimeo channel link. E.g., <a href="https://vimeo.com/channel-name" target="_blank">https://vimeo.com/channel-name</a>',
											'icon_color' => 1,
										),
							'pinterest'	=> array(
											'text' => "Pinterest",
											'icon_text' => "",
											'hover_text' => "Pinterest",
											'background_color' => "#E85F65",
											'placeholder'	=> 'Example: https://pinterest/username',
											'class' => "fab fa-pinterest-p",
											'tooltip'	=> 'Add the link of of your Pinterest profile E.g., <a href="https://pinterest.com/username" target="_blank">https://pinterest.com/username</a>',
											'icon_color' => 1
										),
							'line'	=> array(
											'text' => "Line",
											'icon_text' => "",
											'hover_text' => "Line",
											'background_color' => "#00c300",
											'placeholder'	=> 'Example: http://line.me/ti/p/2a-s5A2B8B',
											'class' => "mystickyelement_line_icon",
											'tooltip'	=> 'Add your full profile link of Line. E.g., <a href="http://line.me/ti/p/2a-s5A2B8B" target="_blank">http://line.me/ti/p/2a-s5A2B8B</a>',
											'icon_color' => 1,
											'custom_svg_icon'	=> file_get_contents( MYSTICKYELEMENTS_PRO_PATH . '/images/line-logo.svg')
										),	
							
							'itunes'	=> array(
											'text' => "iTunes",
											'icon_text' => "",
											'hover_text' => "iTunes",
											'background_color' => "#495057",
											'placeholder'	=> 'Example: https://www.apple.com/us/itunes/channel-link',
											'class' => "fab fa-itunes-note",
											'tooltip'	=> 'Add your iTunes channel link. E.g., <a href="https://www.apple.com/us/itunes/channel-link" target="_blank">https://www.apple.com/us/itunes/channel-link</a>',
											'icon_color' => 1
										),
							'SoundCloud'	=> array(
											'text' => "SoundCloud",
											'icon_text' => "",
											'hover_text' => "SoundCloud",
											'background_color' => "#ff5500",
											'placeholder'	=> 'Example: https://soundcloud.com/channel-link',
											'class' => "fab fa-soundcloud",
											'tooltip'	=> 'Add your SoundCloud channel link. E.g., <a href="https://soundcloud.com/channel-link" target="_blank">https://soundcloud.com/channel-link</a>',
											'icon_color' => 1
										),
							'vk'	=> array(
											'text' => "Vkontakte",
											'icon_text' => "",
											'hover_text' => "Vkontakte",
											'background_color' => "#4a76a8",
											'placeholder'	=> 'Enter your Vk username. If "vk.com/example" is the URL, username is "example"',
											'class' => "fab fa-vk",
											'tooltip'	=> 'Username for the VK account part of the web page address, for "vk.com/example" the username is "example". Only enter the username',
											'icon_color' => 1
										),
							'spotify'	=> array(
											'text' => "Spotify",
											'icon_text' => "",
											'hover_text' => "Spotify",
											'background_color' => "#ff5500",
											'placeholder'	=> 'Example: https://www.spotify.com/channel-link',
											'class' => "fab fa-spotify",
											'tooltip'	=> 'Add your Spotify channel link. E.g., <a href="https://www.spotify.com/channel-link" target="_blank">https://www.spotify.com/channel-link</a>',
											'icon_color' => 1
										),							
													
							'tumblr'	=> array(
											'text' => "Tumblr",
											'icon_text' => "",
											'hover_text' => "Tumblr",
											'background_color' => "#35465d",
											'placeholder'	=> 'Example: https://www.tumblr.com/channel-link',
											'class' => "fab fa-tumblr",
											'tooltip'	=> 'Add your full profile link of Tumblr. E.g, <a href="https://www.tumblr.com/channel-link" target="_blank">https://www.tumblr.com/channel-link</a>',
											'icon_color' => 1
										),
							'qzone'		=> array(
											'text' => "Qzone",
											'icon_text' => "",
											'hover_text' => "Qzone",
											'background_color' => "#1a87da",
											'placeholder'	=> 'Example: https://qzone.qq.com/channel-link',
											'class' => "mystickyelement_qzone_icon",
											'tooltip'	=> 'Add your full profile link of Qzone. E.g, <a href="https://qzone.qq.com/channel-link" target="_blank">https://qzone.qq.com/channel-link</a>',
											'icon_color' => 1,
											'custom_svg_icon'	=> file_get_contents( MYSTICKYELEMENTS_PRO_PATH . '/images/qzone-logo.svg')
										),
							'qq'		=> array(
											'text' => "QQ",
											'icon_text' => "",
											'hover_text' => "QQ",
											'background_color' => "#212529",
											'placeholder'	=> 'Example: Enter your QQ Username',
											'class' => "fab fa-qq",
											'tooltip'	=> 'Enter your QQ username. E.g., username',
											'icon_color' => 1
										),
							'behance'	=> array(
											'text' => "Behance",
											'icon_text' => "",
											'hover_text' => "Behance",
											'background_color' => "#131418",
											'placeholder'	=> 'Example: https://www.behance.net/channel-link',
											'class' => "fab fa-behance",
											'tooltip'	=> 'Add your full profile link of Behance. E.g, <a href="https://www.behance.net/channel-link" target="_blank">https://www.behance.net/channel-link</a>',
											'icon_color' => 1
										),
							'dribbble'	=> array(
											'text' => "Dribbble",
											'icon_text' => "",
											'hover_text' => "Dribbble",
											'background_color' => "#ea4c89",
											'placeholder'	=> 'Example: https://dribbble.com/channel-link',
											'class' => "fab fa-dribbble",
											'tooltip'	=> 'Add your full profile link of Dribble. E.g, <a href="https://dribbble.com/channel-link" target="_blank">https://dribbble.com/channel-link</a>',
											'icon_color' => 1
										),
							'quora'	=> array(
											'text' => "Quora",
											'icon_text' => "",
											'hover_text' => "Quora",
											'background_color' => "#aa2200",
											'placeholder'	=> 'Example: https://www.quora.com/channel-link',
											'class' => "fab fa-quora",
											'tooltip'	=> 'Add your full profile link of Quora. E.g, <a href="https://www.quora.com/channel-link" target="_blank">https://www.quora.com/channel-link</a>',
											'icon_color' => 1
										),
							'yelp'	=> array(
											'text' => "yelp",
											'icon_text' => "",
											'hover_text' => "yelp",
											'background_color' => "#c41200",
											'placeholder'	=> 'Example: https://www.yelp.com/biz/your_business_here',
											'class' => "fab fa-yelp",
											'tooltip'	=> 'Add your Yelp business link. E.g, <a href="https://www.yelp.com/biz/your_business_here" target="_blank">https://www.yelp.com/biz/your_business_here</a>',
											'icon_color' => 1
										),
							'amazon'	=> array(
											'text' => "Amazon",
											'icon_text' => "",
											'hover_text' => "Amazon",
											'background_color' => "#3b7a57",
											'placeholder'	=> 'Example: https://www.amazon.com/your_store_or_product',
											'class' => "mystickyelement_amazon_icon",
											'tooltip'	=> 'Add your Amazon product link. E.g, <a href="https://www.amazon.com/your_store_or_product" target="_blank">https://www.amazon.com/your_store_or_product</a>',
											'icon_color' => 1
										),
							'reddit'	=> array(
											'text' => "Reddit",
											'icon_text' => "",
											'hover_text' => "Reddit",
											'background_color' => "#FF4301",
											'placeholder'	=> 'Example: https://www.reddit.com/r/your_community',
											'class' => "fab fa-reddit-alien",
											'tooltip'	=> 'Add your Reddit community or profile link. E.g, <a href="https://www.reddit.com/r/your_community" target="_blank">https://www.reddit.com/r/your_community</a>',
											'icon_color' => 1
										),
							'RSS'	=> array(
											'text' => "RSS",
											'icon_text' => "",
											'hover_text' => "RSS",
											'background_color' => "#ee802f",
											'placeholder'	=> 'Example: https://www.example.com/your_rss_feed',
											'class' => "fa fa-rss",
											'tooltip'	=> 'Add your RSS feed link. E.g, <a href="https://www.example.com/your_rss_feed" target="_blank">https://www.example.com/your_rss_feed</a>',
											'icon_color' => 1
										),
							'flickr'	=> array(
											'text' => "Flickr",
											'icon_text' => "",
											'hover_text' => "Flickr",
											'background_color' => "#ff0084",
											'placeholder'	=> 'Example: https://www.flickr.com/photos/your_profile',
											'class' => "mystickyelement_flickr_icon",
											'tooltip'	=> 'Add your full profile link of Flickr E.g, <a href="https://www.flickr.com/photos/your_profile" target="_blank">https://www.flickr.com/photos/your_profile</a>',
											'icon_color' => 1
										),
							'ebay'	=> array(
											'text' => "eBay",
											'icon_text' => "",
											'hover_text' => "eBay",
											'background_color' => "#000000",
											'placeholder'	=> 'Example: https://www.ebay.com/str/your_store',
											'class' => "mystickyelement_ebay_icon",
											'tooltip'	=> 'Add your eBay profile/product link. E.g, <a href="https://www.ebay.com/str/your_store" target="_blank">https://www.ebay.com/str/your_store</a>',
											'icon_color' => 1
										),
							'etsy'	=> array(
											'text' => "Etsy",
											'icon_text' => "",
											'hover_text' => "Etsy",
											'background_color' => "#eb6d20",
											'placeholder'	=> 'Example: https://www.etsy.com/shop/your_shop',
											'class' => "fab fa-etsy",
											'tooltip'	=> 'Add your full shop link of Etsy. E.g, <a href="https://www.etsy.com/shop/your_shop" target="_blank">https://www.etsy.com/shop/your_shop</a>',
											'icon_color' => 1
										),
							'slack'	=> array(
											'text' => "Slack",
											'icon_text' => "",
											'hover_text' => "Slack",
											'background_color' => "#3f0e40",
											'placeholder'	=> 'Example: https://your_workspace.slack.com/',
											'class' => "mystickyelement_slack_icon",
											'tooltip'	=> 'Add your Slack workspace link. E.g, <a href="https://your_workspace.slack.com/" target="">https://your_workspace.slack.com/</a>',
											'icon_color' => 1
										),
							'trip_advisor'	=> array(
											'text' => "Trip Advisor",
											'icon_text' => "",
											'hover_text' => "Trip Advisor",
											'background_color' => "#00af87",
											'placeholder'	=> 'Example: https://www.tripadvisor.com/your_place',
											'class' => "fab fa-tripadvisor",
											'tooltip'	=> 'Add your place link of TripAdvisor E.g, <a href="https://www.tripadvisor.com/your_place" target="_blank">https://www.tripadvisor.com/your_place</a>',
											'icon_color' => 1
										),
							'medium'	=> array(
											'text' => "Medium",
											'icon_text' => "",
											'hover_text' => "Medium",
											'background_color' => "#0000cd",
											'placeholder'	=> 'Example: https://medium.com/your_publication',
											'class' => "fab fa-medium",
											'tooltip'	=> 'Add your full profile link of Medium. E.g, <a href="https://medium.com/your_publication" target="">https://medium.com/your_publication</a>',
											'icon_color' => 1
										),
							'google_play'	=> array(
											'text' => "Google Play",
											'icon_text' => "",
											'hover_text' => "Google Play",
											'background_color' => "#747474",
											'placeholder'	=> 'Example: https://play.google.com/store/apps/details?id=your_app',
											'class' => "mystickyelement_google_play_icon",
											'tooltip'	=> 'Add your Google Play link. E.g, <a href="https://play.google.com/store/apps/details?id=your_app" target="_blank">https://play.google.com/store/apps/details?id=your_app</a>',
											'icon_color' => 1
										),
							'app_store'	=> array(
											'text' => "App Store (apple)",
											'icon_text' => "",
											'hover_text' => "App Store (apple)",
											'background_color' => "#1d77f2",
											'placeholder'	=> 'Example: https://apps.apple.com/app/your_app',
											'class' => "fab fa-app-store",
											'tooltip'	=> 'Add your Apple Appstore link. E.g, <a href="https://apps.apple.com/app/your_app" target="_blank">https://apps.apple.com/app/your_app</a>',
											'icon_color' => 1
										),
							'fiverr'	=> array(
											'text' => "Fiverr",
											'icon_text' => "",
											'hover_text' => "Fiverr",
											'background_color' => "#00b22d",
											'placeholder'	=> 'Example: https://www.fiverr.com/your_profile',
											'class' => "mystickyelement_fiverr_icon",
											'tooltip'	=> 'Add your Fiverr profile link. E.g, <a href="https://www.fiverr.com/your_profile" target="_blank">https://www.fiverr.com/your_profile</a>',
											'icon_color' => 1
										),
							'shopify'	=> array(
											'text' => "Shopify",
											'icon_text' => "",
											'hover_text' => "Shopify",
											'background_color' => "#96BF47",
											'placeholder'	=> 'Example: http://your_storemyshopify.com/',
											'class' => "mystickyelement_shopify_icon",
											'tooltip'	=> 'Add your Shopify store or product link. E.g, <a href="http://your_storemyshopify.com/" target="_blank">http://your_storemyshopify.com/</a>',
											'icon_color' => 1
										),
							'printful'	=> array(
											'text' => "Printful",
											'icon_text' => "",
											'hover_text' => "Printful",
											'background_color' => "#000",
											'placeholder'	=> 'Example: https://www.printful.com/your_prudct',
											'class' => "mystickyelement_printful_icon",
											'tooltip'	=> 'Add your Printful product link. E.g, <a href="https://www.printful.com/your_prudct" target="_blank">https://www.printful.com/your_prudct</a>',
											'icon_color' => 1
										),
							'gumroad'	=> array(
											'text' => "Gumroad",
											'icon_text' => "",
											'hover_text' => "Gumroad",
											'background_color' => "#36a9ae",
											'placeholder'	=> 'Example: https://gumroad.com/your_profile',
											'class' => "mystickyelement_gumroad_icon",
											'tooltip'	=> 'Add your Gumroad product link. E.g, <a href="https://gumroad.com/your_profile" target="_blank">https://gumroad.com/your_profile</a>',
											'icon_color' => 1
										),
							'ok'		=> array(
											'text' => "OK.ru",
											'icon_text' => "",
											'hover_text' => "OK.ru",
											'background_color' => "#F6902C",
											'placeholder'	=> 'Example: https://ok.ru/your_proflie',
											'class' => "fab fa-odnoklassniki",
											'tooltip'	=> 'Add your full profile link of Ok.ru. E.g, <a href="https://ok.ru/your_proflie" target="_blank">https://ok.ru/your_proflie</a>',
											'icon_color' => 1
										),
							
							'custom_one'	=> array(
											'text' => "Custom Link 1",
											'custom_tooltip' => "Custom Link 1",
											'icon_text' => "",
											'hover_text' => "Custom Link 1",
											'background_color' => "#7761DF",
											'placeholder'	=> 'Enter your custom social link',
											'class' => "fas fa-cloud-upload-alt",
											'custom'	=> 1,
											'tooltip'	=> '',
											'icon_color' => 1
										),
							'custom_two'	=> array(
											'text' => "Custom Link 2",
											'custom_tooltip' => "Custom Link 2",
											'hover_text' => "Custom Link 2",
											'background_color' => "#7761DF",
											'placeholder'	=> 'Enter your custom social link',
											'class' => "fas fa-cloud-upload-alt",
											'is_locked'	=> 1,
											'custom'	=> 1,
											'tooltip'	=> '',
											'icon_color' => 1
										),
							'custom_three'	=> array(
											'text' => "Custom Link 3",
											'custom_tooltip' => "Custom Link 3",
											'icon_text' => "",
											'hover_text' => "Custom Link 3",
											'background_color' => "#7761DF",
											'placeholder'	=> 'Enter your custom social link',
											'class' => "fas fa-cloud-upload-alt",
											'is_locked'	=> 1,
											'custom'	=> 1,
											'tooltip'	=> '',
											'icon_color' => 1
										),
							'custom_four'	=> array(
											'text' => "Custom Link 4",
											'custom_tooltip' => "Custom Link 4",
											'icon_text' => "",
											'hover_text' => "Custom Link 4",
											'background_color' => "#7761DF",
											'placeholder'	=> 'Enter your custom social link',
											'class' => "fas fa-cloud-upload-alt",
											'is_locked'	=> 1,
											'custom'	=> 1,
											'tooltip'	=> '',
											'icon_color' => 1
										),
							'custom_five'	=> array(
											'text' => "Custom Link 5",
											'custom_tooltip' => "Custom Link 5",
											'icon_text' => "",
											'hover_text' => "Custom Link 5",
											'background_color' => "#7761DF",
											'placeholder'	=> 'Enter your custom social link',
											'class' => "fas fa-cloud-upload-alt",
											'is_locked'	=> 1,
											'custom'	=> 1,
											'tooltip'	=> '',
											'icon_color' => 1
										),
							'custom_six'	=> array(
											'text' => "Custom Link 6",
											'custom_tooltip' => "Custom Link 6",
											'icon_text' => "",
											'hover_text' => "Custom Link 6",
											'background_color' => "#7761DF",
											'placeholder'	=> 'Enter your custom social link',
											'class' => "fas fa-cloud-upload-alt",
											'is_locked'	=> 1,
											'custom'	=> 1,
											'tooltip'	=> '',
											'icon_color' => 1
										),
							'custom_seven'	=> array(
											'text' => "Custom Shortcode/HTML 1",
											'custom_tooltip' => "Custom Shortcode/HTML 1",
											'icon_text' => "",
											'hover_text' => "Custom Shortcode/HTML 1",
											'background_color' => "#7761DF",
											'placeholder'	=> 'Enter your shortcode or custom IFRAME/HTML code',
											'class' => "fas fa-code",
											'custom'	=> 1,
											'custom_html'	=> 1,
											'tooltip'	=> '',
											'icon_color' => 1
										),
							'custom_eight'	=> array(
											'text' => "Custom Shortcode/HTML 2",
											'custom_tooltip' => "Custom Shortcode/HTML 2",
											'icon_text' => "",
											'hover_text' => "Custom Shortcode/HTML 2",
											'background_color' => "#7761DF",
											'placeholder'	=> 'Enter your shortcode or custom IFRAME/HTML code',
											'class' => "fas fa-code",
											'is_locked'	=> 1,
											'custom'	=> 1,
											'custom_html'	=> 1,
											'icon_color' => 1,
											'tooltip'	=> ''
										),
							'custom_nine'	=> array(
											'text' => "Custom Shortcode/HTML 3",
											'custom_tooltip' => "Custom Shortcode/HTML 3",
											'icon_text' => "",
											'hover_text' => "Custom Shortcode/HTML 3",
											'background_color' => "#7761DF",
											'placeholder'	=> 'Enter your shortcode or custom IFRAME/HTML code',
											'class' => "fas fa-code",
											'is_locked'	=> 1,
											'custom'	=> 1,
											'custom_html'	=> 1,
											'tooltip'	=> '',
											'icon_color' => 1
										),
							'custom_ten'	=> array(
											'text' => "Custom Shortcode/HTML 4",
											'custom_tooltip' => "Custom Shortcode/HTML 4",
											'icon_text' => "",
											'hover_text' => "Custom Shortcode/HTML 4",
											'background_color' => "#7761DF",
											'placeholder'	=> 'Enter your shortcode or custom IFRAME/HTML code',
											'class' => "fas fa-code",
											'is_locked'	=> 1,
											'custom'	=> 1,
											'custom_html'	=> 1,
											'tooltip'	=> '',
											'icon_color' => 1
										),
							'custom_eleven'	=> array(
											'text' => "Custom Shortcode/HTML 5",
											'custom_tooltip' => "Custom Shortcode/HTML 5",
											'icon_text' => "",
											'hover_text' => "Custom Shortcode/HTML 5",
											'background_color' => "#7761DF",
											'placeholder'	=> 'Enter your shortcode or custom IFRAME/HTML code',
											'class' => "fas fa-code",
											'is_locked'	=> 1,
											'custom'	=> 1,
											'custom_html'	=> 1,
											'tooltip'	=> '',
											'icon_color' => 1
										),
							'custom_twelve'	=> array(
											'text' => "Custom Shortcode/HTML 6",
											'custom_tooltip' => "Custom Shortcode/HTML 6",
											'icon_text' => "",
											'hover_text' => "Custom Shortcode/HTML 6",
											'background_color' => "#7761DF",
											'placeholder'	=> 'Enter your shortcode or custom IFRAME/HTML code',
											'class' => "fas fa-code",
											'is_locked'	=> 1,
											'custom'	=> 1,
											'custom_html'	=> 1,
											'tooltip'	=> '',
											'icon_color' => 1
										),
						);

		return apply_filters( 'mystickyelements_social_channels_info',  $social_channels);
	}
}
if ( !function_exists('mystickyelements_custom_social_channels')) {
	
	function mystickyelements_custom_social_channels(){
		$social_channels = array(
								'custom_channel' => array(
												'text' => "Custom Link",
												'custom_tooltip' => "Custom Link",
												'icon_text' => "",
												'hover_text' => "Custom Link",
												'background_color' => "#7761DF",
												'placeholder'	=> 'Enter your custom social link',
												'class' => "fas fa-cloud-upload-alt",
												'is_locked'	=> 0,
												'custom'	=> 1,
												'tooltip'	=> '',
												'icon_color' => 1
											),
								'custom_shortcode' => array(
												'text' => "Custom Shortcode/HTML",
												'custom_tooltip' => "Custom Shortcode/HTML",
												'icon_text' => "",
												'hover_text' => "Custom Shortcode/HTML",
												'background_color' => "#7761DF",
												'placeholder'	=> 'Enter your shortcode or custom IFRAME/HTML code',
												'class' => "fas fa-code",
												'custom'	=> 1,
												'custom_html'	=> 1,
												'tooltip'	=> '',
												'icon_color' => 1
											),
											
							);
		return $social_channels;
	}

}

add_action( 'admin_init' , 'mystickyelements_pro_admin_init' );
function mystickyelements_pro_admin_init() {
	global $wpdb, $pagenow;
	
	if ( $pagenow == 'plugins.php'  || ( isset($_GET['page']) && $_GET['page'] == 'my-sticky-elements' ) ) {
		/* add Contact Option field */
		$field_check = $wpdb->get_var( "SHOW COLUMNS FROM {$wpdb->prefix}mystickyelement_contact_lists LIKE 'contact_option'" );
		if ( 'contact_option' != $field_check ) {
			$wpdb->query( "ALTER TABLE {$wpdb->prefix}mystickyelement_contact_lists ADD contact_option VARCHAR(255) NULL DEFAULT NULL" );
		}
		
		/* add Contact Message date field */
		$field_check = $wpdb->get_var( "SHOW COLUMNS FROM {$wpdb->prefix}mystickyelement_contact_lists LIKE 'message_date'" );	
		if ( 'message_date' != $field_check ) {
			$wpdb->query( "ALTER TABLE {$wpdb->prefix}mystickyelement_contact_lists ADD message_date DATETIME NOT NULL default '0000-00-00 00:00:00'" );
		}
		
		/* add Contact Widget Name field */
		$field_check = $wpdb->get_var( "SHOW COLUMNS FROM {$wpdb->prefix}mystickyelement_contact_lists LIKE 'widget_element_name'" );	
		if ( 'widget_element_name' != $field_check ) {
			$wpdb->query( "ALTER TABLE {$wpdb->prefix}mystickyelement_contact_lists ADD widget_element_name VARCHAR(255) NULL DEFAULT 'default'" );
		}
		
		/* add Contact Custom Fields field */
		$field_check = $wpdb->get_var( "SHOW COLUMNS FROM {$wpdb->prefix}mystickyelement_contact_lists LIKE 'custom_fields'" );	
		if ( 'custom_fields' != $field_check ) {
			$wpdb->query( "ALTER TABLE {$wpdb->prefix}mystickyelement_contact_lists ADD custom_fields longtext" );
		}
		
		/* add Page Link field */
		$field_check = $wpdb->get_var( "SHOW COLUMNS FROM {$wpdb->prefix}mystickyelement_contact_lists LIKE 'page_link'" );
		if ( 'page_link' != $field_check ) {
			$wpdb->query( "ALTER TABLE {$wpdb->prefix}mystickyelement_contact_lists ADD page_link TEXT NULL DEFAULT NULL" );
		}
		
		/* add consent checkbox */
		$field_check = $wpdb->get_var( "SHOW COLUMNS FROM {$wpdb->prefix}mystickyelement_contact_lists LIKE 'consent_checkbox'" );
		if ( 'consent_checkbox' != $field_check ) {
			$wpdb->query( "ALTER TABLE {$wpdb->prefix}mystickyelement_contact_lists ADD consent_checkbox BOOLEAN NULL DEFAULT false" );
		}
		/* add IP Address*/
		$field_check = $wpdb->get_var( "SHOW COLUMNS FROM {$wpdb->prefix}mystickyelement_contact_lists LIKE 'ip_address'" );
		if ( 'ip_address' != $field_check ) {
			$wpdb->query( "ALTER TABLE {$wpdb->prefix}mystickyelement_contact_lists ADD ip_address TEXT NULL DEFAULT NULL" );
		}
	}
}

/* Get The Default fields */
function mystickyelements_pro_widget_default_fields ( $mystickyelements_option ) {
	
	if ( $mystickyelements_option == '') {
		return array();
	}
	if ( $mystickyelements_option == 'contact_form' ) {
		return array(
						'enable' 		=> 1,
						'name' 			=> 1,
						'name_require' 	=> '',
						'name_value' 	=> '',
						'phone' 		=> 1,
						'phone_require' => 1,
						'phone_value' 	=> '',
						'email' 		=> 1,
						'email_require' => 1,
						'email_value' 	=> '',
						'message' 		=> 1,
						'message_value' => '',
						'dropdown'		=> '',
						'dropdown_require' => '',
						'submit_button_background_color'=> '#7761DF',
						'submit_button_text_color' 		=> '#FFFFFF',
						'submit_button_text' 	=> 'Submit',
						'desktop' 	=> 1,
						'mobile' 	=> 1,
						'direction' 	=> 'LTR',
						'tab_background_color' 	=> '#7761DF',
						'tab_text_color' 		=> '#FFFFFF',
						'headine_text_color' 	=> '#7761DF',
						'text_in_tab' 			=> 'Contact Us',
						'thank_you_message' 	=> 'Your message was sent successfully',
						'send_leads' 			=> 'database',
						'email_subject_line' 	=> 'New lead from MyStickyElements from {name} on {date} {hour}',
						'sent_to_mail' 			=> '',
						'form_css' 				=> '' ,
					);
	}
	
	if ( $mystickyelements_option == 'social_channels' ) {
		return array(
							'enable' 			=> 1,
							'whatsapp' 			=> 1,
							//'facebook_messenger'=> 1,
						);
	}
	if ( $mystickyelements_option == 'social_channels_tabs' ) {
		$social_channels_tabs['whatsapp'] = array(
												'text' => "",
												'hover_text' => "WhatsApp",
												'bg_color' => "#26D367",
												'desktop' => 1,
												'mobile' => 1,
											);
		/*
		$social_channels_tabs['facebook_messenger'] = array(
													'text' => "",
													'hover_text' => "Facebook Messenger",
													'bg_color' => "#007FF7",
													'desktop' => 1,
													'mobile' => 1,
												);
		*/
		return $social_channels_tabs;
	}
	
	
	if ( $mystickyelements_option == 'general_settings' ) {
		return array(
							'position' 			=> 'left',
							'position_mobile' 	=> 'left',
							'open_tabs_when' 	=> 'hover',
							'mobile_behavior' 	=> 'disable',
							'flyout' 			=> 'disable',
							'custom_position' 	=> '',
							'tabs_css' 			=> '',
							'minimize_tab'		=> '1',
							'on_load_when'		=> 'open',
							'minimize_tab_background_color'	=> '#000000',
							'page_settings'     => '',
						);
	}	
			
}

require_once MYSTICKYELEMENTS_PRO_PATH . 'mystickyelements-fonts.php';
require_once MYSTICKYELEMENTS_PRO_PATH . 'mystickyelements-fontawesome-icons.php';
require_once MYSTICKYELEMENTS_PRO_PATH . 'mystickyelements-admin.php';
require_once MYSTICKYELEMENTS_PRO_PATH . 'mystickyelements-front.php';


function myStickyelements_get_mailchimp_groups( $list_id ) {
	global $wp_version;
	$mailchimp_groups = array();
	$apikey = get_option( 'elements_mc_api_key' );
	$dataCenter = substr($apikey,strpos($apikey,'-')+1);
	$url = 'https://'.$dataCenter.'.api.mailchimp.com/3.0/lists/'.$list_id . '/interest-categories';


	$headers = array(
		'Authorization' => 'Basic ' . base64_encode('user:'.$apikey),
	);
	$args = array(
		'method' 		=> 'GET',
		'timeout' 		=> 45,
		'redirection' 	=> 5,
		'httpversion' 	=> '1.0',
		'blocking' 		=> true,
		'user-agent'  	=> 'WordPress/' . $wp_version . '; ' . home_url(),
		'headers'     	=> $headers,
		'body'		  	=> array(),
		'cookies' 		=> array(),
		'sslverify'		=> true,
	);

	$response = wp_remote_get( $url, $args );
	$api_response_body = json_decode( wp_remote_retrieve_body( $response ), true );
	if ( isset($api_response_body['categories']) && !empty($api_response_body['categories'])) {
		foreach( $api_response_body['categories'] as $categories ) {

			$url = 'https://'.$dataCenter.'.api.mailchimp.com/3.0/lists/'.$list_id . '/interest-categories/'. $categories['id'] . '/interests';

			$response = wp_remote_get( $url, $args );
			$api_response_body = json_decode( wp_remote_retrieve_body( $response ), true );

			if ( isset($api_response_body['interests']) && !empty($api_response_body['interests']) ) {

				foreach( $api_response_body['interests'] as $interests ) {
					$mailchimp_groups[$categories['title']][] = [
											'id'	=> $interests['id'],
											'name'	=> $interests['name']
										];
				}
			}

		}

	}
	return $mailchimp_groups;
}


function myStickyelements_merge_and_format_member_tags($mailchimp_tags, $new_tags) {
	$mailchimp_tags = array_map(
		function ( $tag ) {
			return $tag->name;
		},
		$mailchimp_tags
	);

	$tags = array_unique( array_merge( $mailchimp_tags, $new_tags ), SORT_REGULAR );

	return array_map(
		function ( $tag ) {
			return array(
			'name' => $tag,
			'status' => 'active',
			);
		},
		$tags
	);
}

function mystickyelements_get_mailchimp_lists_fields( $list_id ) {
	global $wp_version;
	$mailchimp_groups = array();
	$apikey = get_option( 'elements_mc_api_key' );
	$dataCenter = substr($apikey,strpos($apikey,'-')+1);	
	$url = 'https://' . $dataCenter . '.api.mailchimp.com/3.0/lists/' . $list_id . '/merge-fields?count=999';

	$headers = array(
		'Authorization' => 'Basic ' . base64_encode('user:'.$apikey),		
	);
	$args = array(
		'method' 		=> 'GET',
		'timeout' 		=> 45,
		'redirection' 	=> 5,
		'httpversion' 	=> '1.0',
		'blocking' 		=> true,
		'user-agent'  	=> 'WordPress/' . $wp_version . '; ' . home_url(),
		'headers'     	=> $headers,		
		'cookies' 		=> array(),
		'sslverify'		=> true,
	);
	
	$response = wp_remote_get( $url, $args );
	$api_response_body = json_decode( wp_remote_retrieve_body( $response ), true );	
	$skip_fields = ['FNAME','MESSAGE'];
	$fields = [];
	$types = [
		'text' => 'text',
		'number' => 'number',
		'address' => 'text',
		'phone' => 'text',
		'date' => 'text',
		'url' => 'url',
		'imageurl' => 'url',
		'radio' => 'radio',
		'dropdown' => 'select',
		'birthday' => 'text',
		'zip' => 'text',
	];
	
	if ( ! empty( $api_response_body['merge_fields'] ) ) {
		foreach ( $api_response_body['merge_fields'] as $field ) {
			if( !in_array( $field['tag'], $skip_fields )) {
				$fields[] = [
					'field_label' 	=> $field['name'],
					'field_type' 	=> $types[ $field['type'] ],
					'field_id' 		=> $field['tag'],
					'field_required'=> $field['required'],
				];
			}
		}
	}
	
	return $fields;
}

--- END FILE ---

--- FILE: mystickyelements-admin.php ---
<?php

defined('ABSPATH') or die("Cannot access pages directly.");

if ( !class_exists('MyStickyElementsPage_pro') ) {
	class MyStickyElementsPage_pro {
		public function __construct() {
			add_action( 'plugins_loaded', array( $this, 'mystickyelements_load_plugin_textdomain' ) );
			add_action( 'admin_enqueue_scripts',  array( $this, 'mystickyelements_admin_enqueue_script' ), 99 );
			add_action( 'admin_menu', array( $this, 'add_mystickyelement_plugin_page' ) );
			add_action( 'wp_ajax_mystickyelement-social-tab', array( $this, 'mystickyelement_social_tab_add' ) );
			add_action( 'wp_ajax_mystickyelement-mailchimp-field', array( $this, 'mystickyelement_mailchimp_field' ) );
			add_action( 'wp_ajax_mystickyelement-mailchimp-group', array( $this, 'mystickyelement_mailchimp_group' ) );
			add_action( 'wp_ajax_mystickyelement_delete_db_record', array( $this, 'mystickyelement_delete_db_record' ) );
			add_action( 'wp_ajax_mystickyelement_widget_status', array( $this, 'mystickyelement_widget_status' ) );
			
			add_action( 'wp_ajax_mystickyelement_widget_rename', array( $this, 'mystickyelement_widget_rename' ) );
			add_action( 'wp_ajax_mystickyelement_widget_delete', array( $this, 'mystickyelement_widget_delete' ) );

			add_action( 'admin_footer', array( $this, 'mystickyelements_deactivate' ) );
			/* Send message to owner */
			add_action( 'wp_ajax_mystickyelements_plugin_deactivate', array( $this, 'mystickyelements_plugin_deactivate' ) );
			add_filter( 'plugin_action_links_mystickyelements-pro/mystickyelements.php', array( $this, 'settings_link' )  );
			add_action( 'wp_ajax_my_sticky_elements_bulks', array( $this, 'my_sticky_elements_bulks' ) );
			
			/* Send message to owner */
			add_action( 'wp_ajax_mystickyelements_admin_send_message_to_owner', array( $this, 'mystickyelements_admin_send_message_to_owner' ) );
		}
		public function settings_link( $links ) {
			$settings_link = '<a href="'.admin_url("admin.php?page=my-sticky-elements").'">Settings</a>';
			$links['need_help'] = '<a href="https://premio.io/help/mystickyelements/?utm_source=pluginspage" target="_blank">'.__( 'Need help?', 'mystickyelements' ).'</a>';
			array_unshift( $links, $settings_link );
			return $links;
		}
		/*
		 * Load Plugin text domain.
		 */

		public function mystickyelements_load_plugin_textdomain() {
			load_plugin_textdomain('mystickyelements', FALSE, dirname(plugin_basename(__FILE__)).'/languages/');
		}

		/*
		 * enqueue admin side script and style.
		 */
		public  function mystickyelements_admin_enqueue_script( ) {
			if ( isset($_GET['page']) && ( $_GET['page'] == 'my-sticky-elements'
					|| $_GET['page'] == 'my-sticky-elements-new-widget'
					|| $_GET['page'] == 'my-sticky-elements-leads'
					|| $_GET['page'] == 'my-sticky-elements-integration'  
					|| $_GET['page'] == 'recommended-plugins') ) {
				wp_enqueue_style('google-fonts', 'https://fonts.googleapis.com/css?family=Poppins:400,500,600,700' );
				wp_enqueue_style( 'font-awesome-css', plugins_url('/css/font-awesome.min.css', __FILE__), array(), PRO_MY_STICKY_ELEMENT_VERSION ) ;
				wp_enqueue_style( 'jquery-ui-css', plugins_url('/css/jquery-ui.min.css', __FILE__), array(), PRO_MY_STICKY_ELEMENT_VERSION ) ;
				wp_enqueue_style( 'wp-color-picker' );
				wp_enqueue_style('mystickyelements-admin-css', plugins_url('/css/mystickyelements-admin.css', __FILE__), array(), PRO_MY_STICKY_ELEMENT_VERSION);
				wp_style_add_data( 'mystickyelements-admin-css', 'rtl', 'replace' );
				wp_enqueue_style('select2-css', plugins_url('/css/select2.min.css', __FILE__), array(), PRO_MY_STICKY_ELEMENT_VERSION);
				wp_enqueue_style('mystickyelements-front-css', plugins_url('/css/mystickyelements-front.css', __FILE__), array(), PRO_MY_STICKY_ELEMENT_VERSION);
				wp_enqueue_style('mystickyelements-help-css', plugins_url('/css/mystickyelements-help.css', __FILE__), array(), PRO_MY_STICKY_ELEMENT_VERSION);
                wp_style_add_data('mystickyelements-help-css', 'rtl', 'replace');
				wp_enqueue_style( 'wp-jquery-ui-dialog' );
				wp_enqueue_script( 'jquery-ui-dialog' );
				wp_enqueue_script( 'wp-color-picker');
				wp_enqueue_script( 'jquery-ui-sortable');
				wp_enqueue_script( 'jquery-effects-shake');
				wp_enqueue_media();
				// include the javascript
				wp_enqueue_script('thickbox', null, array('jquery'));

				// include the thickbox styles
				wp_enqueue_style('thickbox.css', '/'.WPINC.'/js/thickbox/thickbox.css', null, '1.0');
				
				wp_enqueue_script('plugin-install', admin_url('/js/plugin-install.min', __FILE__), array( 'jquery' ), PRO_MY_STICKY_ELEMENT_VERSION, false ) ;
				
				wp_enqueue_script('select2-js', plugins_url('/js/select2.min.js', __FILE__), array( 'jquery' ), PRO_MY_STICKY_ELEMENT_VERSION, false ) ;
				
				wp_enqueue_script('timepicker-js', plugins_url('/js/timepicker.min.js', __FILE__), array( 'jquery' ), PRO_MY_STICKY_ELEMENT_VERSION, false ) ;
				
				wp_enqueue_script('confetti-js', plugins_url('/js/confetti.min.js', __FILE__), array( 'jquery' ), PRO_MY_STICKY_ELEMENT_VERSION, false ) ;
				wp_enqueue_script('mystickyelements-js', plugins_url('/js/mystickyelements-admin.js', __FILE__), array( 'jquery' ), PRO_MY_STICKY_ELEMENT_VERSION, false ) ;
				
				$locale_settings = array(
					'ajaxurl' => admin_url('admin-ajax.php'),
					'mystickyelement_pro_url' => MYSTICKYELEMENTS_PRO_URL,
					'ajax_nonce' => wp_create_nonce('mystickyelements'),					
				);
				wp_localize_script('mystickyelements-js', 'mystickyelements', $locale_settings);			
			}
		}

		

		/*
		 * Add My Sticky Element Page in admin menu.
		 */
		public function add_mystickyelement_plugin_page() {
			if ( isset($_GET['hide_mserecommended_plugin']) && $_GET['hide_mserecommended_plugin'] == 1) {
				update_option('hide_mserecommended_plugin',true);				
			}
			$hide_mserecommended_plugin = get_option('hide_mserecommended_plugin');			
			$default_widget = '';
			$default_widget_name = 'Dashboard';
			add_menu_page(
				'Settings Admin',
				'myStickyelements',
				'manage_options',
				'my-sticky-elements',
				array( $this, 'mystickyelements_admin_settings_page' ),
				'dashicons-sticky'
			);

			add_submenu_page(
				'my-sticky-elements',
				'Settings Admin',
				$default_widget_name,
				'manage_options',
				'my-sticky-elements' . $default_widget,
				array( $this, 'mystickyelements_admin_settings_page' )
			);

			/* Date: 2019-07-26 */
			/*
			if ( !empty($elements_widgets) && $elements_widgets != '' ) {
				foreach( $elements_widgets as $key=>$value ) {
					if ( $key != 0 ) {
						$widget_name = ( $value != '' ) ? "Settings " . $value : 'Settings Widget #' . $key;
						add_submenu_page(
							'my-sticky-elements',
							'Settings Admin',
							$widget_name,
							'manage_options',
							'my-sticky-elements&widget=' . $key,
							array( $this, 'mystickyelements_admin_settings_page' )
						);
					}
				}
			}
			*/
						
			$license_data = MyStickyElementLicense::get_license_data();
			$is_pro_active = 0;
			if(!empty($license_data)) {
				if($license_data['license'] == "expired" || $license_data['license'] == "valid") {
					$is_pro_active = 1;
				}
			}
			if ( $is_pro_active == 1 ) {
				add_submenu_page(
					'my-sticky-elements',
					'Settings Admin',
					'+ Create New Widget',
					'manage_options',
					'my-sticky-elements-new-widget',
					array( $this, 'mystickyelements_admin_settings_page' )
				);
			} else {
				add_submenu_page(
					'my-sticky-elements',
					'Settings Admin',
					'+ Create New Widget',
					'manage_options',
					'my-sticky-elements-new-widget',
					array( $this, 'mystickyelements_admin_new_widget_page' )
				);
			}
			
			/* Date: 2019-07-26*/
			
			add_submenu_page(
				'my-sticky-elements',
				'Settings Admin',
				'Integrations',
				'manage_options',
				'my-sticky-elements-integration',
				array( $this, 'mystickyelements_admin_integration_page' )
			);

			add_submenu_page(
				'my-sticky-elements',
				'Settings Admin',
				'Contact Form Leads',
				'manage_options',
				'my-sticky-elements-leads',
				array( $this, 'mystickyelements_admin_leads_page' )
			);
			if ( !$hide_mserecommended_plugin){
				add_submenu_page(
					'my-sticky-elements',
					'Recommended Plugins',
					'Recommended Plugins',
					'manage_options',
					'recommended-plugins',
					array( $this, 'mystickyelements_recommended_plugins' )
				);
			}
			
			add_submenu_page(
				'my-sticky-elements',
				'License Key',
				'License Key',
				'manage_options',
				'my-sticky-license-key',
				array( $this, 'mystickyelements_admin_license_key' )
			);
		}
		public function mystickyelements_recommended_plugins(){
			include_once 'recommended-plugins.php';
		}
		public function mystickyelements_admin_license_key() {
            delete_transient("MSE_license_key_data");
			$license_data = MyStickyElementLicense::get_license_data();
			include_once 'license-key.php';
		}

		public static function sanitize_options($value, $type = "") {
			$value = stripslashes($value);
			if($type == "int") {
				$value = filter_var($value, FILTER_SANITIZE_NUMBER_INT);
			} else if($type == "email") {
				$value = sanitize_email($value);
			} else if($type == "url") {
				$value = esc_url_raw($value);
			} else if($type == "sql") {
				$value = esc_sql($value);
			} else {
				$value = sanitize_text_field($value);
			}
			return $value;
		}
		
		public function mystickyelement_widget_delete(){
			
			if ( ! current_user_can( 'manage_options' ) ) {
				wp_die(0); 
			}
			check_ajax_referer( 'mystickyelements', 'wpnonce' );
			
			if ( isset($_POST['widget_id']) && $_POST['widget_id'] != '' && isset($_POST['widget_delete']) && $_POST['widget_delete'] == 1  ) {
				$elements_widgets = get_option( 'mystickyelements-widgets' );
				$stickyelements_widgets_status = get_option('stickyelements_widgets');
				$mystickyelements_widget = self::sanitize_options($_POST['widget_id']);
				unset( $elements_widgets[$mystickyelements_widget] );
				unset( $stickyelements_widgets_status[$mystickyelements_widget] );
				$element_widget_no = '';
				if ( $mystickyelements_widget != 0 ) {
					$element_widget_no = '-' . $mystickyelements_widget;
				}
				delete_option( 'mystickyelements-contact-field' . $element_widget_no );
				delete_option( 'mystickyelements-contact-form' . $element_widget_no );
				delete_option( 'mystickyelements-social-channels' . $element_widget_no );
				delete_option( 'mystickyelements-social-channels-tabs' . $element_widget_no );
				delete_option( 'mystickyelements-general-settings' . $element_widget_no );
				update_option( 'mystickyelements-widgets', $elements_widgets );
				update_option( 'stickyelements_widgets', $stickyelements_widgets_status );
				
			}
			wp_die();
		}

		/*
		 * My Sticky Elements Settings Page
		 *
		 */
		

		public function mystickyelements_admin_settings_page() {
			global $wpdb;
			$elements_widgets = get_option( 'mystickyelements-widgets' );
			$widget_available = 1;
			$widget_tab_index = 'mystickyelements-contact-form';
			
			if( isset( $elements_widgets ) &&  empty($elements_widgets)){
				$widget_available = 0;
			}

			
			/* Delete Sticky Element Widget */
			if ( isset($_POST['mystickyelement-submit-delete']) && !wp_verify_nonce( $_POST['mystickyelement-submit-delete'], 'mystickyelement-submit-delete' ) ) {
				echo '<div class="error settings-error notice is-dismissible "><p><strong>' . esc_html__('Unable to complete your request','mystickyelements'). '</p></strong></div>';
			} else if (  isset($_POST['action']) && $_POST['action'] == 'delete' && wp_verify_nonce( $_POST['mystickyelement-submit-delete'], 'mystickyelement-submit-delete' ) ) {
				$mystickyelements_widget = self::sanitize_options($_POST['mystickyelements-no-widget']);
				unset( $elements_widgets[$mystickyelements_widget] );
				$element_widget_no = '-' . $mystickyelements_widget;
				delete_option( 'mystickyelements-contact-field' . $element_widget_no );
				delete_option( 'mystickyelements-contact-form' . $element_widget_no );
				delete_option( 'mystickyelements-social-channels' . $element_widget_no );
				delete_option( 'mystickyelements-social-channels-tabs' . $element_widget_no );
				delete_option( 'mystickyelements-general-settings' . $element_widget_no );
				update_option( 'mystickyelements-widgets', $elements_widgets );
				?>
				<script>
				window.location.href = <?php echo "'".admin_url("admin.php?page=my-sticky-elements") . "'";?>;
				</script>
				<?php
			}
			
			
			
			if ( isset($_POST['mystickyelement-submit']) && !wp_verify_nonce( $_POST['mystickyelement-submit'], 'mystickyelement-submit' ) ) {
				echo '<div class="error settings-error notice is-dismissible "><p><strong>' . esc_html__('Unable to complete your request','mystickyelements'). '</p></strong></div>';
			} else if (  isset($_POST['general-settings']) && !empty($_POST['general-settings']) && wp_verify_nonce( $_POST['mystickyelement-submit'], 'mystickyelement-submit' ) ) {
				
				/*  Date: 2019-07-26*/
				/* Save/Update Contact Form tab */

				$widget_tab_index = ( isset($_POST['hide_tab_index']) && $_POST['hide_tab_index'] != '' ) ? $_POST['hide_tab_index'] : 'mystickyelements-contact-form';

				if ( $elements_widgets == '' || empty($elements_widgets)) {
					//$elements_widgets[] = 'default';
					if (isset($_POST['mystickyelements-widget']) && $_POST['mystickyelements-widget']!='' ) {
						$mystickyelements_no_widget = $_POST['mystickyelements-no-widget'];
						$mystickyelements_widget = self::sanitize_options($_POST['mystickyelements-widget']);
						$elements_widgets[$mystickyelements_no_widget] = $mystickyelements_widget;
					}
					update_option( 'mystickyelements-widgets', $elements_widgets );
				} else {
					$elements_widgets = get_option( 'mystickyelements-widgets' );
					if (isset($_POST['mystickyelements-no-widget']) && $_POST['mystickyelements-no-widget'] !='' ) {
						$mystickyelements_no_widget = $_POST['mystickyelements-no-widget'];
						$mystickyelements_widget = self::sanitize_options($_POST['mystickyelements-widget']);
						$elements_widgets[$mystickyelements_no_widget] = $mystickyelements_widget;
					}
					update_option( 'mystickyelements-widgets', $elements_widgets );
				}
				$elements_widgets = get_option( 'mystickyelements-widgets' );
				$element_widget_no = '';
				if (isset($_POST['mystickyelements-no-widget']) && ( $_POST['mystickyelements-no-widget'] !='' && $_POST['mystickyelements-no-widget'] !='0' ) ) {
					$element_widget_no = '-' . $mystickyelements_no_widget;
				}
				
				/* End Code Date: 2019-07-26 */

				$contact_field = filter_var_array( $_POST['contact-field'], FILTER_SANITIZE_STRING );
				
				
				update_option('mystickyelements-contact-field' . $element_widget_no, $contact_field);
				$post = array();
				if(isset($_POST['contact-form'])) {
					$contact = $_POST['contact-form'];
					
					if(isset($contact['enable'])) {
						$post['enable'] = self::sanitize_options($contact['enable'], "int");
					}

					if(isset($contact['name'])) {
						$post['name'] = self::sanitize_options($contact['name'], "int");
					}

					if(isset($contact['name_require'])) {
						$post['name_require'] = self::sanitize_options($contact['name_require'], "int");
					}

					if(isset($contact['name_value'])) {
						$post['name_value'] = self::sanitize_options($contact['name_value']);
					}

					if(isset($contact['phone'])) {
						$post['phone'] = self::sanitize_options($contact['phone'], "int");
					}

					if(isset($contact['phone_require'])) {
						$post['phone_require'] = self::sanitize_options($contact['phone_require'], "int");
					}

					if(isset($contact['phone_formate'])) {
						$post['phone_formate'] = self::sanitize_options($contact['phone_formate'], "int");
					}

					if(isset($contact['phone_value'])) {
						$post['phone_value'] = self::sanitize_options($contact['phone_value']);
					}

					if(isset($contact['email'])) {
						$post['email'] = self::sanitize_options($contact['email'], "int");
					}

					if(isset($contact['email_require'])) {
						$post['email_require'] = self::sanitize_options($contact['email_require'], "int");
					}

					if(isset($contact['email_value'])) {
						$post['email_value'] = self::sanitize_options($contact['email_value']);
					}

					if(isset($contact['message'])) {
						$post['message'] = self::sanitize_options($contact['message'], "int");
					}

					if(isset($contact['message_require'])) {
						$post['message_require'] = self::sanitize_options($contact['message_require'], "int");
					}

					if(isset($contact['message_value'])) {
						$post['message_value'] = self::sanitize_options($contact['message_value']);
					}

					if(isset($contact['dropdown'])) {
						$post['dropdown'] = self::sanitize_options($contact['dropdown'], "int");
					}

					if(isset($contact['dropdown_require'])) {
						$post['dropdown_require'] = self::sanitize_options($contact['dropdown_require'], "int");
					}
					
					if(isset($contact['consent_text_require'])) {
						$post['consent_text_require'] = self::sanitize_options($contact['consent_text_require'], "int");
					}

					if(isset($contact['consent_text'])) {
						$post['consent_text'] = self::sanitize_options($contact['consent_text']);
					}

					if(isset($contact['submit_button_background_color'])) {
						$post['submit_button_background_color'] = self::sanitize_options($contact['submit_button_background_color']);
					}

					if(isset($contact['submit_button_text_color'])) {
						$post['submit_button_text_color'] = self::sanitize_options($contact['submit_button_text_color']);
					}

					if(isset($contact['submit_button_text'])) {
						$post['submit_button_text'] = self::sanitize_options($contact['submit_button_text']);
					}

					if(isset($contact['tab_background_color'])) {
						$post['tab_background_color'] = self::sanitize_options($contact['tab_background_color']);
					}

					if(isset($contact['tab_text_color'])) {
						$post['tab_text_color'] = self::sanitize_options($contact['tab_text_color']);
					}
					if(isset($contact['form_bg_color'])) {
						$post['form_bg_color'] = self::sanitize_options($contact['form_bg_color']);
					}
					if(isset($contact['headine_text_color'])) {
						$post['headine_text_color'] = self::sanitize_options($contact['headine_text_color']);
					}

					if(isset($contact['text_in_tab'])) {
						$post['text_in_tab'] = self::sanitize_options($contact['text_in_tab']);
					}

					if(isset($contact['contact_title_text'])) {
						$post['contact_title_text'] = self::sanitize_options($contact['contact_title_text']);
					}

					if(isset($contact['thank_you_message'])) {
						$post['thank_you_message'] = self::sanitize_options($contact['thank_you_message']);
					}
					
					if(isset($contact['close_form_automatic'])) {						
						$post['close_form_automatic'] = self::sanitize_options($contact['close_form_automatic'], "int");
					}
					
					if(isset($contact['close_after'])) {						
						$post['close_after'] = self::sanitize_options($contact['close_after'], "int");
					}

					if(isset($contact['send_leads'])) {
						$post['send_leads'] = filter_var_array( $contact['send_leads'], FILTER_SANITIZE_STRING );
					}

					if(isset($contact['sent_to_mail'])) {
						$post['sent_to_mail'] = self::sanitize_options($contact['sent_to_mail']);
					}
					if(isset($contact['sent_to_bcc'])) {
						$post['sent_to_bcc'] = self::sanitize_options($contact['sent_to_bcc']);
					}
					if(isset($contact['sent_to_cc'])) {
						$post['sent_to_cc'] = self::sanitize_options($contact['sent_to_cc']);
					}
					if(isset($contact['sender_name'])) {
						$post['sender_name'] = self::sanitize_options($contact['sender_name']);
					}
					if(isset($contact['email_subject_line'])) {
						$post['email_subject_line'] = self::sanitize_options($contact['email_subject_line']);
					}

					if(isset($contact['direction'])) {
						$post['direction'] = self::sanitize_options($contact['direction']);
					}

					if(isset($contact['direction'])) {
						$post['direction'] = self::sanitize_options($contact['direction']);
					}

					if(isset($contact['desktop'])) {
						$post['desktop'] = self::sanitize_options($contact['desktop'], "int");
					}

					if(isset($contact['mobile'])) {
						$post['mobile'] = self::sanitize_options($contact['mobile'], "int");
					}

					if(isset($contact['form_css'])) {
						$post['form_css'] = self::sanitize_options($contact['form_css']);
					}
					if(isset($contact['dropdown-placeholder'])) {
						$post['dropdown-placeholder'] = self::sanitize_options($contact['dropdown-placeholder']);
					}
					if(isset($contact['dropdown-option'])) {
						$post['dropdown-option'] = filter_var_array( $contact['dropdown-option'], FILTER_SANITIZE_STRING );
					}
					if(isset($contact['redirect'])) {
						$post['redirect'] = self::sanitize_options($contact['redirect'], "int");
					}
					if(isset($contact['redirect_link'])) {
						$post['redirect_link'] = self::sanitize_options($contact['redirect_link']);
					}
					if(isset($contact['open_new_tab'])) {
						$post['open_new_tab'] = self::sanitize_options($contact['open_new_tab'], "int");
					}

					if(isset($contact['custom_fields'])) {
						$post['custom_fields'] = filter_var_array( $contact['custom_fields'], FILTER_SANITIZE_STRING );
					}

					if(isset($contact['consent_checkbox'])) {
						$post['consent_checkbox'] = self::sanitize_options( $contact['consent_checkbox']);
					}
					
					if(isset($contact['consent_text'])) {
						$post['consent_text'] = $contact['consent_text'];
					}
					
					if(isset($contact['iplog'])) {
						$post['iplog'] = self::sanitize_options( $contact['iplog']);
					}
					
					if(isset($contact['iplog_checkbox'])) {
						$post['iplog_checkbox'] = self::sanitize_options( $contact['iplog_checkbox']);
					}
					
					if(isset($contact['recaptcha'])) {
						$post['recaptcha'] = self::sanitize_options( $contact['recaptcha']);
					}
					
					if(isset($contact['recaptcha_type'])) {
						$post['recaptcha_type'] = self::sanitize_options( $contact['recaptcha_type']);
					}
					
					if(isset($contact['recaptcha_checkbox'])) {
						$post['recaptcha_checkbox'] = self::sanitize_options( $contact['recaptcha_checkbox']);
					}
					
					if(isset($contact['invisible_recaptcha_checkbox'])) {
						$post['invisible_recaptcha_checkbox'] = self::sanitize_options( $contact['invisible_recaptcha_checkbox']);
					}
					
					if(isset($contact['recaptcha_site_key'])) {
						$post['recaptcha_site_key'] = self::sanitize_options($contact['recaptcha_site_key']);
					}
					
					if(isset($contact['recaptcha_secrete_key'])) {
						$post['recaptcha_secrete_key'] = self::sanitize_options($contact['recaptcha_secrete_key']);
					}
					
					if(isset($contact['textblock'])) {
						$post['textblock'] = self::sanitize_options( $contact['textblock']);
					}
					
					if(isset($contact['textblock_checkbox'])) {
						$post['textblock_checkbox'] = self::sanitize_options( $contact['textblock_checkbox']);
					}
					
					if(isset($contact['textblock_text'])) {
						$post['textblock_text'] = $contact['textblock_text'];
					}
					
					if(isset($contact['mailpoet_list'])) {
						$post['mailpoet_list'] = self::sanitize_options($contact['mailpoet_list']);
					}
					if(isset($contact['mailchimp_list'])) {
						$post['mailchimp_list'] = self::sanitize_options($contact['mailchimp_list']);
					}
					
					if(isset($contact['mailchimp_enable_tag'])) {
						$post['mailchimp_enable_tag'] = $contact['mailchimp_enable_tag'];
					} else {
						$post['mailchimp_enable_tag'] = '';
					}
					
					if(isset($contact['mailchimp_tags'])) {
						$post['mailchimp_tags'] = $contact['mailchimp_tags'];
					} 
					
					if(isset($contact['mailchimp-enable-group'])) {
						$post['mailchimp-enable-group'] = $contact['mailchimp-enable-group'];
					} else {
						$post['mailchimp-enable-group'] = '';
					}
					
					if(isset($contact['mailchimp-group'])) {
						$post['mailchimp-group'] = $contact['mailchimp-group'];
					}
					if(isset($contact['mailchimp-field-mapping'])) {
						$post['mailchimp-field-mapping'] = $contact['mailchimp-field-mapping'];
					} 					
					
				}	
				update_option('mystickyelements-contact-form' . $element_widget_no, $post);
				
				/* Save/Update Social Channels tabs */
				$social_channels = array();
				if(isset($_POST['social-channels'])) {
					if(!empty($_POST['social-channels'])) {
						$social_channels = $_POST['social-channels'];
						foreach($social_channels as $key=>$val) {
							$social_channels[$key] = self::sanitize_options($val, "int");
						}
					}
				} else {
					$social_channels['is_empty'] = 1;
				}
				update_option('mystickyelements-social-channels' . $element_widget_no, $social_channels);

				$social_channels_tab = array();
				if(isset($_POST['social-channels-tab'])) {
					if(!empty($_POST['social-channels-tab'])) {
						foreach($_POST['social-channels-tab'] as $key=>$option) {
							if(isset($option['text'])) {
								$option['text'] = $option['text'];
							}
							if(isset($option['desktop'])) {
								$option['desktop'] = self::sanitize_options($option['desktop'], "int");
							}
							if(isset($option['mobile'])) {
								$option['mobile'] = self::sanitize_options($option['mobile'], "int");
							}
							if(isset($option['bg_color'])) {
								$option['bg_color'] = self::sanitize_options($option['bg_color']);
							}
							if(isset($option['hover_text'])) {
								$option['hover_text'] = self::sanitize_options($option['hover_text']);
							}
							if(isset($option['open_newtab'])) {
								$option['open_newtab'] = self::sanitize_options($option['open_newtab']);
							}
							$social_channels_tab[$key] = $option;
						}
					}
				} else {
					$social_channels_tab['is_empty'] = 1;
				}
				update_option( 'mystickyelements-social-channels-tabs' . $element_widget_no, $social_channels_tab);

				/* Save/Update General Settings */
				$general_setting = filter_var_array( $_POST['general-settings'], FILTER_SANITIZE_STRING );
				/* Unset Page rule when value empty */
				if ( !empty($general_setting['page_settings']) && is_array($general_setting['page_settings']) ) {
					foreach( $general_setting['page_settings'] as $key=>$value ) {
						if ( trim($value['value']) == '' ) {
							unset($general_setting['page_settings'][$key]);
						}
					}
				}
				update_option('mystickyelements-general-settings' . $element_widget_no, $general_setting);

				/* Send Email Afte set email */
				if ( isset($_POST['contact-form']['send_leads']) && in_array( 'mail', $_POST['contact-form']['send_leads'])  && $_POST['contact-form']['sent_to_mail'] != '' && !get_option('mystickyelements-contact-mail-sent') ) {
					$send_mail = $_POST['contact-form']['sent_to_mail'];

					$subject = "Great job! You created your contact form successfully";
					$message = 'Thanks for using MyStickyElements! If you see this message in your spam folder, please click on "Report not spam" so you will get the next leads into your inbox.';


					$blog_name = get_bloginfo('name');
					$blog_email = get_bloginfo('admin_email');

					$headers = "MIME-Version: 1.0\r\n";
					$headers .= "Content-Type: text/html; charset=UTF-8\r\n";
					$headers .= 'From: ' . $blog_name . ' <' . $blog_email . '>' ."\r\n";
					$headers .= 'X-Mailer: PHP/' . phpversion() . "\r\n";

					if ( wp_mail( $send_mail, $subject, $message, $headers ) ) {
						update_option( 'mystickyelements-contact-mail-sent', true );
					}
				}
				$this->mystickyelements_clear_all_caches();
				
				$dashboard = 0;
				if ( isset($_POST['save_view'])  ) {
					$dashboard = 1;
				}				
				/* Date: 2019-07-26 Redirect Page After Save */
				if ( isset($mystickyelements_no_widget) && $mystickyelements_no_widget != '' && isset($_GET['page']) && $_GET['page'] == 'my-sticky-elements-new-widget' && $widget_available == 0 ) {
				?>
					<script>					
					window.location.href = '<?php echo admin_url("admin.php?page=my-sticky-elements&widget_available=0&new_widget=1&widget=" . $mystickyelements_no_widget . "&dashboard=". $dashboard );?>';
					</script>
					<?php
				}
				else if(isset($mystickyelements_no_widget) && $mystickyelements_no_widget != '' && isset($_GET['page']) && $_GET['page'] == 'my-sticky-elements-new-widget' && $widget_available == 1){
					?>
					<script>
					window.location.href = '<?php echo admin_url("admin.php?page=my-sticky-elements&widget_available=1&new_widget=1&widget=" . $mystickyelements_no_widget . "&dashboard=". $dashboard );?>';
					</script>
					<?php
				}

				/* End Date: 2019-07-26*/
			}

			$element_widget_no = '';
			$widgets = '';
			/* Check Elements Widget is blank or empty */
			if ( ( $elements_widgets == '' || empty($elements_widgets) ) && ( isset($_GET['page']) && $_GET['page'] == 'my-sticky-elements-new-widget' ) ) {
				$widgets = 1;
				$element_widget_no = '-' . $widgets;
			} else if ( isset($_GET['page']) && $_GET['page'] == 'my-sticky-elements-new-widget' ) {

				end($elements_widgets);
				$last_key = key($elements_widgets);
				$widgets = $last_key + 1;
				$element_widget_no = '-' . $widgets;
			}
			if ( isset($_GET['widget']) && $_GET['widget'] != '' && $_GET['widget'] != '0' ) {
				$widgets = $_GET['widget'];
				$element_widget_no = '-' . $widgets;
			}
			if ( isset($_GET['copy-from']) && $_GET['copy-from'] != '' ) {
				$widgets = $_GET['copy-from'];				
				$element_widget_no = ($widgets != 0 ) ? '-' . $widgets : '';				
			}
			$counts = (!empty($elements_widgets)) ? count($elements_widgets) : 0 ;
			//$counts = $counts + 1;
			if ( isset($_GET['page']) && $_GET['page'] == 'my-sticky-elements' && !isset($_GET['widget']) && $counts > 1  ) {
				$widgets = 0;
			}
			/* END Date: 2019-07-26 */
			$contact_field = get_option( 'mystickyelements-contact-field' . $element_widget_no );
			if ( empty( $contact_field ) ) {
				$contact_field = array( 'name', 'phone', 'email', 'message', 'dropdown' );
			}
			$contact_form = get_option( 'mystickyelements-contact-form' . $element_widget_no );

			
			/* Get the Default Contact Form */
			if ( empty( $contact_form)) {
				$contact_form = mystickyelements_pro_widget_default_fields( 'contact_form' );
			}
			$social_channels = get_option( 'mystickyelements-social-channels' . $element_widget_no );
			
			/* Get the Default social_channels*/
			if ( empty( $social_channels)) {
				$social_channels = mystickyelements_pro_widget_default_fields( 'social_channels' );
			}
			$social_channels_tabs = get_option( 'mystickyelements-social-channels-tabs' . $element_widget_no );
			/* Get the Default social_channels*/
			if ( empty( $social_channels_tabs)) {
				$social_channels_tabs = mystickyelements_pro_widget_default_fields( 'social_channels_tabs' );
			}
			$general_settings = get_option( 'mystickyelements-general-settings' . $element_widget_no );
			/* Get the Default social_channels*/
			if ( empty( $general_settings)) {
				$general_settings = mystickyelements_pro_widget_default_fields( 'general_settings' );
			}
			if ( !isset($general_settings['position_mobile']) ) {
				$general_settings['position_mobile'] = 'left';
			}
			$social_channels_lists = mystickyelements_social_channels();

			$upgrade_url = admin_url("admin.php?page=my-sticky-license-key");
			$license_data = MyStickyElementLicense::get_license_data();
			$is_pro_active = 0;
			if(!empty($license_data)) {
				if($license_data['license'] == "expired" || $license_data['license'] == "valid") {
					$is_pro_active = 1;
				}
			}
			if ( isset($_GET['copy-from']) && $_GET['copy-from'] != '' ) {
				end($elements_widgets);
				$last_key = key($elements_widgets);
				$widgets = $last_key + 1;
			}
			$default_fonts = array('Arial', 'Tahoma', 'Verdana', 'Helvetica', 'Times New Roman', 'Trebuchet MS', 'Georgia', 'Open Sans Hebrew');
			if (isset($general_settings['font_family']) && $general_settings['font_family'] !="" ) :
				if ( !in_array( $general_settings['font_family'], $default_fonts) ):
					
			?>
				<link href="https://fonts.googleapis.com/css?family=<?php echo $general_settings['font_family'];?>:400,500,600,700" rel="stylesheet" type="text/css" class="sfba-google-font">
				<?php endif;?>
				<style>
					.myStickyelements-preview-ul .mystickyelements-social-icon{ font-family: <?php echo ( isset( $general_settings['font_family'] ) && $general_settings['font_family'] == 'System Stack' ) ? '-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif'  : $general_settings['font_family'];?>}
				</style>
			<?php endif;
			if ( !isset($_GET['widget']) && isset($_GET['page']) && $_GET['page'] != 'my-sticky-elements-new-widget') {
				include_once( 'admin/stickyelements-dashboard.php');
			} else {
				include_once( 'admin/stickyelements-settings.php');
			}
			?>
			<?php
				$table_name = $wpdb->prefix . "mystickyelement_contact_lists";
				$result = $wpdb->get_results ( "SELECT count(*) as count FROM ".$table_name ." ORDER BY ID DESC" );

				if ( $result[0]->count != 0 && !get_option( 'myStickyelements_show_leads' )) 
				{ ?>
					<div id="myStickyelements-new-lead-confirm" style="display:none;" title="<?php esc_attr_e( 'Congratulations üéâ', 'mystickyelement-submit-delete' ); ?>">
						<p><?php _e('You just got your first My Sticky Elements lead. Click on the Show Me button to display your contact form leads' ); ?></p>						
					</div>
					
					
					
					<script>
						( function( $ ) {
							"use strict";
							$(document).ready(function(){
								jQuery( "#myStickyelements-new-lead-confirm" ).dialog({
									resizable: false,
									modal: true,
									draggable: false,
									height: 'auto',
									width: 400,
									buttons: {
										"Show Me": {
											click: function () {
												window.location = "<?php echo admin_url('admin.php?page=my-sticky-elements-leads')?>";
												//$(this).dialog('close');
											},
											text: 'Show Me',
											class: 'purple-btn'
										},
										"Not Now": {
											click: function () {
												confetti.remove();
												$(this).dialog('close');
											},
											text: 'Not Now',
											class: 'gray-btn'
										},								
									}
								});
								confetti.start();
								$('#myStickyelements-new-lead-confirm').bind('dialogclose', function(event) {
									confetti.remove();
								});
							});
						})( jQuery );
					</script>
					<?php
					update_option( 'myStickyelements_show_leads', 1 );
				}
				?>
				<div id="mystickyelement-save-confirm" style="display:none;" title="<?php esc_attr_e( 'Icons\' text isn\'t supported in this template', 'mystickyelement-submit-delete' ); ?>">
					<p>
						<?php _e("The selected template doesn't support icons'text, please change to the Default templates. Would you like to publish it anyway?", 'mystickyelement' ); ?>
					</p>
				</div>
				<?php
				 require_once MYSTICKYELEMENTS_PRO_PATH . 'help.php';
			
				
		}

		
		public function mystickyelement_social_tab_add( $key, $element_widget_no = '' ) {
			global $social_channel_count;
			if ( isset($_POST['is_ajax']) && $_POST['is_ajax'] == true ) {
				if ( ! current_user_can( 'manage_options' ) ) {
					wp_die(0); 
				}
				check_ajax_referer( 'mystickyelements', 'wpnonce' );
			}
			
			$social_channel = (isset($_POST['social_channel'])) ? $_POST['social_channel'] : $key ;
			
			if ( $social_channel != '') {
				$social_channels_tabs = get_option( 'mystickyelements-social-channels-tabs' . $element_widget_no, true );
				/* Return when Is Empty key found and isajax not set */
				if ( isset($social_channels_tabs['is_empty']) && $social_channels_tabs['is_empty'] == 1 && !isset($_POST['is_ajax']) ) {
					return;
				}
				
				if (  strpos($social_channel, 'custom_channel') !== false || strpos($social_channel, 'custom_shortcode') !== false ) {
					$custom_channel_temp = '';
					if( strpos($social_channel, 'custom_channel') !== false){
						$custom_channel_temp = $social_channel;
						$social_channel = 'custom_channel';
					} 
					if( strpos($social_channel, 'custom_shortcode') !== false){
						$custom_channel_temp = $social_channel;
						$social_channel = 'custom_shortcode';
					} 
					
					$social_channels_lists = mystickyelements_custom_social_channels();
					$social_channels_list  = $social_channels_lists[$social_channel];
					
					if ( $custom_channel_temp != '') {
						$social_channel = $custom_channel_temp;
					}
					if ( isset($_POST['channel_key']) && $_POST['channel_key'] != '') {
						$social_channel = $social_channel. '_'. $_POST['channel_key'];
					}
				} else {
					$social_channels_lists = mystickyelements_social_channels();
					$social_channels_list = $social_channels_lists[$social_channel];
				}
				
				$social_channel_value = ( isset($social_channels_tabs[$key])) ? $social_channels_tabs[$key] : array();
				
				$social_channels_list['text'] = isset($social_channels_list['text'])?$social_channels_list['text']:"";
				$social_channels_list['icon_text'] = isset($social_channels_list['icon_text'])?$social_channels_list['icon_text']:"";
                $social_channels_list['icon_text_size'] = isset($social_channels_list['icon_text_size'])?$social_channels_list['icon_text_size']:"";
                $social_channels_list['background_color'] = isset($social_channels_list['background_color'])?$social_channels_list['background_color']:"";
                $social_channels_list['hover_text'] = isset($social_channels_list['hover_text'])?$social_channels_list['hover_text']:"";
				
				if ( empty($social_channel_value)) {
					
					$social_channel_value['text'] = '';//$social_channels_list['text'];
					
					$social_channel_value['bg_color'] = $social_channels_list['background_color'];
					$social_channel_value['icon_text'] = $social_channels_list['icon_text'];
					$social_channel_value['icon_text_size'] = $social_channels_list['icon_text_size'];
					$social_channel_value['hover_text'] = $social_channels_list['hover_text'];
					$social_channel_value['desktop'] = 1;
					$social_channel_value['mobile'] = 1;
					$social_channel_value['icon_color'] = '';
				}
				
				if ( !isset($social_channel_value['icon_text'])) {
					$social_channel_value['icon_text'] = '';
				}
				if ( !isset($social_channel_value['icon_text_size'])) {
					$social_channel_value['icon_text_size'] = '';
				}
				if ( !isset($social_channel_value['icon_color'])) {
					$social_channel_value['icon_color'] = '';
				}
				if ( !isset($social_channel_value['pre_set_message'])) {
					$social_channel_value['pre_set_message'] = '';
				}

				if ( isset($social_channels_list['custom']) && $social_channels_list['custom'] == 1 && isset($social_channel_value['fontawesome_icon']) && $social_channel_value['fontawesome_icon'] != '' ) {
					$social_channels_list['class'] = $social_channel_value['fontawesome_icon'];
				} else {
					$social_channel_value['fontawesome_icon'] = '';
				}

				if ( !isset($social_channels_list['custom_icon']) && !isset($social_channel_value['custom_icon']) ) {
					$social_channel_value['custom_icon'] = '';
				}

				if ( $key == 'line') {
					echo "<style>.social-channels-item .social-channel-input-box .social-". $key ." svg .fil1{ fill:" .$social_channel_value['icon_color']. "}</style>";
				}
				if ( $key == 'qzone') {
					echo "<style>.social-channels-item .social-channel-input-box .social-". $key ." svg .fil2{ fill:" . $social_channel_value['icon_color'] . "}</style>";
				}

				$social_channel_value['text'] = str_replace('\"', '"', $social_channel_value['text']);
				$social_channel_value['channel_type'] = (isset($social_channel_value['channel_type'])) ? $social_channel_value['channel_type'] : '';
				$channel_type = (isset($social_channel_value['channel_type'])) ? $social_channel_value['channel_type'] : '';
				if ( $channel_type != 'custom' && $channel_type != '' ) {
					if ( isset($social_channels_lists[$channel_type]['custom_svg_icon']) ) {
						$social_channels_list['custom_svg_icon'] = $social_channels_lists[$channel_type]['custom_svg_icon'];
					}
					$social_channels_list['class'] = $social_channels_lists[$channel_type]['class'];
					if ( $channel_type == 'whatsapp') {
						$social_channels_list['is_pre_set_message'] = 1;
					}
				}
				?>
				<div id="social-channel-<?php echo esc_attr($social_channel); ?>" class="social-channels-item" data-slug="<?php echo esc_attr($social_channel); ?>">
					<div class="mystickyelements-move-handle"></div>
					<div class="social-channels-item-title social-channel-input-box-section">
						<label>
							
							<span class="social-channels-list social-<?php echo esc_attr($social_channel);?> social-<?php echo esc_attr($channel_type);?>" style="background-color: <?php echo esc_attr($social_channel_value['bg_color'])?>; color: <?php echo esc_attr($social_channel_value['icon_color'])?>; position:relative;">
								<?php if (isset($social_channels_list['custom']) && $social_channels_list['custom'] == 1 && isset($social_channel_value['custom_icon']) && $social_channel_value['custom_icon'] != '' && isset($social_channel_value['fontawesome_icon']) && $social_channel_value['fontawesome_icon'] == ''): ?>
									<img class="<?php echo ( isset($social_channel_value['stretch_custom_icon']) && $social_channel_value['stretch_custom_icon'] == 1 ) ? 'mystickyelements-stretch-custom-img' : '';  ?>" src="<?php echo esc_url($social_channel_value['custom_icon']); ?>" width="25" height="25"/>
								<?php
								else:
									if ( isset($social_channels_list['custom_svg_icon'] ) && $social_channels_list['custom_svg_icon'] != '' ) :
										echo $social_channels_list['custom_svg_icon'];
									else:?>
									<i class="<?php echo esc_attr($social_channels_list['class'])?>"></i>
									<?php endif;
								endif; ?>
							</span>
							<span><?php echo esc_html($social_channels_list['text']. " Settings");?> </span>
						</label>
					</div> 
					<div class="myStickyelements-setting-wrap-list input-link">
						<label><?php if( isset($social_channels_list['icon_label']) && $social_channels_list['icon_label']!="") { echo _e($social_channels_list['icon_label'], 'mystickyelements'); } else{ echo _e('Icon link', 'mystickyelements'); } ?></label>
						<div class="px-wrap myStickyelements-inputs">
							<!-- toolteap -->	
							<?php if ( isset($social_channels_list['tooltip']) && $social_channels_list['tooltip'] != "" ) : ?>
								<label class="social-tooltip" >
									<span>
										<i class="fas fa-info"></i>
										<span class="social-tooltip-popup" >
											<?php echo $social_channels_list['tooltip']; ?>
										</span>
									</span>
								</label>
							<?php endif; ?>
						
							<input type="text" class="mystickyelement-social-links-input<?php if( isset($social_channels_list['number_validation']) && $social_channels_list['number_validation'] == 1) : ?> mystickyelement-social-text-input<?php endif; ?>" name="social-channels-tab[<?php echo esc_attr($social_channel);?>][text]" value="<?php echo esc_attr(stripslashes($social_channel_value['text']));?>" placeholder="<?php echo esc_attr($social_channels_list['placeholder'])?>"/>
						</div>	
					</div>
					<div class="myStickyelements-setting-wrap-list device-option">
						<label><?php echo _e('Devices', 'mystickyelements');?></label>
						<div class="px-wrap myStickyelements-inputs">
							<ul>
								<li>
									<label>
										<input type="checkbox" name="social-channels-tab[<?php echo esc_attr($social_channel);?>][desktop]" data-social-channel-view="<?php echo esc_attr($social_channel);?>" value= "1" class="social-channel-view-desktop" id="social_channel_<?php echo esc_attr($social_channel);?>_desktop" <?php checked( @$social_channel_value['desktop'], '1' );?> />&nbsp
										<span>
											<i class="fas fa-desktop">&nbsp</i><?php echo _e('Desktop', 'mystickyelements');?>
										</span>
									</label>
								</li>
								<li>
									<label>
										<input type="checkbox" name="social-channels-tab[<?php echo esc_attr($social_channel);?>][mobile]" data-social-channel-view="<?php echo esc_attr($social_channel);?>" value="1" class="social-channel-view-mobile" id="social_channel_<?php echo esc_attr($social_channel);?>_mobile" <?php checked( @$social_channel_value['mobile'], '1' );?> />&nbsp
										<span>
											<i class="fas fa-mobile-alt"></i>&nbsp<?php echo _e('Mobile', 'mystickyelements');?>
										</span>
									</label>
								</li>
							</ul>
						</div>
					</div>
					<?php if( !isset($social_channels_list['icon_new_tab']) ) : ?>
					<div class="myStickyelements-setting-wrap-list open-new-link-tab">
						<label><?php echo _e('Open link in a new tab', 'mystickyelements');?></label>
						<div class="px-wrap myStickyelements-inputs">
							<input type="checkbox" name="social-channels-tab[<?php echo esc_attr($social_channel);?>][open_new_tab]" value= "1" class="social-channel-view-desktop" id="social_channel_<?php echo esc_attr($social_channel);?>_open_tab" <?php checked( @$social_channel_value['open_new_tab'], '1' );?> /> 
						</div>	
					</div>
					<?php endif; ?>
					<div class="myStickyelements-setting-wrap-list myStickyelements-channel-view">
						<label>
							<i class="fas fa-palette"></i>&nbsp&nbsp
							<span class="social-setting" data-slug="<?php echo $social_channel; ?>"><?php echo _e('Apperance Settings', 'mystickyelements');?>&nbsp<i class="fas fa-chevron-down"></i></span>
						</label>	
					</div>
					<div class="social-channel-setting" style="display:none;">
						<table>
							<tr class="myStickyelements-custom-icon-image" <?php if ( !isset($social_channels_list['custom']) || ($channel_type != '' && $channel_type !='custom')) :?>style="display:none;" <?php endif;?>>
								<td colspan="2" style="text-align:left;">
									<div class="myStickyelements-custom-image-icon">
										<div class="myStickyelements-custom-image">
											<input type="button" data-slug="<?php echo esc_attr($social_channel);?>" name="social-channels-icon"  class="button-secondary social-custom-icon-upload-button" value="<?php esc_attr_e( 'Upload Custom Icon', 'mystickyelements'); ?>" />

											<div id="social-channel-<?php echo esc_attr($social_channel);?>-icon" class="social-channel-icon" style="display:none; ">
												<img src="<?php echo esc_url($social_channel_value['custom_icon'])?>" id="social-channel-<?php echo esc_attr($social_channel);?>-custom-icon-img"  width="38" height="38"/>
												<span class="social-channel-icon-close" data-slug="<?php echo esc_attr($social_channel);?>">x</span>
											</div>

											<input type="hidden" id="social-channel-<?php echo esc_attr($social_channel);?>-custom-icon" name="social-channels-tab[<?php echo esc_attr($social_channel);?>][custom_icon]" value="<?php echo esc_url($social_channel_value['custom_icon'])?>" />
											<div class="myStickyelements-setting-wrap-list myStickyelements-stretch-icon-wrap">
												<label>
													<input type="checkbox" data-slug="<?php echo esc_attr($social_channel);?>" name="social-channels-tab[<?php echo esc_attr($social_channel);?>][stretch_custom_icon]" value="1" <?php if ( isset($social_channel_value['stretch_custom_icon']) && $social_channel_value['stretch_custom_icon'] == 1 ) { echo 'checked="checked"'; } ?>  />&nbsp;<?php _e( 'Stretch custom icon', 'mystickyelements' );?>
												</label>
											</div>
										</div>
										<div class="myStickyelements-custom-icon">
											<span>Or</span>
											<?php $fontawesome_icons = mystickyelements_fontawesome_icons();?>
											<select id="mystickyelements-<?php echo esc_attr($social_channel);?>-custom-icon" data-slug="<?php echo esc_attr($social_channel);?>" name="social-channels-tab[<?php echo esc_attr($social_channel);?>][fontawesome_icon]" class="social-channel-fontawesome-icon">
												<option value=""><?php esc_html_e( 'Select FontAwesome Icon', 'mystickyelements');?></option>
												<?php foreach( $fontawesome_icons as $icons):
													$icon_html = '<i class="' . $icons . '"></i>';
												?>
													<option value="<?php echo $icons?>" <?php selected( $social_channel_value['fontawesome_icon'] , $icons)?>><?php echo $icons;?></option>
												<?php endforeach;?>
											</select>
										</div>
									</div>
								</td>
							</tr>
							<tr <?php if ( !isset($social_channels_list['custom']) || (isset($social_channels_list['custom_html']))) :?>style="display:none;" <?php endif;?>>
								<td>
									<div class="myStickyelements-setting-wrap-list">
										<label><?php _e( 'Channel Type', 'mystickyelements' );?></label>
										<div class="px-wrap myStickyelements-inputs">
											<select class="social-custom-channel-type" name="social-channels-tab[<?php echo esc_attr($social_channel);?>][channel_type]"  data-id="social-channel-<?php echo esc_attr($social_channel); ?>" data-slug="social-<?php echo esc_attr($social_channel);?>">
												<option value="custom" data-social-channel='<?php echo wp_json_encode($social_channels_list);?>' <?php selected($social_channel_value['channel_type'], 'custom', true)?>><?php _e( 'Custom channel', 'mystickyelements' );?></option>
												<?php foreach(mystickyelements_social_channels() as $csc_key=>$csc_val): 
													if ( isset($csc_val['custom']) && $csc_val['custom'] == 1 ) {
														continue;
													}
												?>
													<option value="<?php echo $csc_key;?>" data-social-channel='<?php echo wp_json_encode($csc_val);?>' <?php selected($social_channel_value['channel_type'], $csc_key, true)?>><?php echo $csc_val['hover_text'];?></option>
												<?php endforeach;?>
											</select>
										</div>
									</div>
								</td>
							</tr>
							
							<tr>
								<td>
									<div class="myStickyelements-setting-wrap-list myStickyelements-background-color">
										<label><?php _e( 'Background Color', 'mystickyelements' );?></label>
										<input type="text" data-slug="<?php echo esc_attr($social_channel); ?>" id="social-<?php echo esc_attr($social_channel);?>-bg_color" name="social-channels-tab[<?php echo esc_attr($social_channel);?>][bg_color]" class="mystickyelement-color" value="<?php echo esc_attr($social_channel_value['bg_color']);?>" />
									</div>
									<?php if ( isset($social_channels_list['icon_color']) && $social_channels_list['icon_color'] == 1) :?>
									<div class="myStickyelements-setting-wrap-list myStickyelements-custom-icon-color">
										<label><?php _e( 'Icon Color', 'mystickyelements' );?></label>
										<input type="text" data-soical-icon="<?php echo esc_attr($social_channel); ?>" id="social-<?php echo esc_attr($social_channel);?>-icon_color" name="social-channels-tab[<?php echo esc_attr($social_channel);?>][icon_color]" class="mystickyelement-color" value="<?php echo esc_attr($social_channel_value['icon_color']);?>" />
									</div>
									<?php endif;?>
									<div class="myStickyelements-setting-wrap-list">
										<label><?php _e( 'Icon Text', 'mystickyelements' );?></label>
										<div class="px-wrap myStickyelements-inputs">
											<input type="text" class="myStickyelements-icon-text-input" id="social-<?php echo esc_attr($social_channel);?>-icon_text" name="social-channels-tab[<?php echo esc_attr($social_channel);?>][icon_text]" value="<?php echo esc_attr($social_channel_value['icon_text']);?>" data-icontext="<?php echo esc_attr($social_channel);?>" placeholder="<?php _e('Enter text here...','mystickyelements');?>" />
										</div>
									</div>
									<div class="myStickyelements-setting-wrap-list">
										<label><?php _e( 'Icon Text Size', 'mystickyelements' );?></label>
										<div class="px-wrap myStickyelements-inputs">
											<input type="number" class="myStickyelements-icon-text-size" id="social-<?php echo esc_attr($social_channel);?>-icon_text_size" name="social-channels-tab[<?php echo esc_attr($social_channel);?>][icon_text_size]" value="<?php echo esc_attr($social_channel_value['icon_text_size']);?>" min="0" data-icontextsize="<?php echo esc_attr($social_channel);?>" placeholder="<?php _e('Enter font size here...','mystickyelements');?>" />
											<span class="input-px">PX</span>
										</div>
									</div>
									<div class="myStickyelements-setting-wrap-list myStickyelements-on-hover-text">
										<label><?php _e( 'Flyout Text', 'mystickyelements' );?></label>
										<div class="px-wrap myStickyelements-inputs">
											<input type="text" name="social-channels-tab[<?php echo esc_attr($social_channel);?>][hover_text]" value="<?php echo esc_attr($social_channel_value['hover_text']);?>" placeholder="<?php _e('Enter text here...','mystickyelements');?>" />
										</div>
									</div>
									
									<div class="myStickyelements-setting-wrap-list myStickyelements-custom-pre-message" <?php if ( !isset($social_channels_list['is_pre_set_message']) ) :?>style="display:none;" <?php endif;?>>
										<label><?php _e( 'Pre Set Message', 'mystickyelements' );?></label>
										<div class="px-wrap myStickyelements-inputs">
											<input type="text" name="social-channels-tab[<?php echo esc_attr($social_channel);?>][pre_set_message]" value="<?php echo esc_attr($social_channel_value['pre_set_message']);?>" placeholder="<?php _e('Enter message here...','mystickyelements');?>" />
										</div>
									</div>									
								</td>
							</tr>
						</table>
					</div>
					<div class="close-tooltip">
						<svg class="social-channel-close" data-slug="<?php echo $social_channel; ?>" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="12" fill="#FDF2F2"/><path d="M6.66666 8.66667H17.3333M16.6667 8.66667L16.0887 16.7613C16.0647 17.0977 15.9142 17.4125 15.6674 17.6424C15.4206 17.8722 15.0959 18 14.7587 18H9.24132C8.90408 18 8.57937 17.8722 8.33258 17.6424C8.08579 17.4125 7.93527 17.0977 7.91132 16.7613L7.33332 8.66667H16.6667ZM10.6667 11.3333V15.3333V11.3333ZM13.3333 11.3333V15.3333V11.3333ZM14 8.66667V6.66667C14 6.48986 13.9298 6.32029 13.8047 6.19526C13.6797 6.07024 13.5101 6 13.3333 6H10.6667C10.4898 6 10.3203 6.07024 10.1953 6.19526C10.0702 6.32029 9.99999 6.48986 9.99999 6.66667V8.66667H14Z" stroke="#C81E1E" stroke-linecap="round" stroke-linejoin="round"/></svg>
					
						<span class="tooltiptext"><a href="#" data-slug="<?php echo $social_channel; ?>"><?php echo _e('Remove channel', 'mystickyelements'); ?></a></span>
					</div>
				</div>
				<!-- end social channel tabs-->
				<?php

			}
			if ( isset($_POST['is_ajax']) && $_POST['is_ajax'] == true ) {
				wp_die();
			}
		}
		
		/*
		 * My Sticky Elements Integration page
		 *
		 */
		public function mystickyelements_admin_integration_page(){
			include( 'mystickyelements-admin-integration.php' );
		}

		/*
		 * My Sticky Elements Contact Leads
		 *
		 */
		public function mystickyelements_admin_leads_page(){
			global $wpdb;
			$where_search = '';
			$table_name = $wpdb->prefix . "mystickyelement_contact_lists";

			if ( isset($_POST['stickyelement-contatc-submit']) && !wp_verify_nonce( $_POST['stickyelement-contatc-submit'], 'stickyelement-contatc-submit' ) ) {

				echo '<div class="error settings-error notice is-dismissible "><p><strong>' . esc_html__('Unable to complete your request','mystickyelements'). '</p></strong></div>';

			} else if ( isset($_POST['stickyelement-contatc-submit']) && wp_verify_nonce( $_POST['stickyelement-contatc-submit'], 'stickyelement-contatc-submit' )  ) {
				if ( isset($_POST['delete_message']) && !empty($_POST['delete_message'])) {

					$count = count($_POST['delete_message']);
					foreach ( $_POST['delete_message'] as $key=>$ID) {
						$delete = $wpdb->query("DELETE FROM $table_name WHERE ID = " . $ID);
					}
					echo '<div class="updated settings-error notice is-dismissible "><p><strong>' . esc_html__( $count . ' message deleted.','mystickyelements'). '</p></strong></div>';

				}
			}
			$elements_widgets = get_option( 'mystickyelements-widgets' );
			$custom_fields = array();
			if ( !empty($elements_widgets)) {
				foreach( $elements_widgets as $key=>$value) {
					$widget_no = '-'.$key;
					if ( $key == 0 ) {
						$widget_no = '';
					}
					$contact_form = get_option( 'mystickyelements-contact-form' . $widget_no);

					if ( !empty($contact_form['custom_fields'])) {
						foreach($contact_form['custom_fields'] as $value ) {
							$custom_fields[] = $value['custom_field_name'];
						}
					}
				}
			}
			?>
			<div class="wrap mystickyelement-contact-wrap">
				<h2><?php _e( 'Contact Form Leads', 'mystickyelements' ); ?></h2>
				<p class="description">
					<strong><?php esc_html_e("Contact's data is saved locally do make backup or export before uninstalling plugin", 'mystickyelements');?></strong>
				</p>
				<div>
					<div class="mystickyelement-btnmbox">
						<div class="mystickyelement-btnbx">
							<strong><?php esc_html_e('Download & Export All Subscriber to CSV file:','mystickyelements' );?> </strong>

							<a href="<?php echo plugins_url('mystickyelements-contact-leads.php?download_file=mystickyelements_contact_leads.csv',__FILE__); ?>" class="wpappp_buton" id="wpappp_export_to_csv" value="Export to CSV" href="#"><?php esc_html_e('Download & Export to CSV', 'mystickyelements' );?></a>

						</div>
						<div class="mystickyelement-btnbx">
							<strong><?php esc_html_e('Delete All Subscibers from Database:','mystickyelements');?> </strong>

							<input type="button" class="wpappp_buton" id="mystickyelement_delete_all_leads" value="<?php esc_attr_e('Delete All Data', 'mystickyelements' );?>" />
						</div>	
					</div>
					

					<input type="hidden" id="delete_nonce" name="delete_nonce" value="<?php echo wp_create_nonce("mysticky_elements_delete_nonce") ?>" />
				</div>

				<?php 
					if ( isset($_REQUEST['search-contact']) && $_REQUEST['search-contact'] != '' ) {
						$where_search = "WHERE contact_name like '%" . $_REQUEST['search-contact'] . "%' OR contact_email like '%".$_REQUEST['search-contact']."%' OR contact_phone like '%".$_REQUEST['search-contact']."%' OR contact_message like '%".$_REQUEST['search-contact'] . "%'";
					}
				?>
				<div>					
					<div class="tablenav top">
						<form action="<?php echo admin_url("admin.php?page=my-sticky-elements-leads");?>" method="post">
						<div class="alignleft actions bulkactions">
							<select name="action" id="bulk-action-selector-top">
							<option value="">Bulk Actions</option>
							<option value="delete_message">Delete</option>
							</select>
							<input type="submit" id="doaction" class="button action" value="Apply">
							<?php wp_nonce_field( 'stickyelement-contatc-submit', 'stickyelement-contatc-submit' );  ?>
						</div>
						</form>
						<form action="<?php echo admin_url("admin.php?page=my-sticky-elements-leads");?>" method='get'>
							<input type="hidden" name="page" value='my-sticky-elements-leads'/>
							<p class="search-box">
								<label class="screen-reader-text" for="post-search-input"><?php esc_html_e( 'Search', 'mystickyelements');?></label>
								<input type="search" id="post-search-input" name="search-contact" value="<?php echo (isset($_GET['search-contact']) && $_GET['search-contact'] != '') ? esc_attr($_GET['search-contact']) : ''; ?>">
								<input type="submit" id="search-submit" class="button" value="<?php esc_html_e( 'Search', 'mystickyelements');?>">
							</p>								
						</form>
					</div>
						
						<table border="1" class="responstable">
							<tr>
								<th style="width:1%"><?php esc_html_e( 'Bulk', 'mystickyelements' );?></th>
								<th><?php esc_html_e( 'ID', 'mystickyelements');?></th>
								<th><?php esc_html_e( 'Widget Name', 'mystickyelements');?></th>
								<th><?php esc_html_e( 'Name', 'mystickyelements');?></th>
								<th><?php esc_html_e( 'Phone', 'mystickyelements');?></th>
								<th><?php esc_html_e( 'Email', 'mystickyelements');?></th>
								<th><?php esc_html_e( 'Option', 'mystickyelements');?></th>
								<th><?php esc_html_e( 'Message', 'mystickyelements');?></th>
								<th><?php esc_html_e( 'Consent', 'mystickyelements');?></th>
								<?php
								if (!empty($custom_fields)){
									foreach( $custom_fields as $value ) {
										?>
										<th><?php echo esc_html($value);?></th>
										<?php
									}
								}
								?>
								<th><?php esc_html_e( 'Date', 'mystickyelements');?></th>
								<th><?php esc_html_e( 'URL', 'mystickyelements');?></th>
								<th><?php esc_html_e( 'IP Address', 'mystickyelements');?></th>
								<th style="width:11%"><?php esc_html_e( 'Delete', 'mystickyelements');?></th>
							</tr>
						<?php 
							$customPagHTML     	= "";
							$total_query     	= "SELECT count(*) FROM ".$table_name ." {$where_search} ORDER BY ID DESC";
							$total             	= $wpdb->get_var( $total_query );
							$items_per_page 	= 20;
							$page             	= ( isset( $_GET['cpage'] ) ) ? abs( (int) $_GET['cpage'] ) : 1;
							$offset         	= ( $page * $items_per_page ) - $items_per_page;
							$query 				= "SELECT * FROM " . $table_name  ." {$where_search} ORDER BY ID DESC LIMIT {$offset}, {$items_per_page}";
							$result         	= $wpdb->get_results( $query );
							$total_page         = ceil($total / $items_per_page);
							if($result){
								foreach ( $result as $res ) { ?>
									<tr>
										<td><input id="cb-select-80" class="cb-select-blk" type="checkbox" name="delete_message[]" value="<?php echo esc_attr($res->ID);?>"></td>
										<td><a href="<?php echo esc_url(admin_url( 'admin.php?page=my-sticky-elements-leads&id=' . $res->ID ));?>"><?php echo $res->ID;?></a></td>
										<td><a href="<?php echo esc_url(admin_url( 'admin.php?page=my-sticky-elements-leads&id=' . $res->ID ));?>"><?php echo $res->widget_element_name;?></a></td>
										<td><?php echo $res->contact_name;?></td>
										<td><?php echo $res->contact_phone;?></td>
										<td><?php echo $res->contact_email;?></td>
										<td><?php echo $res->contact_option;?></td>
										<td><?php echo wpautop($res->contact_message);?></td>
										<td><?php echo ( isset($res->consent_checkbox) && $res->consent_checkbox == 1 ) ? "True" : "False";?></td>
										<?php
										if (!empty($custom_fields)){
											$custom_field = json_decode($res->custom_fields, true );
											foreach( $custom_fields as $value ) {
											?>
												<td>
													<ul class="leads-img-list">
													<?php 
													if( isset($custom_field[$value]) && $custom_field[$value] != '' ){
														if( !is_array($custom_field[$value]) ){
															$custom_field[$value] = array($custom_field[$value]); 
														}
														
														foreach( $custom_field[$value] as $key => $index_val ){
															
															if( isset( $custom_field[$value][$key] ) && $custom_field[$value][$key] != '' && ( substr( $custom_field[$value][$key], 0, 7 ) == 'http://' || substr( $custom_field[$value][$key], 0, 7 ) == 'https:/' ) ) {	
																$parts = parse_url($custom_field[$value][$key]);
																if ( isset($parts['path']) && $value == 'Custom File Upload') {
																	echo "<li>";
																	$file_name = basename($parts['path']);
																	$file_url = '<a href="'.esc_url($custom_field[$value][$key]).'" target="_blank" download >'.$file_name.'</a>';

																	echo ( isset( $custom_field[$value][$key] ) && $custom_field[$value][$key] != '' ) ? $file_url : $custom_field[$value][$key];
																	echo "</li>";
																} else {
																	
																	echo $custom_field[$value][$key];
																}
															} else {
																echo ( isset( $custom_field[$value][$key] ) && $custom_field[$value][$key] != '' ) ? wp_kses_post($custom_field[$value][$key]) : '';
															} 
														}
														
													}
													?>
													</ul>
												</td>
											<?php
											}
										}
										?>
										<td><?php echo ( isset($res->message_date) ) ? $res->message_date : '-' ;?></td>
										<td>
											<?php if ( $res->page_link) :?>
											<a href="<?php echo esc_url($res->page_link);?>" target="_blank"><i class="fas fa-external-link-alt"></i></a>
											<?php endif;?>
										</td>
										<td>
											<?php echo $res->ip_address; ?>
										</td>
										<td>
											<input type="button" data-delete="<?php echo $res->ID;?>" class="mystickyelement-delete-entry" value="<?php esc_attr_e('Delete', 'mystickyelements');?>" />
										</td>
									</tr>
								<?php }
							} else { ?>
								<tr>
									<td colspan="6" align="center">
										<p class="mystickyelement-no-contact"> <?php esc_html_e('No Contact Form Leads Found!','mystickyelements');?>
										</p>
									</td>
								</tr>
							<?php }	?>

						</table>
						<?php if($total_page > 1){ ?>
							<div class="contactleads-pagination">			
								<?php 
								$big = 999999999; // need an unlikely integer			
								echo paginate_links( array(
									'base' => add_query_arg( 'cpage', '%#%' ),
									'format' => '',
									'current' => $page,
									'total' =>  $total_page
								) );?>
							</div>
						<?php }?>
					</form>
				</div>
			</div>
			<?php
		}
		
		public function mystickyelement_mailchimp_field(){
			global $wpdb;
			if ( ! current_user_can( 'manage_options' ) ) {
				wp_die(0); 
			}
			check_ajax_referer( 'mystickyelements', 'wpnonce' );
			
			if ( isset($_POST['list_id']) && $_POST['list_id'] != '' ) {
				$widget_no = $_POST['widget_no'];
				if ( $widget_no == 0) {
					$widget_no = '';
				}
				$mc_fields = mystickyelements_get_mailchimp_lists_fields( $_POST['list_id'] );
				$contact_form = get_option( 'mystickyelements-contact-form' . $widget_no );
				$dropdown = ( isset($contact_form['dropdown'])) ? $contact_form['dropdown'] : '';
				if ( $dropdown == 1 ) {
					$contact_form['custom_fields'][] = array('custom_field_name' => 'Dropdown');
				}
				$mailchimp_field_mapping = ( isset($contact_form['mailchimp-field-mapping'])) ? $contact_form['mailchimp-field-mapping'] : array();
				if( isset($contact_form['custom_fields']) && !empty( $contact_form['custom_fields'] )) :?>
				<?php foreach( $contact_form['custom_fields'] as $fields ):
				$custom_field_name = sanitize_title($fields['custom_field_name']);
				?>
					<div class="mailchimp-field-control">
						<label class="field-control-title" for="<?php echo esc_attr($custom_field_name);?>"><?php echo $fields['custom_field_name']?></label>
						<select class="field-control-dropdown" id="<?php echo esc_attr($custom_field_name);?>" name="contact-form[mailchimp-field-mapping][<?php echo esc_attr($custom_field_name);?>]">
							<option value="">Select fields</option>
							<?php foreach( $mc_fields as $field):?>
								<option value="<?php echo $field['field_id'];?>" <?php if( isset($mailchimp_field_mapping[$custom_field_name]) && $mailchimp_field_mapping[$custom_field_name] == $field['field_id'] ):?> selected <?php endif;?>><?php echo $field['field_label'];?></option>
							<?php endforeach;?>
						</select>
					</div>
				<?php endforeach;
				endif;
			}
			wp_die();
		}
		
		public function  mystickyelement_mailchimp_group() {
			global $wpdb;
			if ( ! current_user_can( 'manage_options' ) ) {
				wp_die(0); 
			}
			check_ajax_referer( 'mystickyelements', 'wpnonce' );
			
			$mailchimp_groups = myStickyelements_get_mailchimp_groups( $_POST['list_id'] );
			ob_start();
			?>
			<option value="">Select Groups</option>
			<?php if ( !empty($mailchimp_groups)) :?>
				<?php foreach( $mailchimp_groups as $key=>$groups ):?>
					<optgroup label="<?php echo esc_html($key);?>">
					<?php foreach($groups as $group ):?>
						<option value="<?php echo esc_html($group['id']);?>" <?php if ( in_array($group['id'] ,$mailchimp_group)){ echo "selected"; }?>><?php echo esc_html($group['name']);?></option>
					<?php endforeach;?>
					</optgroup>
				<?php endforeach;?>
			<?php endif;
			echo ob_get_clean();
			wp_die();
		}
		
		public function mystickyelement_widget_status() {
			if ( ! current_user_can( 'manage_options' ) ) {
				wp_die(0); 
			}
			check_ajax_referer( 'mystickyelements', 'wpnonce' );
			
			if ( isset($_POST['widget_id']) && $_POST['widget_id'] != '' && isset($_POST['widget_status']) && $_POST['widget_status'] != ''  ) {
				$stickyelements_widgets = get_option('stickyelements_widgets');
				
				$widget_id = $_POST['widget_id'];
				$widget_status = $_POST['widget_status'];
				$stickyelements_widgets[$widget_id]['status'] = $widget_status;				
				update_option( 'stickyelements_widgets',$stickyelements_widgets);
				
			}
			wp_die();
		}
		
		public function mystickyelement_widget_rename(){
			
			if ( ! current_user_can( 'manage_options' ) ) {
				wp_die(0); 
			}
			check_ajax_referer( 'mystickyelements', 'wpnonce' );
			
			if ( isset($_POST['widget_id']) && $_POST['widget_id'] != '' && isset($_POST['widget_rename']) && $_POST['widget_rename'] != ''  ) {
				
				$stickyelements_widgets = get_option('mystickyelements-widgets');
				$widget_id = $_POST['widget_id'];
				$widget_rename = $_POST['widget_rename'];
				
				$stickyelements_widgets[$widget_id] = $widget_rename;				
				update_option( 'mystickyelements-widgets' ,$stickyelements_widgets);
			}
			wp_die();
		}
		
		/*
		 * My Sticky Elements Create New Widget
		 *
		 */
		public function mystickyelements_admin_new_widget_page(){
			$upgarde_url = admin_url("admin.php?page=my-sticky-elements-upgrade");
			?>
			<div class="mystickyelement-new-widget-wrap">
				<?php include_once MYSTICKYELEMENTS_PRO_PATH . 'mystickyelements-widget.php';?>				
			</div>
			<?php
		}

		public function my_sticky_elements_bulks(){
			global $wpdb;

			check_ajax_referer( 'mystickyelements', 'wpnonce' );
			
			if( isset($_POST['wpnonce']) ){
				$bulks = isset($_POST['bulks']) ? $_POST['bulks'] : array();
				foreach( $bulks as $key => $bulk ){
					$ID = sanitize_text_field($bulk);
					$table = $wpdb->prefix . 'mystickyelement_contact_lists';
					$ID = self::sanitize_options($ID, "sql");
					$delete_sql = $wpdb->prepare("DELETE FROM {$table} WHERE id = %d",$ID);
					$delete = $wpdb->query($delete_sql);		
				}
			}
			wp_die();
		}
		
		public function mystickyelement_delete_db_record(){
			global $wpdb;
			if ( ! current_user_can( 'manage_options' ) ) {
				wp_die(0); 
			}
			check_ajax_referer( 'mystickyelements', 'wpnonce' );
			
			if ( isset($_POST['ID']) && $_POST['ID'] != '' && wp_verify_nonce($_POST['delete_nonce'], "mysticky_elements_delete_nonce") ) {

				$ID = sanitize_text_field($_POST['ID']);
				$table = $wpdb->prefix . 'mystickyelement_contact_lists';
				$ID = self::sanitize_options($ID, "sql");
				$delete_sql = $wpdb->prepare("DELETE FROM {$table} WHERE id = %d",$ID);
				$delete = $wpdb->query($delete_sql);
			}

			if ( isset($_POST['all_leads']) && $_POST['all_leads'] == 1 && wp_verify_nonce($_POST['delete_nonce'], "mysticky_elements_delete_nonce")) {
				$table = $wpdb->prefix . 'mystickyelement_contact_lists';
				$delete = $wpdb->query("TRUNCATE TABLE $table");
			}
			wp_die();
		}

		public function mystickyelements_deactivate() {
			global $pagenow;

			if ( 'plugins.php' !== $pagenow ) {
				return;
			}

			include MYSTICKYELEMENTS_PRO_PATH . 'mystickyelements-deactivate-form.php';
		}

		public function mystickyelements_plugin_deactivate() {			
			global $current_user;
			if ( ! current_user_can( 'manage_options' ) ) {
				wp_die(0); 
			}
			check_ajax_referer( 'mystickyelements_deactivate_nonce', 'nonce' );
			$postData = $_POST;
			$errorCounter = 0;
			$response = array();
			$response['status'] = 0;
			$response['message'] = "";
			$response['valid'] = 1;
			if(!isset($postData['reason']) || empty($postData['reason'])) {
				$errorCounter++;
				$response['message'] = "Please provide reason";
			} else if (!isset($postData['nonce']) || empty($postData['nonce'])) {
				$response['message'] = __("Your request is not valid", "mystickyelements");
				$errorCounter++;
				$response['valid'] = 0;
			} else {
				$nonce = $postData['nonce'];
				if(!wp_verify_nonce($nonce, 'mystickyelements_deactivate_nonce')) {
					$response['message'] = __("Your request is not valid", "mystickyelements");
					$errorCounter++;
					$response['valid'] = 0;
				}
			}
			if($errorCounter == 0) {
				global $current_user;
				$plugin_info = get_plugin_data( MYSTICKYELEMENTS_PRO_PATH. 'mystickyelements.php');
				$postData = $_POST;
                $email = "none@none.none";

                if (isset($postData['email_id']) && !empty($postData['email_id']) && filter_var($postData['email_id'], FILTER_VALIDATE_EMAIL)) {
                    $email = $postData['email_id'];
                }
				$domain = site_url();
				$user_name = $current_user->first_name . " " . $current_user->last_name;
				
				$response['status'] = 1;

                /* sending message to Crisp */
                $post_message = array();

                $message_data = array();
                $message_data['key'] = "Plugin";
                $message_data['value'] = "MSE (Pro)";
                $post_message[] = $message_data;

                $message_data = array();
                $message_data['key'] = "Plugin Version";
                $message_data['value'] = $plugin_info['Version'];
                $post_message[] = $message_data;

                $message_data = array();
                $message_data['key'] = "Domain";
                $message_data['value'] = $domain;
                $post_message[] = $message_data;

                $message_data = array();
                $message_data['key'] = "Email";
                $message_data['value'] = $email;
                $post_message[] = $message_data;

                $message_data = array();
                $message_data['key'] = "WordPress Version";
                $message_data['value'] = esc_attr(get_bloginfo('version'));
                $post_message[] = $message_data;

                $message_data = array();
                $message_data['key'] = "PHP Version";
                $message_data['value'] = PHP_VERSION;
                $post_message[] = $message_data;

                $message_data = array();
                $message_data['key'] = "Message";
                $message_data['value'] = $postData['reason'];
                $post_message[] = $message_data;

                $api_params = array(
                    'domain' => $domain,
                    'email' => $email,
                    'url' => site_url(),
                    'name' => $user_name,
                    'message' => $post_message,
                    'plugin' => "MSE (Pro)",
                    'type' => "Uninstall",
                );

                /* Sending message to Crisp API */
                $crisp_response = wp_safe_remote_post("https://premioapps.com/premio/send-message-api.php", array('body' => $api_params, 'timeout' => 15, 'sslverify' => true));

                if (is_wp_error($crisp_response)) {
                   wp_safe_remote_post("https://premioapps.com/premio/send-message-api.php", array('body' => $api_params, 'timeout' => 15, 'sslverify' => false));
                }
			}
			echo json_encode($response);
			wp_die();
		}

		/*
		 * clear cache when any option is updated
		 *
		 */
		public function mystickyelements_clear_all_caches(){

			try {
				global $wp_fastest_cache;

				// if W3 Total Cache is being used, clear the cache
				if (function_exists('w3tc_flush_all')) {
					w3tc_flush_all();
				}
				/* if WP Super Cache is being used, clear the cache */
				if (function_exists('wp_cache_clean_cache')) {
					global $file_prefix, $supercachedir;
					if (empty($supercachedir) && function_exists('get_supercache_dir')) {
						$supercachedir = get_supercache_dir();
					}
					wp_cache_clean_cache($file_prefix);
				}

				if (class_exists('WpeCommon')) {
					//be extra careful, just in case 3rd party changes things on us
					if (method_exists('WpeCommon', 'purge_memcached')) {
						//WpeCommon::purge_memcached();
					}
					if (method_exists('WpeCommon', 'clear_maxcdn_cache')) {
						//WpeCommon::clear_maxcdn_cache();
					}
					if (method_exists('WpeCommon', 'purge_varnish_cache')) {
						//WpeCommon::purge_varnish_cache();
					}
				}

				if (method_exists('WpFastestCache', 'deleteCache') && !empty($wp_fastest_cache)) {
					$wp_fastest_cache->deleteCache();
				}
				if (function_exists('rocket_clean_domain')) {
					rocket_clean_domain();
					// Preload cache.
					if (function_exists('run_rocket_sitemap_preload')) {
						run_rocket_sitemap_preload();
					}
				}

				if (class_exists("autoptimizeCache") && method_exists("autoptimizeCache", "clearall")) {
					autoptimizeCache::clearall();
				}

				if (class_exists("LiteSpeed_Cache_API") && method_exists("autoptimizeCache", "purge_all")) {
					LiteSpeed_Cache_API::purge_all();
				}

				if ( class_exists( '\Hummingbird\Core\Utils' ) ) {

					$modules   = \Hummingbird\Core\Utils::get_active_cache_modules();
					foreach ( $modules as $module => $name ) {
						$mod = \Hummingbird\Core\Utils::get_module( $module );

						if ( $mod->is_active() ) {
							if ( 'minify' === $module ) {
								$mod->clear_files();
							} else {
								$mod->clear_cache();
							}
						}
					}
				}
				
				/* Clear nitropack plugin cache */
				if ( function_exists( 'nitropack_purge_cache' ) && function_exists( 'nitropack_sdk_purge' ) ) {
					nitropack_sdk_purge(NULL, NULL, 'Manual purge of all pages');
				}

			} catch (Exception $e) {
				return 1;
			}
		}
		
		public function mystickyelements_admin_send_message_to_owner() {
		$response = array();
		$response['status'] = 0;
		$response['error'] = 0;
		$response['errors'] = array();
		$response['message'] = "";
		$errorArray = [];
		$errorMessage = __("%s is required", "mystickyelements");
		$postData = $_POST;
		if(!isset($postData['textarea_text']) || trim($postData['textarea_text']) == "") {
			$error = array(
				"key"   => "textarea_text",
				"message" => __("Please enter your message","wcp")
			);
			$errorArray[] = $error;
		}
		if(!isset($postData['user_email']) || trim($postData['user_email']) == "") {
			$error = array(
				"key"   => "user_email",
				"message" => sprintf($errorMessage,__("Email","wcp"))
			);
			$errorArray[] = $error;
		} else if(!filter_var($postData['user_email'], FILTER_VALIDATE_EMAIL)) {
			$error = array(
				'key' => "user_email",
				"message" => "Email is not valid"
			);
			$errorArray[] = $error;
		}
		if(empty($errorArray)) {
			if(!isset($_REQUEST['nonce']) || empty($_REQUEST['nonce'])) {
				$error = array(
					'key' => "nonce",
					"message" => "Your request is not valid"
				);
				$errorArray[] = $error;
			} else if(!wp_verify_nonce($_REQUEST['nonce'], "mystickyelements_send_message_to_owner")) {
				$error = array(
					'key' => "nonce",
					"message" => "Your request is not valid"
				);
				$errorArray[] = $error;
			}
		}
		if(empty($errorArray)) {
			global $current_user;
			$text_message = $postData['textarea_text'];
			$email = $postData['user_email'];
			$domain = site_url();
			$user_name = $current_user->first_name." ".$current_user->last_name;

			$response['status'] = 1;

			/* sending message to Crisp */
			$post_message = array();

			$message_data = array();
			$message_data['key'] = "Plugin";
			$message_data['value'] = "My Sticky Elements";
			$post_message[] = $message_data;

			$message_data = array();
			$message_data['key'] = "Domain";
			$message_data['value'] = $domain;
			$post_message[] = $message_data;

			$message_data = array();
			$message_data['key'] = "Email";
			$message_data['value'] = $email;
			$post_message[] = $message_data;

			$message_data = array();
			$message_data['key'] = "Message";
			$message_data['value'] = $text_message;
			$post_message[] = $message_data;

			$api_params = array(
				'domain' => $domain,
				'email' => $email,
				'url' => site_url(),
				'name' => $user_name,
				'message' => $post_message,
				'plugin' => "MSE",
				'type' => "Need Help",
			);

			/* Sending message to Crisp API */
			$crisp_response = wp_safe_remote_post("https://premioapps.com/premio/send-message-api.php", array('body' => $api_params, 'timeout' => 15, 'sslverify' => true));

			if (is_wp_error($crisp_response)) {
				wp_safe_remote_post("https://premioapps.com/premio/send-message-api.php", array('body' => $api_params, 'timeout' => 15, 'sslverify' => false));
			}
		} else {
			$response['error'] = 1;
			$response['errors'] = $errorArray;
		}
		echo json_encode($response);
		wp_die();
	}

	}

}

class MyStickyElementLicense {

	public $license_data;

	public function __construct() {
		add_action('wp_ajax_sticky_element_activate_key',array( $this, 'activate_key'));
		add_action('wp_ajax_sticky_element_deactivate_key', array( $this, 'deactivate_key'));
	}

	public static function get_license_data($license_key = "") {
               update_option("sticky_element_license_key", "3p9d4z66z8wsv4e64nniobwdqcg9labu");
		return array('license' => 'valid','status' => 1, 'expires' => '09.06.2025');
		if(empty($license_key)) {
			$license_key = get_option("sticky_element_license_key");
		}

	
        $api_params = array(
            'edd_action' => 'check_license',
            'license' => $license_key,
            'item_id' => PRO_MY_STICKY_ELEMENT_ID,
            'url' => site_url()
        );

        /* Request to premio.io for checking Licence key */
        $response = wp_safe_remote_post(PRO_MY_STICKY_ELEMENT_API_URL, array('body' => $api_params, 'timeout' => 15, 'sslverify' => true));

        if (is_wp_error($response)) {
            $response = wp_safe_remote_post(PRO_MY_STICKY_ELEMENT_API_URL, array('body' => $api_params, 'timeout' => 15, 'sslverify' => false));
        }

        if (is_wp_error($response)) {
            return array();                                                     // return empty array if error in response
        } else {
            $response = json_decode(wp_remote_retrieve_body($response), true);  // return response
            if(!empty($response)) {
                set_transient("MSE_license_key_data", $response, DAY_IN_SECONDS);
            }
            return $response;
        }
	}

	public function activate_key() {
		if ( ! current_user_can( 'manage_options' ) ) {
			wp_die(0); 
		}
		check_ajax_referer( 'sticky_element_activate_key_nonce', 'nonce' );
		$response_data = array(
			'status' => 0,
			'message' => "",
			'type' => 'activate'
		);

		if(!isset($_REQUEST['license_key']) || empty($_REQUEST['license_key'])) {
			$response_data['message'] = "Invalid request";
		} else if(!isset($_REQUEST['nonce']) || empty($_REQUEST['nonce'])) {
			$response_data['message'] = "Invalid request";
		} else if(!wp_verify_nonce($_REQUEST['nonce'], 'sticky_element_activate_key_nonce')){
			$response_data['message'] = "Invalid request";
		}
		
		if($response_data['message'] == "") {
			$response_data['message'] = "Invalid license key";
			$license_key = $_REQUEST['license_key'];

			$api_params = array(
                'edd_action' => 'activate_license',
                'license' => $license_key,
                'item_id' => PRO_MY_STICKY_ELEMENT_ID,
                'url' => site_url()
            );

            /* Request to premio.io for key activation */
            $response = wp_safe_remote_post(PRO_MY_STICKY_ELEMENT_API_URL, array('body' => $api_params, 'timeout' => 15, 'sslverify' => true));

            if (is_wp_error($response)) {
                $response = wp_safe_remote_post(PRO_MY_STICKY_ELEMENT_API_URL, array('body' => $api_params, 'timeout' => 15, 'sslverify' => false));
            }

            if (is_wp_error($response)) {
                $response = array();                                                     // return empty array if error in response
            } else {
                $response = json_decode(wp_remote_retrieve_body($response), true);  // return response
            }

			if (!empty($response)) {
			    delete_transient("MSE_license_key_data");
				if ($response['success']) {
					update_option("sticky_element_license_key", $license_key);
					$response_data['status'] = 1;
                    if ($response['license'] == "valid" || $response['expires'] == "expires") {
                        $response_data['message'] = "You have a lifetime license";
                    } else if ($response['license'] == "valid") {
                        $expire_on = $response['expires'];
						$response_data['message'] = "Your License key will expire on " . date("d F, Y", strtotime($expire_on)) . ".";
					} else if ($response['license'] == "expired") {
						$url = "https://go.premio.io/checkout/?edd_license_key=" . $license_key . "&download_id=" . PRO_MY_STICKY_ELEMENT_ID;
						$response_data['message'] = "Your License key has been expired on " . date("d F, Y", strtotime($expire_on)) . ". <a target='_blank' href='" . $url . "'>Click here</a> to renew";
					}
				}
			}
		}
		echo json_encode($response_data);
		die;
	}

	public function deactivate_key() {
		if ( ! current_user_can( 'manage_options' ) ) {
			wp_die(0); 
		}
		check_ajax_referer( 'sticky_element_deactivate_key_nonce', 'nonce' );
		
		$response_data = array(
			'status' => 0,
			'message' => "",
			'type' => 'activate'
		);
		
		if(!isset($_REQUEST['license_key']) || empty($_REQUEST['license_key'])) {
			$response_data['message'] = "Invalid request";
		} else if(!isset($_REQUEST['nonce']) || empty($_REQUEST['nonce'])) {
			$response_data['message'] = "Invalid request";
		} else if(!wp_verify_nonce($_REQUEST['nonce'], 'sticky_element_deactivate_key_nonce')){
			$response_data['message'] = "Invalid request";
		}
		if($response_data['message'] == "") {
			$response_data['message'] = "Invalid license key";
			$license_key = $_REQUEST['license_key'];
			if (empty($license_key)) {
				$license_key = get_option("sticky_element_license_key");
			}

            $api_params = array(
                'edd_action' => 'deactivate_license',
                'license' => $license_key,
                'item_id' => PRO_MY_STICKY_ELEMENT_ID,
                'url' => site_url()
            );

            /* Request to premio.io for key deactivation */
            $response = wp_safe_remote_post(PRO_MY_STICKY_ELEMENT_API_URL, array('body' => $api_params, 'timeout' => 15, 'sslverify' => true));

            if (is_wp_error($response)) {
                $response = wp_safe_remote_post(PRO_MY_STICKY_ELEMENT_API_URL, array('body' => $api_params, 'timeout' => 15, 'sslverify' => false));
            }

            if (is_wp_error($response)) {
                $response = array();                                                     // return empty array if error in response
            } else {
                $response = json_decode(wp_remote_retrieve_body($response), true);  // return response
            }

			if (!empty($response)) {
                delete_transient("MSE_license_key_data");
				update_option("sticky_element_license_key", "");
				$response_data['status'] = 1;
				if ($response['license'] == "failed" || $response['license'] == "deactivated") {
					$response_data['message'] = "Your License key has been deactivated";
				}
			}
		}
		echo json_encode($response_data);
		die;
	}

}
$MyStickyElementLicense = new MyStickyElementLicense();

if( is_admin() ) {
    $my_settings_page = new MyStickyElementsPage_pro();
    include_once "class-review-box.php";
    include_once "license-key-box.php";
}


--- END FILE ---

--- FILE: mystickyelements-widget.php ---
<link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins" />
<h2 class="text-center"><?php esc_attr_e( 'Create a new My Sticky Elements widgets for your website. What can you use it for?', 'mystickyelements' ); ?></h2>
<div class="mystickyelement-new-widget-row">
	<div class="mystickyelement-features">
		<ul>
			<li>
				<div class="mystickyelement-feature">
					<div class="mystickyelement-feature-top">
						<img src="<?php echo MYSTICKYELEMENTS_PRO_URL ?>/images/pro-devices.png" />
					</div>
					<div class="feature-title">Create separate designs for desktop and mobile</div>
					<div class="feature-description">E.g. the mobile version can have a bigger widget, in a different color and a different position</div>
				</div>
			</li>
			<li>
				<div class="mystickyelement-feature">
					<div class="mystickyelement-feature-top">
						<img src="<?php echo MYSTICKYELEMENTS_PRO_URL ?>/images/pro-language.png" />
					</div>
					<div class="feature-title">Do you have a multi-language website or WPML plugin installed?</div>
					<div class="feature-description">You can show different form and buttons based on URL (E.g. WhatsApp message to a French number and call your French phone number)</div>
				</div>
			</li>
			<li>
				<div class="mystickyelement-feature">
					<div class="mystickyelement-feature-top">
						<img src="<?php echo MYSTICKYELEMENTS_PRO_URL ?>/images/pro-widget.png" />
					</div>
					<div class="feature-description"><b>Show separate widgets for different products</b> on your website (e.g. you can show the Facebook Messenger channel for products in the yourdomain.com/high-end/* category)</div>
				</div>
			</li>
			<li>
				<div class="mystickyelement-feature second">
					<div class="mystickyelement-feature-top">
						<img src="<?php echo MYSTICKYELEMENTS_PRO_URL ?>/images/pro-page.png" />
					</div>
					<div class="feature-title">Display different channels for your landing pages</div>
					<div class="feature-description">This way you can track the results better and have the right person assign to the relevant channel.</div>
				</div>
			</li>
			<li>
				<div class="mystickyelement-feature second">
					<div class="mystickyelement-feature-top">
						<img src="<?php echo MYSTICKYELEMENTS_PRO_URL ?>/images/pro-support.png" />
					</div>
					<div class="feature-title">Show one widget on your support and contact pages,</div>
					<div class="feature-description"> and a different widget on your sales pages.</div>
				</div>
			</li>
			<li>
				<div class="mystickyelement-feature second">
					<div class="mystickyelement-feature-top">
						<img src="<?php echo MYSTICKYELEMENTS_PRO_URL ?>/images/pro-chat.png" />
					</div>
					<div class="feature-title">Display different call-to-action messages</div>
					<div class="feature-description">for different pages on your website or separate call-to-action messages for mobile and desktop</div>
				</div>
			</li>
		</ul>
		<div class="clear clearfix"></div>
	</div>
	<a href="<?php echo esc_url(admin_url("admin.php?page=my-sticky-license-key")); ?>" class="new-upgrade-button" >Activate your license key</a>
</div>


--- END FILE ---

--- FILE: class-review-box.php ---
<?php
class Sticky_elements_pro_review_box {

    public $plugin_name = "myStickyElements";

    public $plugin_slug = "mystickyelements";

    public function __construct() {

        add_action("wp_ajax_".$this->plugin_slug."_review_box", array($this, "affiliate_program"));

        add_action('admin_notices', array($this, 'admin_notices'));
    }

    public function affiliate_program() {
        $nonce = filter_input(INPUT_POST, 'nonce', FILTER_SANITIZE_STRING);
        $days = filter_input(INPUT_POST, 'days', FILTER_SANITIZE_STRING);
        if(!empty($nonce) && wp_verify_nonce($nonce, $this->plugin_slug."_review_box")) {
            if($days == -1) {
                add_option($this->plugin_slug."_hide_review_box", "1");
            } else {
                $date = date("Y-m-d", strtotime("+".$days." days"));
                update_option($this->plugin_slug."_show_review_box_after", $date);
            }
        }
        die;
    }

    public function admin_notices() {
        $is_hidden = get_option($this->plugin_slug."_hide_review_box");
        if($is_hidden !== false) {
            return;
        }
        $current_count = get_option($this->plugin_slug."_show_review_box_after");
        if($current_count === false) {
            $date = date("Y-m-d", strtotime("+7 days"));
            add_option($this->plugin_slug."_show_review_box_after", $date);
            return;
        } else if($current_count < 35) {
            return;
        }
        $date_to_show = get_option($this->plugin_slug."_show_review_box_after");
        if($date_to_show !== false) {
            $current_date = date("Y-m-d");
            if($current_date < $date_to_show) {
                return;
            }
        }
        ?>
        <style>
            .<?php echo $this->plugin_slug ?>-premio-review-box p a {
                display: inline-block;
                float: right;
                text-decoration: none;
                color: #999999;
                position: absolute;
                right: 12px;
                top: 12px;
            }
            .<?php echo $this->plugin_slug ?>-premio-review-box p a:hover, .<?php echo $this->plugin_slug ?>-premio-review-box p a:focus {
                color: #333333;
            }
            .<?php echo $this->plugin_slug ?>-premio-review-box .button span {
                display: inline-block;
                line-height: 27px;
                font-size: 16px;
            }
            .<?php echo $this->plugin_slug ?>-review-box-popup {
                position: fixed;
                width: 100%;
                height: 100%;
                z-index: 10001;
                background: rgba(0,0,0,0.65);
                top: 0;
                left: 0;
                display: none;
            }
            .<?php echo $this->plugin_slug ?>-review-box-popup-content {
                background: #ffffff;
                padding: 20px;
                position: absolute;
                max-width: 450px;
                width: 100%;
                margin: 0 auto;
                top: 45%;
                left: 0;
                right: 0;
                -webkit-border-radius: 5px;
                -moz-border-radius: 5px;
                border-radius: 5px;: ;
            }
            .<?php echo $this->plugin_slug ?>-review-box-title {
                padding: 0 0 10px 0;
                font-weight: bold;
            }
            .<?php echo $this->plugin_slug ?>-review-box-options a {
                display: block;
                margin: 5px 0 5px 0;
                color: #333;
                text-decoration: none;
            }
            .<?php echo $this->plugin_slug ?>-review-box-options a.dismiss {
                color: #999;
            }
            .<?php echo $this->plugin_slug ?>-review-box-options a:hover, .affiliate-options a:focus {
                color: #0073aa;
            }
            button.<?php echo $this->plugin_slug ?>-close-review-box-popup {
                position: absolute;
                top: 5px;
                right: 0;
                border: none;
                background: transparent;
                cursor: pointer;
            }
            a.button.button-primary.<?php echo $this->plugin_slug ?>-review-box-btn {
                font-size: 14px;
                background: #F51366;
                color: #fff;
                border: solid 1px #F51366;
                border-radius: 3px;
                line-height: 24px;
                -webkit-box-shadow: 0 3px 5px -3px #333333;
                -moz-box-shadow: 0 3px 5px -3px #333333;
                box-shadow: 0 3px 5px -3px #333333;
                text-shadow: none;
            }
            .notice.notice-info.premio-notice {
                position: relative;
                padding: 1px 30px 1px 12px;
            }
            .notice.notice-info.premio-notice ul li {
                margin: 0;
            }
            .notice.notice-info.premio-notice ul li a {
                color: #0073aa;
                font-size: 14px;
                text-decoration: underline;
            }
            .<?php echo $this->plugin_slug ?>-premio-review-box p {
                display: inline-block;
                line-height: 30px;
                vertical-align: middle;
                padding: 0 10px 0 0;
            }
            .<?php echo $this->plugin_slug ?>-premio-review-box p img {
                width: 30px;
                height: 30px;
                display: inline-block;
                margin: 0 10px;
                vertical-align: middle;
                border-radius: 15px;
            }
            .review-thanks-img img {
                width: 100%;
                height: auto;
                max-width: 200px;
            }
            .review-thanks-msg {
                padding: 5px 0 0 10px;
                display: inline-block;
                text-align: left;
            }
            .review-thanks-box {
                padding: 10px 0 10px 0;
                position: relative;
                text-align: center;
                display: none;
            }
            .review-box-default {
            }
            .review-thanks-btn {
                border: 0;
                background: transparent;
                position: absolute;
                right: -30px;
                top: 5px;
            }
            .review-thanks-img {
                display: inline-block;
                vertical-align: top;
                width: 200px;
            }
            .thanks-msg-title {
                font-weight: bold;
                font-size: 18px;
            }
            .thanks-msg-desc {
                padding: 24px 0;
            }
            .thanks-msg-footer {
                font-weight: bold;
            }
        </style>
        <div class="notice notice-info premio-notice <?php echo $this->plugin_slug ?>-premio-review-box <?php echo $this->plugin_slug ?>-premio-review-box">
            <div class="review-box-default" id="default-review-box-<?php echo $this->plugin_slug ?>">
                <p>
                    Hi there, it seems like <b><?php echo $this->plugin_name ?></b> is bringing you some value, and that's pretty awesome! Can you please show us some love and rate <?php echo $this->plugin_name ?> on WordPress? It'll only take 2 minutes of your time, and will really help us spread the word
                    - <b>Gal Dubinski</b>, Co-founder <img width="30px" src="<?php echo esc_url(plugin_dir_url(__FILE__)."images/premio-owner.png") ?>" />
                    <a href="javascript:;" class="dismiss-btn <?php echo $this->plugin_slug ?>-premio-review-dismiss-btn"><span class="dashicons dashicons-no-alt"></span></a>
                </p>
                <div class="clear clearfix"></div>
                <ul>
                    <li><a class="<?php echo $this->plugin_slug ?>-premio-review-box-hide-btn" href="https://wordpress.org/support/plugin/mystickyelements/reviews/?filter=5" target="_blank">I'd love to help :)</a></li>
                    <li><a class="<?php echo $this->plugin_slug ?>-premio-review-box-future-btn" href="javascript:;">Not this time</a></li>
                    <li><a class="<?php echo $this->plugin_slug ?>-premio-review-box-hide-btn" href="javascript:;">I've already rated you</a></li>
                </ul>
            </div>
            <div class="review-thanks-box" id="review-thanks-<?php echo $this->plugin_slug ?>">
                <button class="<?php echo $this->plugin_slug ?>-close-thanks-btn review-thanks-btn"><span class="dashicons dashicons-no-alt"></span></button>

                <div class="review-thanks-img">
                    <img width="30px" src="<?php echo esc_url(plugin_dir_url(__FILE__)."/images/thanks.gif") ?>" />
                </div>
                <div class="review-thanks-msg">
                    <div class="thanks-msg-title">You are awesome &#128591;</div>
                    <div class="thanks-msg-desc">Thanks for your support, We really appreciate it!</div>
                    <div class="thanks-msg-footer">Premio team</div>
                </div>
                <div class="clear clearfix"></div>
            </div>
        </div>
        <div class="<?php echo $this->plugin_slug ?>-review-box-popup">
            <div class="<?php echo $this->plugin_slug ?>-review-box-popup-content">
                <button class="<?php echo $this->plugin_slug ?>-close-review-box-popup"><span class="dashicons dashicons-no-alt"></span></button>
                <div class="<?php echo $this->plugin_slug ?>-review-box-title">Would you like us to remind you about this later?</div>
                <div class="<?php echo $this->plugin_slug ?>-review-box-options">
                    <a href="javascript:;" data-days="3">Remind me in 3 days</a>
                    <a href="javascript:;" data-days="10">Remind me in 10 days</a>
                    <a href="javascript:;" data-days="-1" class="dismiss">Don't remind me about this</a>
                </div>
            </div>
        </div>
        <script>
            jQuery(document).ready(function(){
                jQuery("body").addClass("has-premio-box");
                jQuery(document).on("click", ".<?php echo $this->plugin_slug ?>-premio-review-dismiss-btn, .<?php echo $this->plugin_slug ?>-premio-review-box-future-btn", function(){
                    jQuery(".<?php echo $this->plugin_slug ?>-review-box-popup").show();
                });
                jQuery(document).on("click", ".<?php echo $this->plugin_slug ?>-close-review-box-popup", function(){
                    jQuery(".<?php echo $this->plugin_slug ?>-review-box-popup").hide();
                });
                jQuery(document).on("click", ".<?php echo $this->plugin_slug ?>-close-thanks-btn", function(){
                    jQuery(".<?php echo $this->plugin_slug ?>-review-box-popup").remove();
                    jQuery(".<?php echo $this->plugin_slug ?>-premio-review-box").remove();
                });
                jQuery(document).on("click",".<?php echo $this->plugin_slug ?>-premio-review-box-hide-btn",function(){
                    jQuery("#default-review-box-<?php echo $this->plugin_slug ?>").hide();
                    jQuery("#review-thanks-<?php echo $this->plugin_slug ?>").show();
                    jQuery.ajax({
                        url: "<?php echo admin_url("admin-ajax.php") ?>",
                        data: "action=<?php echo esc_attr($this->plugin_slug) ?>_review_box&days=-1&nonce=<?php echo esc_attr(wp_create_nonce($this->plugin_slug."_review_box")) ?>",
                        type: "post",
                        success: function() {

                        }
                    });
                });
                jQuery(document).on("click", ".<?php echo $this->plugin_slug ?>-review-box-options a", function(){
                    var dataDays = jQuery(this).attr("data-days");
                    jQuery(".<?php echo $this->plugin_slug ?>-review-box-popup").remove();
                    jQuery(".<?php echo $this->plugin_slug ?>-premio-review-box").remove();
                    jQuery("body").removeClass("has-premio-box");
                    jQuery.ajax({
                        url: "<?php echo admin_url("admin-ajax.php") ?>",
                        data: "action=<?php echo esc_attr($this->plugin_slug) ?>_review_box&days="+dataDays+"&nonce=<?php echo esc_attr(wp_create_nonce($this->plugin_slug."_review_box")) ?>",
                        type: "post",
                        success: function() {
                            jQuery(".<?php echo $this->plugin_slug ?>-review-box-popup").remove();
                            jQuery(".<?php echo $this->plugin_slug ?>-premio-review-box").remove();
                        }
                    });
                });
            });
        </script>
    <?php
    }
}
$Sticky_elements_pro_review_box = new Sticky_elements_pro_review_box();

--- END FILE ---

--- FILE: mystickyelements-front.php ---
<?php
if (!class_exists('MyStickyElementsFrontPage_pro')) {
    class MyStickyElementsFrontPage_pro {
        public function __construct() {
			
			if ( isset($_GET['page_id']) || isset($_GET['et_fb']) || isset($_GET['ct_builder']) || isset($_GET['so_live_editor']) || isset($_GET['siteorigin_panels_live_editor'])) {
				return false;
			}
			
			add_action('wp_enqueue_scripts', array($this, 'mystickyelements_enqueue_script'), 9999 );
			add_action('wp_footer', array($this, 'mystickyelement_element_footer'), 999 );
			add_action('wp_ajax_mystickyelements_contact_form', array($this, 'mystickyelements_contact_form'));
			add_action('wp_ajax_nopriv_mystickyelements_contact_form', array($this, 'mystickyelements_contact_form'));		
        }

		public function mystickyelements_google_fonts_url() {
			$elements_widgets = get_option( 'mystickyelements-widgets' );
			
			if ( empty($elements_widgets) || $elements_widgets == '' ){
				$elements_widgets[] = 'default';
			}
			$default_fonts = array('System Stack', 'Arial', 'Tahoma', 'Verdana', 'Helvetica', 'Times New Roman', 'Trebuchet MS', 'Georgia', 'Open Sans Hebrew');
			$fonts_url        = '';
			$fonts            = array();
			$font_args        = array();
			$base_url         =  "https://fonts.googleapis.com/css";

			foreach ( $elements_widgets as $key=>$value ) {
				$element_widget_no = '';
				if ($key != 0 ) {
					$element_widget_no = '-' . $key;
				}
				$general_settings = get_option( 'mystickyelements-general-settings' . $element_widget_no );
				
				if( !isset($general_settings['load_google_fonts']) && $general_settings['font_family'] != '' ){
					continue;
				}
				
				if ( isset($general_settings['font_family']) && $general_settings['font_family'] != '' && !in_array( $general_settings['font_family'], $default_fonts) ) {
					$fonts['family'][$general_settings['font_family']] = $general_settings['font_family'] . ':400,500,600,700';
				} else if( !isset($general_settings['font_family']) || $general_settings['font_family'] == '' ) {
					$fonts['family']['Poppins'] = 'Poppins:400,500,600,700';
				}
			}
			
			/* Prepapre URL if font family defined. */
			if( !empty( $fonts['family'] ) ) {				
				/* format family to string */
				if( is_array($fonts['family']) ){
					$fonts['family'] = implode( '|', $fonts['family'] );
				}
				$font_args['family'] = urlencode( trim( $fonts['family'] ) );
				if( !empty( $fonts['subsets'] ) ){
					/* format subsets to string */
					if( is_array( $fonts['subsets'] ) ){
						$fonts['subsets'] = implode( ',', $fonts['subsets'] );
					}
					$font_args['subsets'] = urlencode( trim( $fonts['subsets'] ) );
				}
				$fonts_url = add_query_arg( $font_args, $base_url );
				
				
			}
			
			return esc_url_raw( $fonts_url );
		}

		public function mystickyelements_enqueue_script() {
			$is_min = ( !WP_DEBUG ) ? '.min' : '';
			$contact_form = get_option('mystickyelements-contact-form');
            $general_settings = get_option('mystickyelements-general-settings');

			wp_enqueue_style( 'mystickyelements-google-fonts', $this->mystickyelements_google_fonts_url(),array(), PRO_MY_STICKY_ELEMENT_VERSION );

            wp_enqueue_style('font-awesome-css', plugins_url('/css/font-awesome.min.css', __FILE__), array(), PRO_MY_STICKY_ELEMENT_VERSION );
            wp_enqueue_style('mystickyelements-front-css', plugins_url('/css/mystickyelements-front'. $is_min .'.css', __FILE__), array(), PRO_MY_STICKY_ELEMENT_VERSION);
			
			
			wp_enqueue_style('intl-tel-input', plugins_url('/intl-tel-input-src/build/css/intlTelInput.css', __FILE__), array(), PRO_MY_STICKY_ELEMENT_VERSION);
			

			wp_enqueue_script('intl-tel-input-js', plugins_url('/intl-tel-input-src/build/js/intlTelInput.js', __FILE__), array('jquery'), PRO_MY_STICKY_ELEMENT_VERSION, true);
				
			wp_localize_script('intl-tel-input-js', 'mystickyelement_obj', array('plugin_url' => MYSTICKYELEMENTS_PRO_URL));	

            wp_enqueue_script('mystickyelements-cookie-js', plugins_url('/js/jquery.cookie.js', __FILE__), array('jquery'), PRO_MY_STICKY_ELEMENT_VERSION, true);
            wp_enqueue_script('mystickyelements-fronted-js', plugins_url('/js/mystickyelements-fronted'. $is_min .'.js', __FILE__), array('jquery'), PRO_MY_STICKY_ELEMENT_VERSION, true);
			
			$elements_widgets = get_option( 'mystickyelements-widgets' );
			if ( !empty($elements_widgets)) {				
				foreach( $elements_widgets as $ekey => $evalue ){
					$element_widget_no = '';
					if ($ekey != 0 ) {
						$element_widget_no = '-' . $ekey;
					}
					$general_settings = get_option('mystickyelements-general-settings' . $element_widget_no );
					$google_analytics = (isset($general_settings['google_analytics']) && $general_settings['google_analytics'] == 1)? true : false;
					if ( $google_analytics == true) {
						break;
					}
				}
			}
			
            $locale_settings = array(
                'ajaxurl' => admin_url('admin-ajax.php'),
                'ajax_nonce' => wp_create_nonce('mystickyelements'),
				'google_analytics'	=> $google_analytics,
            );
            wp_localize_script('mystickyelements-fronted-js', 'mystickyelements', $locale_settings);
		}

        public function mystickyelement_element_footer() {

			global $wp;
			$elements_widgets = get_option( 'mystickyelements-widgets' );
			if ( empty($elements_widgets) || $elements_widgets == '' ){
				$elements_widgets[] = 'default';
			}
            $social_channels_lists = mystickyelements_social_channels();
			$stickyelements_widgets = get_option('stickyelements_widgets');
			$page_options = array();
			if ( !empty($elements_widgets)):
				$widget_status = 0;
				foreach( $elements_widgets as $ekey => $evalue ):
					$element_widget_no = '';
					if ($ekey != 0 ) {
						$element_widget_no = '-' . $ekey;
					}
					if ( !isset( $stickyelements_widgets[$ekey]['status'])) {
						$widget_status = 1;
					}
					if ( isset( $stickyelements_widgets[$ekey]['status']) ) {
						$widget_status = $stickyelements_widgets[$ekey]['status'];
					}
					
					if ( $widget_status == 0 ) {
						continue;
					}
					
					$general_settings = get_option('mystickyelements-general-settings' . $element_widget_no );
					$page_rule_options = (isset($general_settings['page_settings'])) ? $general_settings['page_settings'] : array();
					$page_rule_flag = 1;       // for page Rule contain
					$page_options[$ekey] = 1;
					
					$domain = get_option('siteurl')."/";
					
					if ( !empty($page_rule_options) && is_array($page_rule_options) ) {
						foreach($page_rule_options as $key => $option){
							$page_rule_options[$key]['value'] = str_replace($domain,"",$option['value']);
						}			
					}					
					
					/* Unset Page rule when value empty */
					if ( !empty($page_rule_options) && is_array($page_rule_options) ) {
						foreach( $page_rule_options as $key=>$value ) {
							if ( trim($value['value']) == '' ) {
								unset($page_rule_options[$key]);
							}
						}
					}					
					
					/* checking for page visibility settings */
					if (!empty($page_rule_options) && is_array($page_rule_options)) {

						$url = strtolower($_SERVER['REQUEST_URI']);
						$link = (isset($_SERVER['HTTPS']) && $_SERVER['HTTPS'] === 'on' ? "https" : "http") . "://" .$_SERVER['HTTP_HOST'] . $_SERVER['REQUEST_URI'];
						$site_url = site_url("/");
						$site_url = get_option('siteurl');
						$request_url = substr($link, strlen($site_url));						
						$url = (isset($request_url) && $request_url == '/') ? $request_url : trim($request_url, "/");
						$page_rule_flag = 0;
						$page_options[$ekey] = 0;
						$total_option = count($page_rule_options);

						$options = 0;
						
						/* checking for each page options */
						foreach ($page_rule_options as $option) {
							$key = $option['option'];
							$value = trim(strtolower($option['value']));
							if ($key != '' && $value != '') {
								if($option['shown_on'] == "show_on") {
									$value = (isset($value) && $value == '/') ? $value : trim($value, "/");
									switch ($key) {
										case 'page_contains':
											$index = strpos($url, $value);
											if($index !== false) {
												$page_rule_flag = 1;
												$page_options[$ekey] = 1;
											}
											break;
										case 'page_has_url':
											if ($url === $value) {
												$page_rule_flag = 1;
												$page_options[$ekey] = 1;
											}
											break;
										case 'page_start_with':
											$length = strlen($value);
											$result = substr($url, 0, $length);
											if ($result == $value) {
												$page_rule_flag = 1;
												$page_options[$ekey] = 1;
											}
											break;
										case 'page_end_with':
											$length = strlen($value);
											$result = substr($url, (-1) * $length);
											if ($result == $value) {
												$page_rule_flag = 1;
												$page_options[$ekey] = 1;
											}
											break;
									}
								} else {
									$options++;
								}
							}
						}

						if($total_option == $options) {
							$page_rule_flag = 1;
							$page_options[$ekey] = 1;
						}
						foreach ($page_rule_options as $option) {
							$key = $option['option'];
							$value = trim(strtolower($option['value']));
							if ($key != '' && $option['shown_on'] == "not_show_on" && $value != '') {
								$value = (isset($value) && $value == '/') ? $value : trim($value, "/");
								switch ($key) {
									case 'page_contains':
										$index = strpos($url, $value);
										if($index !== false) {
											 $page_rule_flag = 0;
											 $page_options[$ekey] = 0;
										}
										break;
									case 'page_has_url':
										if ($url === $value) {
											$page_rule_flag = 0;
											$page_options[$ekey] = 0;
										}
										break;
									case 'page_start_with':
										$length = strlen($value);
										$result = substr($url, 0, $length);
										if ($result == $value) {
											$page_rule_flag = 0;
											$page_options[$ekey] = 0;
										}
										break;
									case 'page_end_with':
										$length = strlen($value);
										$result = substr($url, (-1) * $length);
										if ($result == $value) {
											$page_rule_flag = 0;
											$page_options[$ekey] = 0;
										}
										break;
								}
							}
						}

					}
				endforeach;/* */
			endif; /* */
			
			$element_widgetno = '';
			$widget_name = '';
			if ( !empty($page_options)) {
				$element_widget_no = '';

				foreach( $page_options as $key => $value ) {
					$element_widget_no = '';
					if ( $key != 0 ) {
						$element_widget_no = "-" . $key;
					}
					$general_settings = get_option('mystickyelements-general-settings' . $element_widget_no );
					$country_list = ( isset($general_settings['countries_list']) && $general_settings['countries_list'] != '' ) ? $general_settings['countries_list'] : array() ;
				}
				$current_country = '';
				if ( !empty($country_list)) {

					if( !isset( $_COOKIE['country_data'] ) ) {
						?>
						<script>
						(function( $ ) {
							'use strict';
							$(document).ready(function(){
								var $ipurl = 'https://www.cloudflare.com/cdn-cgi/trace';
									$.get($ipurl, function(cloudflaredata) {
										var currentCountry = cloudflaredata.match("loc=(.*)");
										document.cookie = "country_data=" + currentCountry[1];
									});
							});
						})( jQuery );
						</script>
						<?php
					}
					if( !isset( $_COOKIE['country_data'] ) ) {
						$url = "https://www.cloudflare.com/cdn-cgi/trace";
						$data = wp_remote_get( $url);
						$data_code = explode('loc=', $data['body']);
						$data_code = explode( 'tls=', $data_code[1]);
						$current_country = trim($data_code[0]);
						//setcookie( 'country_data', $current_country );
					} else {
						$current_country = $_COOKIE['country_data'];
					}

				}
				$page_rule_flag = 1;
				$qtag_apper = 1;
				foreach($page_options as $key=>$value ) {
					if ( $value == 1) {
						$element_widget_no = '';
						if ( $key != 0 ) {
							$element_widget_no = "-" . $key;
							$widget_name = $elements_widgets[$key];
						}
						$page_rule_flag = 0;
						$element_widgetno = 1;
						$general_settings = get_option('mystickyelements-general-settings' . $element_widget_no );
						$country_list = ( isset($general_settings['countries_list']) && $general_settings['countries_list'] != '' ) ? $general_settings['countries_list'] : array() ;

						if( !empty($country_list) ) {
							if ( in_array($current_country, $country_list)) {
								$page_rule_flag = 1;
							} else {
								continue;
							}
						} else {
							$page_rule_flag = 1;
						}
					} else {
						$general_settings = get_option('mystickyelements-general-settings' . $element_widget_no );
						$country_list = ( isset($general_settings['countries_list']) && $general_settings['countries_list'] != '' ) ? $general_settings['countries_list'] : array() ;

						if( !empty($country_list) ) {
							if (!in_array($current_country, $country_list)) {
								$page_rule_flag = 0;								
								$element_widgetno = '';
							}
						}  else {
							$page_rule_flag = 0;							
							$element_widgetno = '';
						}
					}

					$contact_form = get_option('mystickyelements-contact-form' . $element_widget_no );
					$social_channels = get_option('mystickyelements-social-channels' . $element_widget_no );
					$social_channels_tabs = get_option('mystickyelements-social-channels-tabs' . $element_widget_no );
					$general_settings = get_option('mystickyelements-general-settings' . $element_widget_no );

					/* Traffic Source Roles */
					$is_traffic_source = $this->getVisitorTrafficSource($general_settings, $element_widget_no);
					if ( !$is_traffic_source ) {
						continue;
					}

					/* Days & hours Rules */
					$is_days_hours = $this->getDaysHoursTime($general_settings);
					if ( !$is_days_hours ) {
						continue;
					}

					if( $page_rule_flag == 1 ) {
						if (!isset($contact_form['enable']) && !isset($social_channels['enable'])) {
							continue;
						}

						$contact_field = get_option( 'mystickyelements-contact-field' . $element_widget_no );
						if ( empty( $contact_field ) ) {
							$contact_field = array( 'name', 'phone', 'email', 'message', 'dropdown' );
						}

						$contact_form_class = '';
						if (isset($contact_form['desktop']) && $contact_form['desktop'] == 1) {
							$contact_form_class .= ' element-desktop-on';
						}
						if (isset($contact_form['mobile']) && $contact_form['mobile'] == 1) {
							$contact_form_class .= ' element-mobile-on';
						}

						$close_after = '';
						if ( isset($contact_form['close_form_automatic']) && $contact_form['close_form_automatic'] == 1 && isset($contact_form['close_after']) ) {
							$close_after = 'data-close-after="' . $contact_form['close_after'] . '"';
						}

						if ( !isset($general_settings['position_mobile']) ) {
							$general_settings['position_mobile'] = 'left';
						}

						$minimize_class = '';
						if ( isset($general_settings['minimize_tab']) && $general_settings['minimize_tab'] == 1 ) {
							if ( !isset($_COOKIE['minimize_desktop_' . $key]) && isset($general_settings['minimize_desktop']) && $general_settings['minimize_desktop'] == 'desktop' && !wp_is_mobile() ) {
								$minimize_class = 'element-minimize';
							} elseif ( !isset($_COOKIE['minimize_mobile_' . $key]) && isset($general_settings['minimize_mobile']) && $general_settings['minimize_mobile'] == 'mobile' && wp_is_mobile() ) {
								$minimize_class = 'element-minimize';
							} else if ( isset($_COOKIE['minimize_desktop_' . $key]) && $_COOKIE['minimize_desktop_' . $key] == 'minimize' && !wp_is_mobile() ) {
								$minimize_class = 'element-minimize';
							} elseif (isset($_COOKIE['minimize_mobile_' . $key]) && $_COOKIE['minimize_mobile_' . $key] == 'minimize' && wp_is_mobile()) {
								$minimize_class = 'element-minimize';
							}
						}else {
							$minimize_class = 'no-minimize';
						}


						/* Change Open Tabs click to hover on Mobile device */
						if ( $general_settings['open_tabs_when'] == 'click' && wp_is_mobile() ) {
							//$general_settings['open_tabs_when'] = 'hover';
						}
						$general_settings['widget-size'] = (isset($general_settings['widget-size']) && $general_settings['widget-size']!= '') ? $general_settings['widget-size'] : 'medium';

						$general_settings['mobile-widget-size'] = (isset($general_settings['mobile-widget-size']) && $general_settings['mobile-widget-size']!= '') ? $general_settings['mobile-widget-size'] : 'medium';

						$general_settings['entry-effect'] = (isset($general_settings['entry-effect']) && $general_settings['entry-effect']!= '') ? $general_settings['entry-effect'] : 'slide-in';
						$general_settings['templates'] = (isset($general_settings['templates']) && $general_settings['templates']!= '') ? $general_settings['templates'] : 'default';
						$mystickyelements_widget_count = $key;
						$mystickyelements_class = array();
						$mystickyelements_class[] = 'mystickyelements-fixed';
						$mystickyelements_class[] = 'mystickyelements-fixed-widget-' . $mystickyelements_widget_count;
						
						$mystickyelements_class[] = 'mystickyelements-position-screen-' . @$general_settings['position_on_screen'];
						$mystickyelements_class[] = 'mystickyelements-position-mobile-' . $general_settings['position_mobile'];
						$mystickyelements_class[] = 'mystickyelements-on-' . $general_settings['open_tabs_when'];
						$mystickyelements_class[] = 'mystickyelements-size-' . $general_settings['widget-size'];
						$mystickyelements_class[] = 'mystickyelements-mobile-size-' . $general_settings['mobile-widget-size'];
						$mystickyelements_class[] = 'mystickyelements-position-' . $general_settings['position'];
						$mystickyelements_class[] = 'mystickyelements-templates-' . $general_settings['templates'];
						$mystickyelements_class[] = 'mystickyelements-entry-effect-' . $general_settings['entry-effect'];
						
						
						
						
						if( $general_settings['entry-effect'] == 'slide-in' && isset($general_settings['time_delay']) ){
							$mystickyelements_class[] = 'delay-efect-slidein-'.$general_settings['position'];
						}else if( $general_settings['entry-effect'] == 'fade' && isset($general_settings['time_delay'])){
							$mystickyelements_class[] = 'delay-efect-fade';
						}

						$mystickyelements_classes = join( ' ', $mystickyelements_class );
						$general_settings['custom_position'] = ( isset($general_settings['custom_position'])) ? $general_settings['custom_position'] : '';
						$general_settings['custom_position_mobile'] = ( isset($general_settings['custom_position_mobile'])) ? $general_settings['custom_position_mobile'] : '';
						$country_list = ( isset($general_settings['countries_list']) && $general_settings['countries_list'] != '' ) ? $general_settings['countries_list'] : array() ;
						$mystickyelement_country_list = implode( ',', $country_list );

						if (isset($general_settings['form_open_automatic']) && $general_settings['form_open_automatic'] == 1 && !isset($_COOKIE['closed_contactform_'. $key])) {
							$contact_form_class .= ' elements-active';
						}
						?>
						<input type="hidden" class="mystickyelement-country-list-hidden" value="<?php echo $mystickyelement_country_list; ?>" />
						<div class="<?php echo esc_attr($mystickyelements_classes);?>" <?php if (isset($contact_form['direction']) && $contact_form['direction'] == 'RTL') : ?> dir="rtl" <?php endif; ?> data-custom-position="<?php echo $general_settings['custom_position'] ?>" data-custom-position-mobile="<?php echo $general_settings['custom_position_mobile'] ?>" data-mystickyelement-widget="<?php echo $mystickyelements_widget_count; ?>" data-widget-time-delay="<?php echo isset($general_settings['timer_delay_sec']) ? $general_settings['timer_delay_sec'] : ''; ?>" id="mystickyelement-widget-<?php echo $key;?>" data-istimedelay="<?php echo isset($general_settings['time_delay']) ? $general_settings['time_delay'] : '0';?>" >
							<div class="mystickyelement-lists-wrap">
								<ul class="mystickyelements-lists <?php echo esc_attr('mysticky' . $minimize_class);?>"data-mystickyelement-widget="<?php echo $mystickyelements_widget_count; ?>">
									<?php if ( isset($general_settings['minimize_tab']) && $general_settings['minimize_tab'] == 1 ):?>
										<li class="mystickyelements-minimize <?php echo esc_attr($minimize_class);?>" data-mystickyelement-widget="<?php echo $mystickyelements_widget_count; ?>">
											<span class="mystickyelements-minimize minimize-position-<?php echo esc_attr($general_settings['position'])?> minimize-position-mobile-<?php echo esc_attr($general_settings['position_mobile'])?>" <?php if (isset($general_settings['minimize_tab_background_color']) && $general_settings['minimize_tab_background_color'] != ''): ?>style="background: <?php echo esc_attr($general_settings['minimize_tab_background_color']); ?>" <?php endif;
											?>>
											<?php
											if ( !isset($_COOKIE['minimize_desktop_' . $mystickyelements_widget_count]) && isset($general_settings['minimize_desktop']) && $general_settings['minimize_desktop'] == 'desktop' && !wp_is_mobile() ) :
												echo "<i class='fas fa-envelope'></i>";
											elseif ( !isset($_COOKIE['minimize_mobile_' . $mystickyelements_widget_count]) && isset($general_settings['minimize_mobile']) && $general_settings['minimize_mobile'] == 'mobile' && wp_is_mobile() ) :
												echo "<i class='fas fa-envelope'></i>";
											elseif ( $general_settings['position'] == 'left' && !wp_is_mobile() ) :
												echo  ($minimize_class == "" ) ? "&larr;" : "&rarr;";
											elseif ( $general_settings['position'] == 'right' && !wp_is_mobile() ) :
												echo  ($minimize_class == "" ) ? "&rarr;" : "&larr;";
											elseif ( $general_settings['position'] == 'bottom' && !wp_is_mobile() ) :
												echo  ($minimize_class == "" ) ? "&darr;" : "&uarr;";
											elseif ( $general_settings['position_mobile'] == 'left' && wp_is_mobile() ) :
												echo  ($minimize_class == "" ) ? "&larr;" : "&rarr;" ;
											elseif ( $general_settings['position_mobile'] == 'right' && wp_is_mobile() ) :
												echo  ($minimize_class == "" ) ? "&rarr;" : "&larr;";
											elseif ( $general_settings['position_mobile'] == 'bottom' && wp_is_mobile() ) :
												echo  ($minimize_class == "" ) ? "&darr;" : "&uarr;";
											elseif ( $general_settings['position_mobile'] == 'top' && wp_is_mobile() ) :
												echo  ($minimize_class == "" ) ? "&uarr;" : "&darr;";
											endif;
											?>
											</span>
										</li>
									<?php endif;?>

									<?php if (isset($contact_form['enable']) && $contact_form['enable'] == 1): ?>
										<li id="mystickyelements-contact-form" class="mystickyelements-contact-form <?php echo esc_attr($contact_form_class); ?>" <?php if (isset($contact_form['direction']) && $contact_form['direction'] == 'RTL') : ?> dir="rtl" <?php endif; ?> data-tab-opt="<?php echo $general_settings["open_tabs_when"]; ?>" data-isphone-formate="<?php echo (isset($contact_form['phone_formate']) && $contact_form['phone_formate'] == 1) ? 1 : 0;?>">
											<?php
											$contact_form_text_class = '';
											if ($contact_form['text_in_tab'] == '') {
												$contact_form_text_class = "mystickyelements-contact-notext";
											}?>
											<span class="mystickyelements-social-icon <?php echo $contact_form_text_class?>" data-tab-setting = '<?php echo ( isset($general_settings["open_tabs_when"]) && $general_settings["open_tabs_when"]!="" ) ? $general_settings["open_tabs_when"] : "";?>' data-mobile-behavior="<?php echo (isset($general_settings['mobile_behavior']) && $general_settings['mobile_behavior'] != '' ) ? $general_settings['mobile_behavior'] : '' ?>" data-click = "0" data-flyout="<?php echo (isset($general_settings['flyout']) && $general_settings['flyout'] != '' ) ? $general_settings['flyout'] : '' ?>" style="background-color: <?php echo esc_attr($contact_form['tab_background_color']); ?>; color: <?php echo esc_attr($contact_form['tab_text_color']); ?>;" data-mystickyelement-widget="<?php echo $key; ?>"><i class="far fa-envelope"></i><?php echo esc_html($contact_form['text_in_tab']); ?></span>
											<?php
											$submit_button_text = ($contact_form['submit_button_text'] != '') ? $contact_form['submit_button_text'] : 'Submit';
											$submit_button_style = ($contact_form['submit_button_background_color'] != '') ? "background-color: " . $contact_form['submit_button_background_color'] . ";" : '';
											$submit_button_style .= ($contact_form['submit_button_text_color'] != '') ? "color:" . $contact_form['submit_button_text_color'] . ";" : '';

											$heading_color = ( isset($contact_form['headine_text_color']) && $contact_form['headine_text_color'] != '') ? "color: " . $contact_form['headine_text_color'] . ";" : ( ($contact_form['submit_button_background_color'] != '') ? "color: " . $contact_form['submit_button_background_color'] . ";" : 'color:#7761DF;' );

											$heading_color .= (isset($contact_form['form_bg_color']) && $contact_form['form_bg_color'] != '') ? "background-color:". $contact_form['form_bg_color'] : '';

											$contact_form['name_value'] = ($contact_form['name_value'] != '') ? $contact_form['name_value'] : esc_html__('Name', 'mystickyelements');
											$contact_form['phone_value'] = ($contact_form['phone_value'] != '') ? $contact_form['phone_value'] : esc_html__('Phone', 'mystickyelements');
											$contact_form['email_value'] = ($contact_form['email_value'] != '') ? $contact_form['email_value'] : esc_html__('Email', 'mystickyelements');
											$contact_form['message_value'] = ($contact_form['message_value'] != '') ? $contact_form['message_value'] : esc_html__('Message', 'mystickyelements');

											?>
											
											
											<div class="element-contact-form" style="background-color: <?php echo ( isset($contact_form['form_bg_color']))? $contact_form['form_bg_color'] : '#ffffff'; ?>">
												<?php if( isset( $contact_form['contact_title_text'] ) && $contact_form['contact_title_text'] != '' ) {
													$contact_title_text = $contact_form['contact_title_text'];
												} else {
													$contact_title_text = "Contact Form";
												} ?>
												<h3 style="<?php echo esc_attr($heading_color); ?>">
													<?php echo $contact_title_text; ?>
													<a href="javascript:void(0);" class="element-contact-close" data-mystickyelement-widget="<?php echo $key; ?>"><i class="fas fa-times"></i></a>
												</h3>
												<?php if ( isset( $contact_form['textblock_checkbox'] ) && $contact_form['textblock_checkbox'] == 'yes' && isset( $contact_form['textblock'] ) && $contact_form['textblock'] == 'textblock' ) { ?>
													<div class="stickyelements-textblock-content">
														<?php echo wpautop( isset($contact_form['textblock_text'])? stripslashes($contact_form['textblock_text']) : "" ); ?>
													</div>
												<?php } ?>
												<form id="stickyelements-form" class="stickyelements-form" action="" method="post" autocomplete="off" enctype="multipart/form-data" data-mystickyelement-widget="<?php echo $key; ?>" <?php echo $close_after;?>>
													<input type="hidden" name="action" value="mystickyelements_contact_form" />
													<input type="hidden" name="security" value="<?php echo wp_create_nonce('mystickyelements');?>" />
													<?php foreach ( $contact_field as $key=>$value ) :
														$val = $value;
														if ( !is_numeric($key) && $key == 'custom_fields' ) {
															$val = 'custom_fields';
														}
														if ( isset($value['custom_fields']) && is_array($value['custom_fields']) ) {
															$val = 'custom_fields';
															$value = $value['custom_fields'];
														}
														switch ( $val ) {
															case 'name' :

													if (isset($contact_form['name']) && $contact_form['name'] == 1): ?>
														<input
															class="<?php if (isset($contact_form['name_require']) && $contact_form['name_require'] == 1): ?> required<?php endif; ?>"
															type="text" id="contact-form-name" name="contact-form-name" value=""
															placeholder="<?php echo esc_attr($contact_form['name_value']); if (isset($contact_form['name_require']) && $contact_form['name_require'] == 1): echo esc_html__("*", 'mystickyelements'); endif;?>"  <?php if (isset($contact_form['name_require']) && $contact_form['name_require'] == 1): ?> required<?php endif; ?> autocomplete="off"/>
													<?php endif;
															break;
														case 'phone' :

													if (isset($contact_form['phone']) && $contact_form['phone'] == 1): ?>
														<input
															class="<?php if (isset($contact_form['phone_require']) && $contact_form['phone_require'] == 1): ?> required<?php endif; ?> contact-phone-default-field"
															type="tel" id="contact-form-phone" name="contact-form-phone" value=""
															placeholder="<?php echo esc_attr($contact_form['phone_value']); if (isset($contact_form['phone_require']) && $contact_form['phone_require'] == 1): echo esc_html__("*", 'mystickyelements'); endif;?>" <?php if (isset($contact_form['phone_require']) && $contact_form['phone_require'] == 1): ?> required <?php endif; ?> autocomplete="off"/>

															<input type="hidden" id="phone_formate_<?php echo $ekey; ?>" value="<?php echo (isset($contact_form['phone_formate']) && $contact_form['phone_formate'] == 1) ? 1 : 0; ?>">	
													<?php endif;
															break;
														case 'email' :

													if (isset($contact_form['email']) && $contact_form['email'] == 1): ?>
														<input
															class="email <?php if (isset($contact_form['email_require']) && $contact_form['email_require'] == 1): ?> required<?php endif; ?>"
															type="email" id="contact-form-email" name="contact-form-email" value=""
															placeholder="<?php echo esc_attr($contact_form['email_value']); if (isset($contact_form['email_require']) && $contact_form['email_require'] == 1): echo esc_html__("*", 'mystickyelements'); endif;?>" <?php if (isset($contact_form['email_require']) && $contact_form['email_require'] == 1): ?> required <?php endif; ?> autocomplete="off"/>
													<?php endif;
															break;
														case 'message' :

													if (isset($contact_form['message']) && $contact_form['message'] == 1): ?>
														<textarea
															class="<?php if (isset($contact_form['message_require']) && $contact_form['message_require'] == 1): ?> required<?php endif; ?>"
															id="contact-form-message" name="contact-form-message"
															placeholder="<?php echo esc_attr($contact_form['message_value']); if (isset($contact_form['message_require']) && $contact_form['message_require'] == 1): echo esc_html__("*", 'mystickyelements'); endif;?>" <?php if (isset($contact_form['message_require']) && $contact_form['message_require'] == 1): ?> required <?php endif; ?>></textarea>
													<?php endif;
															break;
														case 'dropdown' :
														if (isset($contact_form['dropdown']) && $contact_form['dropdown'] == 1): ?>
														<select id="contact-form-dropdown" name="contact-form-dropdown" class="<?php if (isset($contact_form['dropdown_require']) && $contact_form['dropdown_require'] == 1): ?> required<?php endif; ?>" <?php if (isset($contact_form['dropdown_require']) && $contact_form['dropdown_require'] == 1): ?> required <?php endif; ?>>

															<option value="" disabled selected><?php echo esc_html( $contact_form['dropdown-placeholder'] );  if (isset($contact_form['dropdown_require']) && $contact_form['dropdown_require'] == 1): echo esc_html__("*", 'mystickyelements'); endif;?></option>
															<?php foreach( $contact_form['dropdown-option'] as $option ):
																if ( $option == '' ) {
																	continue;
																}
																?>
																<option value="<?php echo esc_html($option);?>"><?php echo esc_html($option);?></option>
															<?php endforeach;?>
														</select>

													<?php endif;
															break;
														case 'custom_fields':
															foreach ( $value as $cutom_field ) {
																$cutom_field_value = $contact_form['custom_fields'][$cutom_field];
																$custom_field_name = sanitize_title($cutom_field_value['custom_field_name']);

																if ( isset($cutom_field_value['custom_field']) && $cutom_field_value['custom_field'] == 1) {
																	 
																	$field_dropdown = ( isset($cutom_field_value['field_dropdown']) && $cutom_field_value['field_dropdown'] != '' ) ? $cutom_field_value['field_dropdown'] : 'text';
																	if( $field_dropdown != 'textarea' && $field_dropdown != 'dropdown' ) {
																		$file_accept = "";
																		if(isset($cutom_field_value['custom_field_value']) && $cutom_field_value['custom_field_value'] != '' ) {
																			$field_name = stripslashes($cutom_field_value['custom_field_value']);
																		} else {

																			if ( $field_dropdown == 'text' ){
																				$field_name = "Enter your message";
																			} elseif ( $field_dropdown == 'number' ) {
																				$field_name = "Enter a number";
																			} elseif ( $field_dropdown == 'url' ) {
																				$field_name = "Enter your website";
																			} elseif ( $field_dropdown == 'date' ) {
																				$field_name = "mm/dd/yyyy";
																			} elseif ( $field_dropdown == 'file' ) {
																				$field_name = "Select File";
																				$file_accept = ".jpg,.jpeg,.png,.gif,.pdf,.doc,.docx,.ppt,.pptx,.pps,.ppsx,.odt,.xls,.xlsx,.mp3,.mp4,.wav,.mpg,.avi,.mov,.wmv,.3gp,.ogv";
																			}
																		}
																		if( $field_dropdown == 'file' ) {  ?>
																			<label class="contact-form-label"><?php echo  esc_attr($cutom_field_value['custom_field_name']);?><?php if (isset($cutom_field_value['custom_field_require']) && $cutom_field_value['custom_field_require'] == 1): echo esc_html__("*", 'mystickyelements'); endif; ?></label>
																			
																			<input type="<?php echo $field_dropdown; ?>" data-field="<?php echo esc_attr($cutom_field)?>" id="contact-form-<?php echo esc_attr($custom_field_name)?>" name="contact-form[custom_field][<?php echo esc_attr($cutom_field)?>][]" value="" placeholder="<?php echo  esc_attr($field_name);?><?php if (isset($cutom_field_value['custom_field_require']) && $cutom_field_value['custom_field_require'] == 1): echo esc_html__("*", 'mystickyelements'); endif; ?>" <?php if (isset($cutom_field_value['custom_field_require']) && $cutom_field_value['custom_field_require'] == 1): ?> required <?php endif; ?>  class="<?php if (isset($cutom_field_value['custom_field_require']) && $cutom_field_value['custom_field_require'] == 1): ?> required<?php endif; ?>contact-form-file-upload"  autocomplete="off" accept="<?php echo $file_accept; ?>" multiple />
																		<?php }else{ ?>
																			<input type="<?php echo $field_dropdown; ?>" data-field="<?php echo esc_attr($cutom_field)?>" id="contact-form-<?php echo esc_attr($custom_field_name)?>" name="contact-form[custom_field][<?php echo esc_attr($cutom_field)?>]" value="" placeholder="<?php echo  esc_attr($field_name);?><?php if (isset($cutom_field_value['custom_field_require']) && $cutom_field_value['custom_field_require'] == 1): echo esc_html__("*", 'mystickyelements'); endif; ?>" <?php if (isset($cutom_field_value['custom_field_require']) && $cutom_field_value['custom_field_require'] == 1): ?> required <?php endif; ?>  class="<?php if (isset($cutom_field_value['custom_field_require']) && $cutom_field_value['custom_field_require'] == 1): ?> required<?php endif; ?>contact-form-file-upload"  autocomplete="off" accept="<?php echo $file_accept; ?>" />	
																	<?php	}
																	} elseif( $field_dropdown == 'textarea' ) {
																			$field_name = (isset($cutom_field_value['custom_field_value']) && $cutom_field_value['custom_field_value'] != '' ) ? $cutom_field_value['custom_field_value'] : "Enter Your message";
																		?>
																		<textarea id="contact-form-<?php echo esc_attr($custom_field_name)?>" name="contact-form[custom_field][<?php echo esc_attr($cutom_field)?>]" placeholder="<?php echo  esc_attr($field_name);?><?php if (isset($cutom_field_value['custom_field_require']) && $cutom_field_value['custom_field_require'] == 1): echo esc_html__("*", 'mystickyelements'); endif; ?>" <?php if (isset($cutom_field_value['custom_field_require']) && $cutom_field_value['custom_field_require'] == 1): ?> required <?php endif; ?>  class="<?php if (isset($cutom_field_value['custom_field_require']) && $cutom_field_value['custom_field_require'] == 1): ?> required<?php endif; ?>"  autocomplete="off"></textarea>
																	<?php } else { ?>
																		<select id="contact-form-<?php echo esc_attr($custom_field_name)?>" name="contact-form[custom_field][<?php echo esc_attr($cutom_field)?>]" class="<?php if (isset($cutom_field_value['custom_field_require']) && $cutom_field_value['custom_field_require'] == 1): ?> required<?php endif; ?>" <?php if (isset($cutom_field_value['custom_field_require']) && $cutom_field_value['custom_field_require'] == 1): ?> required <?php endif; ?>>
																			<option value="" disabled selected><?php echo esc_html( $cutom_field_value['dropdown-placeholder'] );?><?php if (isset($cutom_field_value['custom_field_require']) && $cutom_field_value['custom_field_require'] == 1): echo esc_html__("*", 'mystickyelements'); endif; ?></option>
																			<?php foreach( $cutom_field_value['dropdown-option'] as $option ):
																				if ( $option == '' ) {
																					continue;
																				}
																				?>
																				<option value="<?php echo esc_html($option);?>"><?php echo esc_html($option);?></option>
																			<?php endforeach;?>
																		</select>
																	<?php } ?>
																<?php
																}/* End IF*/
															} /* End Foreach*/
															break;
														} /* End Switch case */
													endforeach;

													if ( isset( $contact_form['recaptcha_checkbox'] ) && $contact_form['recaptcha_checkbox'] == 'yes') {
														$recaptcha_site_key = ( isset($contact_form['recaptcha_site_key'])) ? $contact_form['recaptcha_site_key'] : '';
														$recaptcha_secrete_key = ( isset($contact_form['recaptcha_secrete_key'])) ? $contact_form['recaptcha_secrete_key'] : '';
														$invisible_recaptcha_checkbox_class = '';
														if ( isset( $contact_form['invisible_recaptcha_checkbox'] ) && $contact_form['invisible_recaptcha_checkbox'] == 'yes') {
															echo "<style>.grecaptcha-badge { visibility: hidden;}</style>";
															$invisible_recaptcha_checkbox_class = 'mystickyelement-invisible-recaptcha';
														} 
														?>
														
														<?php 
															$recaptcha_type = (isset($contact_form['recaptcha_type']) && $contact_form['recaptcha_type'] != '' ) ? $contact_form['recaptcha_type'] : 'v3';
															if($recaptcha_type == 'v2'){
																?>
																   <script src="https://www.google.com/recaptcha/api.js" async defer></script>
																 <div class="g-recaptcha" data-sitekey="<?php echo $recaptcha_site_key; ?>"></div>
																<?php
															}else{
																?>
																<script src="https://www.google.com/recaptcha/api.js?render=<?php echo $recaptcha_site_key; ?>"></script>
																<script>			
																	function getRecaptcha() {
																		if( typeof grecaptcha === "function" || typeof grecaptcha === "object"){
																			grecaptcha.ready(function () {
																				grecaptcha.execute('<?php echo $recaptcha_site_key; ?>', { action: 'submit' }).then(function (token) {	
																					var recaptchaResponse = document.getElementsByClassName("mse-g-recaptcha-response");
																					for (var i = 0; i < recaptchaResponse.length; i++) {
																						recaptchaResponse[i].value = token;
																					}
																					//recaptchaResponse.value = token;
																				});
																			});
																		}
																		
																	}
																</script>
																<div id="contact-form-recaptcha" class="<?php echo $invisible_recaptcha_checkbox_class; ?>" ></div>
																<input type="hidden" name="g-recaptcha-response" id="mse-g-recaptcha-response" class="mse-g-recaptcha-response">
																<?php
															}
														?>
														
														
														<?php
													}
													if ( isset( $contact_form['consent_checkbox'] ) && $contact_form['consent_checkbox'] == 'yes') : ?>
														<div id="contact-form-consent-fields" class="contact-form-consent-fields" style="display: flex;">
															<label style="margin-top: 0.5%;">
																<input type="checkbox" name="contact-form-consent-fields" value="1" <?php if (isset($contact_form['consent_text_require']) && $contact_form['consent_text_require'] == 1): ?> required <?php endif; ?> id="mystickyelement-<?php echo esc_attr($key); ?>"/>
															</label>
																<div class="contact_form_consent_txt" style="width:90%;">
																<?php
																echo stripslashes($contact_form['consent_text']); 
																if (isset($contact_form['consent_text_require']) && $contact_form['consent_text_require'] == 1): echo "<span class='contact_form_consent_required'>*</span>"; endif; ?></div>
															
														</div>
													<?php endif;?>
													
													<p class="mse-form-success-message" id="mse-form-error" style="display:none;"></p>
													<input id="stickyelements-submit-form" type="submit" name="contact-form-submit"
														   value="<?php echo esc_html($submit_button_text); ?>"
														   style="<?php echo esc_attr($submit_button_style); ?>"/>
													<?php $unique_id = uniqid() . time() . uniqid(); ?>
													<input type="hidden" name="nonce" value="<?php echo $unique_id ?>">
													<input type="hidden" name="widget_name" value="<?php echo esc_attr($widget_name); ?>">
													<input type="hidden" name="widget_number" value="<?php echo esc_attr($element_widget_no); ?>">
													<input type="hidden" name="form_id"
														   value="<?php echo wp_create_nonce($unique_id) ?>">
													<input type="hidden" id="stickyelements-page-link" name="stickyelements-page-link" value="<?php echo esc_url(home_url( $wp->request ))?>" />
												</form>
											</div>
										</li>
									<?php endif; /* Contact Form */
									if (!empty($social_channels_tabs) && isset($social_channels['enable']) && $social_channels['enable'] == 1) :
										$protocols = array('http', 'https', 'mailto', 'tel', 'sms', 'javascript','viber','skype');
										foreach ($social_channels_tabs as $key => $value):
											if ( $key == 'is_empty') {
												continue;
											}
											
											$link_target = isset($value['open_new_tab']) ? 1 : 0;
											if (  strpos($key, 'custom_channel') !== false || strpos($key, 'custom_shortcode') !== false ) {
													$custom_channel_key_temp = '';
													if( strpos($key, 'custom_channel') !== false){
														$custom_channel_key_temp = $key;
														$key = 'custom_channel';
													} 
													if( strpos($key, 'custom_shortcode') !== false){
														$custom_channel_key_temp = $key;
														$key = 'custom_shortcode';
													} 
													
													$social_channels_lists = mystickyelements_custom_social_channels();
													$social_channels_list  = $social_channels_lists[$key];
													
													if ( $custom_channel_key_temp != '') {
														$key = $custom_channel_key_temp;
													}
										
												} else {
													$social_channels_lists = mystickyelements_social_channels();
													$social_channels_list = $social_channels_lists[$key];
												}
											
											
											$element_class = '';
											if (isset($value['desktop']) && $value['desktop'] == 1) {
												$element_class .= ' element-desktop-on';
											}
											if (isset($value['mobile']) && $value['mobile'] == 1) {
												$element_class .= ' element-mobile-on';
											}

											$hover_text = ($value['hover_text'] != '') ? $value['hover_text'] : '';
											$social_link = '';
											$channel_type = (isset($value['channel_type'])) ? $value['channel_type'] : '';

											switch ($key) {
												case 'whatsapp':
													$value['text'] = str_replace( array('http://', 'https://') , array('','') , $value['text']);
													if ( isset($value['pre_set_message']) && $value['pre_set_message'] != '' ) {
														$social_link = 'https://api.whatsapp.com/send?phone=' .str_replace('+', '', $value['text']) . '&text=' . $value['pre_set_message'];
													} else {
														$social_link = 'https://api.whatsapp.com/send?phone=' . str_replace('+', '', $value['text']);
													}
													if ( wp_is_mobile()) {
														$link_target = 0;
													}
													break;
												case 'phone':
													$value['text'] = str_replace( array('http://', 'https://') , array('','') , $value['text']);
													if (strpos($value['text'], 'tel:') == false) {
														$social_link = "tel:".$value['text'];
													} else {
														$social_link = $value['text'];
													}
													$link_target = 0;
													break;
												case 'email':
													if (strpos($value['text'], 'mailto:') == false) {
														$social_link = "mailto:".$value['text'];
													} else {
														$social_link = $value['text'];
													}
													$link_target = 0;
													break;
												case 'wechat':
													$social_link = '';
													break;
												case 'facebook_messenger';
													$value['text'] = str_replace( array('http://', 'https://') , array('','') , $value['text']);
													$value_dash_count = substr_count ($value['text'], '-');
													if( $value_dash_count > 0 ) {
														$split_value = explode( '-', $value['text'] );
														$value_final = $split_value[count($split_value)-1];
													} else {
														$value_final = $value['text'];
													}
													$social_link = 'https://m.me/' . $value_final;
													if ( wp_is_mobile()) {
														$link_target = 0;
													}
													break;
												case 'address':
													$social_link = '';
													$value['text'] = str_replace( array('http://', 'https://') , array('','') , $value['text']);
													if ($value['text'] != '') {
														$hover_text .= ': ' . $value['text'];
													}
													break;
												case 'business_hours':
													$social_link = '';
													$value['text'] = str_replace( array('http://', 'https://') , array('','') , $value['text']);
													if ($value['text'] != '') {
														$hover_text .= ': ' . $value['text'];
													}
													break;
												case 'telegram' :
												
													if ( strpos( $value['text'], '//t.me') == '' ) {
														$social_link = "https://t.me/" . str_replace( '@', '', $value['text'] );
													} else {
														$social_link = $value['text'];
													}
													break;
												case 'vk' :
													$social_link = 'https://vk.me/' . $value['text'];
													break;
												case 'viber' :
													$value['text'] = str_replace('+','', $value['text']);
													$iPod    = stripos($_SERVER['HTTP_USER_AGENT'],"iPod");
													$iPhone  = stripos($_SERVER['HTTP_USER_AGENT'],"iPhone");
													$iPad    = stripos($_SERVER['HTTP_USER_AGENT'],"iPad");
													if( $iPod || $iPhone ){
														$value['text'] = '+'.$value['text'];
													}else if($iPad){
														$value['text'] = '+'.$value['text'];
													}
													$social_link = "viber://chat?number=" . $value['text'];
													if ( wp_is_mobile()) {
														$link_target = 0;
													}
													break;
												case 'snapchat' :
													 $social_link = "https://www.snapchat.com/add/" . $value['text'];
													break;
												case 'skype' :
													$social_link = "skype:" . $value['text'] . "?chat";
													$link_target = 0;
													break;
												case 'SMS' :
													$social_link = "sms:" . $value['text'];
													$link_target = 0;
													break;
												case 'qq':
													$social_link = '';
													$value['text'] = str_replace( array('http://', 'https://') , array('','') , $value['text']);
													if ($value['text'] != '') {
														$hover_text .= ': ' . $value['text'];
													}
													break;
												case 'tiktok':
													$pos = strpos( $value['text'] , '@' );
													if($pos === false){
														$value['text'] = '@'.$value['text'] ;
													}
													$social_link = 'https://www.tiktok.com/'.$value['text'];
													break;	
												default:
													if ( $channel_type == 'whatsapp') {
														$value['text'] = str_replace( array('http://', 'https://') , array('','') , $value['text']);
														if ( isset($value['pre_set_message']) && $value['pre_set_message'] != '' ) {
															$social_link = 'https://api.whatsapp.com/send?phone=' .str_replace('+', '', $value['text']) . '&text=' . $value['pre_set_message'];
														} else {
															$social_link = 'https://api.whatsapp.com/send?phone=' . str_replace('+', '', $value['text']);
														}
														if ( wp_is_mobile()) {
															$link_target = 0;
														}
													} else {
														$social_link = $value['text'];
													}
													break;
											}
											if ( isset($social_channels_list['custom_html']) && $social_channels_list['custom_html'] == 1) {
												$social_link = '';
												$element_class .= ' mystickyelements-custom-html-main';
											}
											if(preg_match('/^<iframe /',$value['text'])){
												$element_class .=" mystickyelements-custom-html-iframe";
											}
											/*if(preg_match('/^<[a-z]/',$value['text']) && ! preg_match('/^<iframe /',$value['text'])){
												$element_class .=" mystickyelements-custom-html-div";
											}*/

											if( isset($social_channels_list['custom']) && $social_channels_list['custom'] == 1 ) {
												if( isset($value['open_new_tab']) && $value['open_new_tab'] == 1 ) {
													$link_target = 1;
												} else {
													$link_target = 0;
												}
											}
											?>
											<li id="mystickyelements-social-<?php echo esc_attr($key);?>"
												class="mystickyelements-social-icon-li mystickyelements-social-<?php echo esc_attr($key);?> <?php echo esc_attr($element_class);?>">
												<?php
												/*diamond template css*/
												$widget_class = '.mystickyelements-fixed-widget-' . $mystickyelements_widget_count;
												if ( isset($value['bg_color']) && $value['bg_color'] != '' ) { ?>
													<style>
														<?php if( $general_settings['templates'] == 'diamond' ) { ?>
															<?php echo $widget_class; ?>.mystickyelements-templates-diamond li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before {
																background: <?php echo $value['bg_color']; ?>;
															}
															@media only screen and (min-width: 1025px) {
																<?php echo $widget_class; ?>.mystickyelements-position-left.mystickyelements-on-click.mystickyelements-templates-diamond li:not(.mystickyelements-contact-form).elements-active span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::after,
																<?php echo $widget_class; ?>.mystickyelements-position-left.mystickyelements-on-hover.mystickyelements-templates-diamond li:not(.mystickyelements-contact-form):hover span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::after	{
																	background-color: <?php echo $value['bg_color']; ?>;
																}
																<?php echo $widget_class; ?>.mystickyelements-position-right.mystickyelements-on-click.mystickyelements-templates-diamond li:not(.mystickyelements-contact-form).elements-active span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::after,
																<?php echo $widget_class; ?>.mystickyelements-position-right.mystickyelements-on-hover.mystickyelements-templates-diamond li:not(.mystickyelements-contact-form):hover span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::after {
																	background-color: <?php echo $value['bg_color']; ?>;
																}
																<?php echo $widget_class; ?>.mystickyelements-position-left.mystickyelements-templates-diamond .social-<?php echo esc_attr($key);?> +  span.mystickyelements-social-text:before {
																	border-left-color: <?php echo $value['bg_color']; ?>;
																}
																<?php echo $widget_class; ?>.mystickyelements-position-right.mystickyelements-templates-diamond .social-<?php echo esc_attr($key);?> +  span.mystickyelements-social-text:before {
																	border-right-color: <?php echo $value['bg_color']; ?>;
																}
															}
															@media only screen and (max-width: 1024px) {
																<?php echo $widget_class; ?>.mystickyelements-position-mobile-left.mystickyelements-on-click.mystickyelements-templates-diamond li:not(.mystickyelements-contact-form).elements-active span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::after,
																<?php echo $widget_class; ?>.mystickyelements-position-mobile-left.mystickyelements-on-hover.mystickyelements-templates-diamond li:not(.mystickyelements-contact-form):hover span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::after	{
																	background-color: <?php echo $value['bg_color']; ?>;
																}
																<?php echo $widget_class; ?>.mystickyelements-position-mobile-right.mystickyelements-on-click.mystickyelements-templates-diamond li:not(.mystickyelements-contact-form).elements-active span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::after,
																<?php echo $widget_class; ?>.mystickyelements-position-mobile-right.mystickyelements-on-hover.mystickyelements-templates-diamond li:not(.mystickyelements-contact-form):hover span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::after {
																	background-color: <?php echo $value['bg_color']; ?>;
																}
																<?php echo $widget_class; ?>.mystickyelements-position-mobile-left.mystickyelements-templates-diamond .social-<?php echo esc_attr($key);?> +  span.mystickyelements-social-text:before {
																	border-left-color: <?php echo $value['bg_color']; ?>;
																}
																<?php echo $widget_class; ?>.mystickyelements-position-mobile-right.mystickyelements-templates-diamond .social-<?php echo esc_attr($key);?> +  span.mystickyelements-social-text:before {
																	border-right-color: <?php echo $value['bg_color']; ?>;
																}
															}
														<?php
														}
														if( $general_settings['templates'] == 'arrow' ) {
														?>
															<?php if( $key == 'insagram' ) { ?>
															<?php echo $widget_class; ?>.mystickyelements-position-left.mystickyelements-templates-arrow li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before,
															<?php echo $widget_class; ?>.mystickyelements-position-left.mystickyelements-templates-arrow .social-<?php echo esc_attr($key);?> +  span.mystickyelements-social-text:before {
																background: <?php echo $value['bg_color']; ?>;
															}
															<?php } ?>
															@media only screen and (min-width: 1025px) {
																<?php echo $widget_class; ?>.mystickyelements-position-left.mystickyelements-templates-arrow li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before,
																<?php echo $widget_class; ?>.mystickyelements-position-left.mystickyelements-templates-arrow .social-<?php echo esc_attr($key);?> +  span.mystickyelements-social-text:before {
																	border-left-color: <?php echo $value['bg_color']; ?>;
																}
																<?php echo $widget_class; ?>.mystickyelements-position-right.mystickyelements-templates-arrow li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before,
																<?php echo $widget_class; ?>.mystickyelements-position-right.mystickyelements-templates-arrow .social-<?php echo esc_attr($key);?> +  span.mystickyelements-social-text:before {
																	border-right-color: <?php echo $value['bg_color']; ?>;
																}
																<?php echo $widget_class; ?>.mystickyelements-position-bottom.mystickyelements-templates-arrow li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before,
																<?php echo $widget_class; ?>.mystickyelements-position-bottom.mystickyelements-templates-arrow .social-<?php echo esc_attr($key);?> +  span.mystickyelements-social-text:before {
																	border-bottom-color: <?php echo $value['bg_color']; ?>;
																}
															}
															@media only screen and (max-width: 1024px) {
																<?php echo $widget_class; ?>.mystickyelements-position-mobile-left.mystickyelements-templates-arrow li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before,
																<?php echo $widget_class; ?>.mystickyelements-position-mobile-left.mystickyelements-templates-arrow .social-<?php echo esc_attr($key);?> +  span.mystickyelements-social-text:before {
																	border-left-color: <?php echo $value['bg_color']; ?>;
																}
																<?php echo $widget_class; ?>.mystickyelements-position-mobile-right.mystickyelements-templates-arrow li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before,
																<?php echo $widget_class; ?>.mystickyelements-position-mobile-right.mystickyelements-templates-arrow .social-<?php echo esc_attr($key);?> +  span.mystickyelements-social-text:before {
																	border-right-color: <?php echo $value['bg_color']; ?>;
																}
															}
														<?php
														}
														if( $general_settings['templates'] == 'triangle' ) {
														?>
															<?php echo $widget_class; ?>.mystickyelements-templates-triangle li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before,
															<?php echo $widget_class; ?>.mystickyelements-templates-triangle li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::after {
																background: <?php echo $value['bg_color']; ?>;
															}
															@media only screen and (min-width: 1025px) {
																<?php echo $widget_class; ?>.mystickyelements-position-left.mystickyelements-templates-triangle li:not(.mystickyelements-contact-form) .social-<?php echo esc_attr($key);?> + span.mystickyelements-social-text::before {
																	border-left-color: <?php echo $value['bg_color']; ?>;
																}
																<?php echo $widget_class; ?>.mystickyelements-position-right.mystickyelements-templates-triangle li:not(.mystickyelements-contact-form) .social-<?php echo esc_attr($key);?> + span.mystickyelements-social-text::before {
																	border-right-color: <?php echo $value['bg_color']; ?>;
																}
																<?php echo $widget_class; ?>.mystickyelements-position-bottom.mystickyelements-templates-triangle li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before,
																<?php echo $widget_class; ?>.mystickyelements-position-bottom.mystickyelements-templates-triangle li:not(.mystickyelements-contact-form) .social-<?php echo esc_attr($key);?> + span.mystickyelements-social-text::before {
																	border-bottom-color: <?php echo $value['bg_color']; ?>;
																}
																<?php echo $widget_class; ?>.mystickyelements-position-bottom.mystickyelements-on-click.mystickyelements-templates-triangle li:not(.mystickyelements-contact-form).elements-active span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before,
																<?php echo $widget_class; ?>.mystickyelements-position-bottom.mystickyelements-on-hover.mystickyelements-templates-triangle li:not(.mystickyelements-contact-form):hover span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before {
																	background-color: <?php echo $value['bg_color']; ?>;
																}
															}
															@media only screen and (max-width: 1024px) {
																<?php echo $widget_class; ?>.mystickyelements-position-mobile-left.mystickyelements-templates-triangle li:not(.mystickyelements-contact-form) .social-<?php echo esc_attr($key);?> + span.mystickyelements-social-text::before {
																	border-left-color: <?php echo $value['bg_color']; ?>;
																}
																<?php echo $widget_class; ?>.mystickyelements-position-mobile-right.mystickyelements-templates-triangle li:not(.mystickyelements-contact-form) .social-<?php echo esc_attr($key);?> + span.mystickyelements-social-text::before {
																	border-right-color: <?php echo $value['bg_color']; ?>;
																}
																<?php echo $widget_class; ?>.mystickyelements-position-mobile-left.mystickyelements-on-click.mystickyelements-templates-triangle li:not(.mystickyelements-contact-form).elements-active span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before,
																<?php echo $widget_class; ?>.mystickyelements-position-mobile-left.mystickyelements-on-hover.mystickyelements-templates-triangle li:not(.mystickyelements-contact-form):hover span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before	{
																	background-color: <?php echo $value['bg_color']; ?>;
																}
																<?php echo $widget_class; ?>.mystickyelements-position-mobile-right.mystickyelements-on-click.mystickyelements-templates-triangle li:not(.mystickyelements-contact-form).elements-active span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before,
																<?php echo $widget_class; ?>.mystickyelements-position-mobile-right.mystickyelements-on-hover.mystickyelements-templates-triangle li:not(.mystickyelements-contact-form):hover span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before {
																	background-color: <?php echo $value['bg_color']; ?>;
																}
															}
														<?php
														}
														?>
													</style>
													<?php
												}
												$channel_type = (isset($value['channel_type'])) ? $value['channel_type'] : '';
												if ( $channel_type != 'custom' && $channel_type != '' ) {
													if ( isset( $social_channels_lists[$channel_type]['custom_svg_icon'] ) ) {
														$social_channels_list['custom_svg_icon'] = $social_channels_lists[$channel_type]['custom_svg_icon'];
													}
													$social_channels_list['class'] = $social_channels_lists[$channel_type]['class'];
													$value['fontawesome_icon'] = $social_channels_lists[$channel_type]['class'];
												}
												?>
												<span class="mystickyelements-social-icon social-<?php echo esc_attr($key);?> social-<?php echo esc_attr($channel_type);?>" data-tab-setting = '<?php echo ( isset($general_settings["open_tabs_when"]) && $general_settings["open_tabs_when"]!="" ) ? $general_settings["open_tabs_when"] : "";?>' data-tab-setting = '<?php echo ( isset($general_settings["open_tabs_when"]) && $general_settings["open_tabs_when"]!="" ) ? $general_settings["open_tabs_when"] : "";?>'  data-mobile-behavior="<?php echo (isset($general_settings['mobile_behavior']) && $general_settings['mobile_behavior'] != '' ) ? $general_settings['mobile_behavior'] : '' ?>" data-click = "0" data-flyout="<?php echo (isset($general_settings['flyout']) && $general_settings['flyout'] != '' ) ? $general_settings['flyout'] : '' ?>"
													  <?php if (isset($value['bg_color']) && $value['bg_color'] != ''): ?>  style="background: <?php echo esc_attr($value['bg_color']); ?>" <?php endif;
												?>>
													<?php if ($social_link != ''): ?>
														<a href="<?php echo esc_url($social_link, $protocols); ?>"  <?php if ( $link_target == 1 ):?> target="_blank" rel="noopener" <?php endif;?> data-url="<?php echo esc_url($social_link, $protocols); ?>" data-tab-setting = '<?php echo ( isset($general_settings["open_tabs_when"]) && $general_settings["open_tabs_when"]!="" ) ? $general_settings["open_tabs_when"] : "";?>' data-mobile-behavior="<?php echo (isset($general_settings['mobile_behavior']) && $general_settings['mobile_behavior'] != '' ) ? $general_settings['mobile_behavior'] : '' ?>" data-flyout="<?php echo (isset($general_settings['flyout']) && $general_settings['flyout'] != '' ) ? $general_settings['flyout'] : '' ?>">
													<?php endif;
															if (isset($social_channels_list['custom']) && $social_channels_list['custom'] == 1 && $value['custom_icon'] != '' &&  $value['fontawesome_icon'] == ''): ?>
																<img class="<?php echo ( isset($value['stretch_custom_icon']) && $value['stretch_custom_icon'] == 1 ) ? 'mystickyelements-stretch-custom-img' : '';  ?>" src="<?php echo esc_url($value['custom_icon']); ?>"/>
															<?php else:
																if ( isset($social_channels_list['custom']) && $social_channels_list['custom'] == 1 && $value['fontawesome_icon'] != '' ) {
																	$social_channels_list['class'] = $value['fontawesome_icon'];
																}
																if ( isset($social_channels_list['custom_svg_icon']) && $social_channels_list['custom_svg_icon'] != '' ) :
																	echo $social_channels_list['custom_svg_icon'];
																else: ?>
																<i class="<?php echo esc_attr($social_channels_list['class']); ?>" <?php if ( isset($value['icon_color']) && $value['icon_color'] != '') : echo "style='color:" . $value['icon_color'] . "'"; endif; ?>></i>
															<?php endif;
															endif;
															if ( isset($value['icon_text']) && $value['icon_text'] != '' && isset($general_settings['templates']) && $general_settings['templates'] == 'default' ) {
																$icon_text_size = '';
																if ( isset($value['icon_text_size']) && $value['icon_text_size'] != '') {
																	$icon_text_size = "font-size: " . $value['icon_text_size'] . "px";
																}
																echo "<span class='mystickyelements-icon-below-text' style='".$icon_text_size."'>" . esc_html($value['icon_text']) . "</span>";
															}
													if ($social_link != ''  ): ?>
														</a>
													<?php endif;
													if ( $key == 'line') {
														echo "<style>.mystickyelements-social-icon.social-". $key ." svg .fil1{ fill:" .$value['icon_color']. "}</style>";
													}
													if ( $key == 'qzone') {
														echo "<style>.mystickyelements-social-icon.social-". $key ." svg .fil2{ fill:" . $value['icon_color'] . "}</style>";
													}
													?>
												</span>

											<?php if ( isset( $social_channels_list['custom_html'] ) && $social_channels_list['custom_html'] == 1  ) :?>
												<div class="mystickyelements-custom-html" <?php if (isset($value['bg_color']) && $value['bg_color'] != ''): ?>style="background: <?php echo esc_attr($value['bg_color']); ?>" <?php endif; ?>>
													<div class="mystickyelements-custom-html-wrap">
														<?php echo do_shortcode( str_replace('\"', '"', stripslashes($value['text'])));?>
													</div>
												</div>
											<?php else :
												$icon_bg_color = $icon_text_color = '';
												if (isset($value['bg_color']) && $value['bg_color'] != '') {
													$icon_bg_color = "background: " . esc_attr($value['bg_color']) . ";";
												}
												if (isset($value['icon_color']) && $value['icon_color'] != '') {
													$icon_text_color = "color: " . esc_attr($value['icon_color']) . ";";
												}
												//if ( $hover_text != '' ):
											?>
												<span class="mystickyelements-social-text <?php echo ($social_link == '') ? 'mystickyelements-social-no-link' : '';?>" style= "<?php echo $icon_bg_color.$icon_text_color ?>" data-flyout="<?php echo (isset($general_settings['flyout']) && $general_settings['flyout'] != '' ) ? $general_settings['flyout'] : '' ?>">
													<?php if ($social_link != ''): ?>
													<a href="<?php echo esc_url($social_link, $protocols); ?>" <?php if ( $link_target == 1 ):?> target="_blank" rel="noopener" <?php endif;?> <?php if ( isset($value['icon_color']) && $value['icon_color'] != '') : echo "style='color:" . $value['icon_color'] . "'"; endif; ?> data-flyout="<?php echo (isset($general_settings['flyout']) && $general_settings['flyout'] != '' ) ? $general_settings['flyout'] : '' ?>">
													<?php endif;
														if ($key == 'wechat') {
															echo esc_html($hover_text . ': ' . $value['text']);
														} else {
															echo esc_html(stripslashes($hover_text));
														}?>
														<?php if ($social_link != ''): ?>
													</a>
												<?php endif; ?>
												</span>
											<?php //endif; /* Hover Text not equal to blank condition */
											endif;?>

											</li>

										<?php endforeach;
									endif;
									?>
								</ul>
							</div>
						</div>
						<?php

						/* Include Custom CSS */
						// Add Themme custom CSS
						
						$destop_position = ( isset($general_settings['custom_position_from']) ) ? $general_settings['custom_position_from'] : 'bottom';
						$reverse_position = ( $destop_position == 'bottom' ) ? 'top' : 'bottom';

						$mobile_position = ( isset($general_settings['custom_position_from_mobile']) ) ? $general_settings['custom_position_from_mobile'] : 'bottom';
						$reverse_mobile_position = ( $mobile_position == 'bottom' ) ? 'top' : 'bottom';
						if (  isset($general_settings['form_css']) || isset($general_settings['tabs_css']) || ( isset($general_settings['font_family']) && $general_settings['font_family'] != '') ) {
							$widget_class = '.mystickyelements-fixed-widget-' . $mystickyelements_widget_count;
							$custom_css = '';
							if ( isset($general_settings['font_family']) && $general_settings['font_family'] != '' ) {
								
								if(isset($general_settings['font_family'] ) && $general_settings['font_family'] == 'System Stack' ){
									$general_settings['font_family'] = '-apple-system, system-ui, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"';
								}
								
								
								
								
								$custom_css .= $widget_class . '.mystickyelements-fixed,
												'.$widget_class . '.mystickyelements-fixed ul,
												' . $widget_class . ' form#stickyelements-form select,
												' . $widget_class . ' form#stickyelements-form input,
												' . $widget_class . ' form#stickyelements-form textarea,
												' . $widget_class . ' form#stickyelements-form label.contact-form-label,
												' . $widget_class . ' .element-contact-form h3 {
													font-family: ' . $general_settings['font_family'] . ';
												}';
								$custom_css .= $widget_class . ' .mystickyelements-contact-form[dir="rtl"],
												' . $widget_class . ' .mystickyelements-contact-form[dir="rtl"] .element-contact-form h3,
												' . $widget_class . ' .mystickyelements-contact-form[dir="rtl"] form#stickyelements-form input,
												' . $widget_class . ' .mystickyelements-contact-form[dir="rtl"] form#stickyelements-form textarea,
												' . $widget_class . ' .mystickyelements-fixed[dir="rtl"] .mystickyelements-social-icon,
												' . $widget_class . ' .mystickyelements-fixed[dir="rtl"] .mystickyelements-social-text,
												html[dir="rtl"] ' . $widget_class . ' .mystickyelements-contact-form,
												html[dir="rtl"] ' . $widget_class . ' .mystickyelements-contact-form .element-contact-form h3,
												html[dir="rtl"] ' . $widget_class . ' .mystickyelements-contact-form form#stickyelements-form input,
												html[dir="rtl"] ' . $widget_class . ' .mystickyelements-contact-form form#stickyelements-form textarea,
												html[dir="rtl"] ' . $widget_class . ' .mystickyelements-fixed .mystickyelements-social-icon,
												html[dir="rtl"] ' . $widget_class . ' .mystickyelements-fixed .mystickyelements-social-text {
													font-family: ' . $general_settings['font_family'] . ';
												}';
							}
							if (isset($general_settings['custom_position']) && $general_settings['custom_position'] != '') {
								$custom_css .= '@media only screen and (min-width:1025px) {';
								$custom_css .= $widget_class . '.mystickyelements-fixed {
												' . $destop_position . ': ' . $general_settings['custom_position'] . 'px;
												' . $reverse_position . ': auto;
												-webkit-transform: translateY(0);
												-moz-transform: translateY(0);
												transform: translateY(0);
											}';
								$custom_css .= $widget_class . '.mystickyelements-fixed.mystickyelements-custom-html-iframe-open {
												' . $reverse_position . ': auto;
												' . $destop_position . ': ' . $general_settings['custom_position'] . 'px;
											}';
								$custom_css .= $widget_class . '.mystickyelements-fixed ul {
													position: relative;
												}';
								$custom_css .= $widget_class . ' .mystickyelements-custom-html-iframe .mystickyelements-custom-html {
													top: auto;
													bottom: 0;
													-webkit-transform: rotateY(90deg) translateY(0);
													-moz-transform: rotateY(90deg) translateY(0);
													transform: rotateY(90deg) translateY(0);
												}';
												
								$custom_css .= $widget_class . '.mystickyelements-on-click.mystickyelements-fixed ul li.mystickyelements-custom-html-main.mystickyelements-custom-html-iframe.elements-active .mystickyelements-custom-html, ' . $widget_class . '.mystickyelements-on-hover.mystickyelements-fixed ul li.mystickyelements-custom-html-main.mystickyelements-custom-html-iframe:hover .mystickyelements-custom-html {
													-webkit-transform: rotateY(0deg) translateY(0);
													-moz-transform: rotateY(0deg) translateY(0);
													transform: rotateY(0deg) translateY(0);
												}';
								$custom_css .= '}';
							}
							
							if (isset($general_settings['custom_position_mobile']) && $general_settings['custom_position_mobile'] != '') {
								$custom_css .= '@media only screen and (max-width:1024px) {';
								$custom_css .= $widget_class . '.mystickyelements-fixed {
												'. $mobile_position .': ' . $general_settings['custom_position_mobile'] . 'px;
												'. $reverse_mobile_position .': auto;
												-webkit-transform: translateY(0);
												-moz-transform: translateY(0);
												transform: translateY(0);
											}';
								$custom_css .= $widget_class . '.mystickyelements-fixed.mystickyelements-custom-html-iframe-open {
												'. $reverse_mobile_position .': auto;
												'. $mobile_position .': ' . $general_settings['custom_position_mobile'] . 'px;
											}';
								$custom_css .= $widget_class . '.mystickyelements-fixed ul {
													position: relative;
												}';
								$custom_css .= $widget_class . ' .mystickyelements-custom-html-iframe .mystickyelements-custom-html {
													top: auto;
													bottom: 0;
													-webkit-transform: rotateY(90deg) translateY(0);
													-moz-transform: rotateY(90deg) translateY(0);
													transform: rotateY(90deg) translateY(0);
												}';
								$custom_css .= $widget_class . '.mystickyelements-on-click.mystickyelements-fixed ul li.mystickyelements-custom-html-main.mystickyelements-custom-html-iframe.elements-active .mystickyelements-custom-html,' . $widget_class . '.mystickyelements-on-hover.mystickyelements-fixed ul li.mystickyelements-custom-html-main.mystickyelements-custom-html-iframe:hover .mystickyelements-custom-html {
													-webkit-transform: rotateY(0deg) translateY(0);
													-moz-transform: rotateY(0deg) translateY(0);
													transform: rotateY(0deg) translateY(0);
												}';
								$custom_css .= '}';
							}
							if (isset($general_settings['form_css']) && $general_settings['form_css'] !='' ) {
								$custom_css .= trim(strip_tags($general_settings['form_css']));
							}
							if (isset($general_settings['tabs_css']) && $general_settings['tabs_css'] !='' ) {
								$custom_css .= trim(strip_tags($general_settings['tabs_css']));
							}
							if (!empty($custom_css)) {
								?>
								<style>								
									form#stickyelements-form input::-moz-placeholder{
										color: <?php echo $placeholder_color; ?>;
									} 
									form#stickyelements-form input::-ms-input-placeholder{
										color: <?php echo $placeholder_color; ?>
									} 
									form#stickyelements-form input::-webkit-input-placeholder{
										color: <?php echo $placeholder_color; ?>
									}
									form#stickyelements-form input::placeholder{
										color: <?php echo $placeholder_color; ?>
									}
									form#stickyelements-form textarea::placeholder {
										color: <?php echo $placeholder_color; ?>
									}
									form#stickyelements-form textarea::-moz-placeholder {
										color: <?php echo $placeholder_color; ?>
									}
									<?php echo $custom_css; ?>
								</style>
								<?php
							}
						}
						/* END Include custom css*/
						$placeholder_color =  ( isset($general_settings['placeholder_color']) && $general_settings['placeholder_color'] != '' ) ? $general_settings['placeholder_color'] : '#4F4F4F';
						?>
							<style>								
								form#stickyelements-form input::-moz-placeholder{
									color: <?php echo $placeholder_color; ?>;
								} 
								form#stickyelements-form input::-ms-input-placeholder{
									color: <?php echo $placeholder_color; ?>
								} 
								form#stickyelements-form input::-webkit-input-placeholder{
									color: <?php echo $placeholder_color; ?>
								}
								form#stickyelements-form input::placeholder{
									color: <?php echo $placeholder_color; ?>
								}
								form#stickyelements-form textarea::placeholder {
									color: <?php echo $placeholder_color; ?>
								}
								form#stickyelements-form textarea::-moz-placeholder {
									color: <?php echo $placeholder_color; ?>
								}
								<?php echo $custom_css; ?>
							</style>
						<?php
					}
				}
			}

		}
		
        public function mystickyelements_contact_form() {
            global $wpdb;
			if ( is_user_logged_in() && ! current_user_can( 'manage_options' ) ) {
				wp_die(0);
			}
            check_ajax_referer('mystickyelements', 'security');

            $errors = array();
			$element_widget_no = $_POST['widget_number'];
			$element_widget_name = ( isset($_POST['widget_name']) && $_POST['widget_name'] != '' ) ? sanitize_text_field($_POST['widget_name']) : 'default';

            $contact_form = get_option('mystickyelements-contact-form' . $element_widget_no );
            if (isset($contact_form['name']) && $contact_form['name'] == 1) {
                if (isset($contact_form['name_require']) && $contact_form['name_require'] == 1 && (!isset($_POST['contact-form-name']) || empty($_POST['contact-form-name']))) {
                    $error = array(
                        'key' => "contact-form-name",
                        'message' => __( "This field is required", "mystickyelements" )
                    );
                    $errors[] = $error;
                }
            }
            if (isset($contact_form['email']) && $contact_form['email'] == 1) {
                if (isset($contact_form['email_require']) && $contact_form['email_require'] == 1 && (!isset($_POST['contact-form-email']) || empty($_POST['contact-form-email']))) {
                    $error = array(
                        'key' => "contact-form-email",
                        'message' => __( "This field is required", "mystickyelements" )
                    );
                    $errors[] = $error;
                } else if ( isset($contact_form['email_require']) && $contact_form['email_require'] == 1 && isset($_POST['contact-form-email']) && !filter_var($_POST['contact-form-email'], FILTER_VALIDATE_EMAIL)) {
                    $error = array(
                        'key' => "contact-form-email",
                        'message' => __( "Email address is not valid", "mystickyelements")
                    );
                    $errors[] = $error;
                }
            }

            if (isset($contact_form['message']) && $contact_form['message'] == 1) {
                if (isset($contact_form['message_require']) && $contact_form['message_require'] == 1 && (!isset($_POST['contact-form-message']) || empty($_POST['contact-form-message']))) {
                    $error = array(
                        'key' => "contact-form-message",
                        'message' => __( "This field is required", "mystickyelements" )
                    );
                    $errors[] = $error;
                }
            }

            if (isset($contact_form['phone']) && $contact_form['phone'] == 1) {
                if (isset($contact_form['phone_require']) && $contact_form['phone_require'] == 1 && (!isset($_POST['contact-form-phone']) || empty($_POST['contact-form-phone']))) {
                    $error = array(
                        'key' => "contact-form-phone",
                        'message' => __( "This field is required", "mystickyelements" )
                    );
                    $errors[] = $error;
                }
            }
			if (isset($contact_form['dropdown']) && $contact_form['dropdown'] == 1) {
                if (isset($contact_form['dropdown_require']) && $contact_form['dropdown_require'] == 1 && (!isset($_POST['contact-form-dropdown']) || empty($_POST['contact-form-dropdown']))) {
                    $error = array(
                        'key' => "contact-form-dropdown",
                        'message' => __( "This field is required", "mystickyelements" )
                    );
                    $errors[] = $error;
                }
            }

			/* Custom Field validation */
			$custom_fields_value = array();
			if ( isset($_POST['contact-form']['custom_field']) && !empty($_POST['contact-form']['custom_field'])) {
				
				
				foreach($_POST['contact-form']['custom_field'] as $key=>$value) {
					if ( isset($contact_form['custom_fields'][$key]['custom_field_require']) && $contact_form['custom_fields'][$key]['custom_field_require'] == 1 && ( $value == '' || empty($value))  ) {
						$custom_field_name = sanitize_title($contact_form['custom_fields'][$key]['custom_field_name']);
						$error = array(
							'key' => "contact-form-" . $custom_field_name,
							'message' => __( "This field is required", "mystickyelements" )
						);
						$errors[] = $error;
					}
					if(isset($contact_form['custom_fields'][$key]['custom_field']) && $contact_form['custom_fields'][$key]['custom_field'] == 1 &&  $value != '' ) {
						$custom_fields_value[$contact_form['custom_fields'][$key]['custom_field_name']] = $value;
					}
				}
			}

			/*recaptcha validation*/
			if ( isset($contact_form['recaptcha_checkbox']) && $contact_form['recaptcha_checkbox'] == 'yes' ) {
				
				if( isset( $_POST['g-recaptcha-response'] ) && $_POST['g-recaptcha-response'] != '' ) {
					$captcha = $_POST['g-recaptcha-response'];
					$secretKey = $contact_form['recaptcha_secrete_key'];
					// post request to server
					$captcha_url = 'https://www.google.com/recaptcha/api/siteverify?secret=' . urlencode($secretKey) .  '&response=' . urlencode($captcha);
					$captcha_response = wp_remote_get( $captcha_url,array() );
					
					
					$responseKeys = json_decode( wp_remote_retrieve_body( $captcha_response ), true );


					if( $responseKeys["success"] ) {
					} else {
						$error_codes = array(
						  'missing-input-secret' 	=> 'The secret key is missing Please add a secret key',
						  'invalid-input-secret' 	=> 'You have added the wrong secret Key. Please add a correct secret key',
						  'missing-input-response' 	=> 'Captcha token is missing please check you site key',
						  'invalid-input-response' 	=> 'Captcha token is invalid please check site key and secret key',
						  'timeout-or-duplicate' 	=> 'captcha token expire please refresh the page and submit the form again',
						);
						$captchaerrormsg = '';
						$captchaerrors = $responseKeys['error-codes'];
						foreach( $captchaerrors as $captchaerror ) {
							if( array_key_exists( $captchaerror, $error_codes ) ) {
								$captchaerrormsg .= $error_codes[$captchaerror]. "<br>";
							} else {
								$captchaerrormsg .= 'The form submission was blocked by reCAPTCHA<br>';
							}
						}
						$error = array(
							'key' => "contact-form-recaptcha",
							'message' => __( $captchaerrormsg, 'mystickyelements' )
						);
						$errors[] = $error;
					}
				} else {
					
					if($contact_form['recaptcha_type'] == 'v2' && $_POST['g-recaptcha-response'] == '' ){
						$error = array(
							'key' => "contact-form-recaptcha",
							'message' => __( "Please select captch checkbox.", "mystickyelements" )
						);
					}else{
						$error = array(
							'key' => "contact-form-recaptcha",
							'message' => esc_html__( "You have added the wrong site Key. Please add a correct site key", "mystickyelements" )
						);
					}					
					$errors[] = $error;
					$message = $error["message"];
					echo json_encode(array("status" => 0, "error" => 0, "errors" => array(), "message" => $message));
					die;
				}
			}			
			
			if( isset( $_FILES['contact-form']['tmp_name']['custom_field'] ) && !empty( $_FILES['contact-form']['tmp_name']['custom_field'] ) ) {
				
				$custom_file_dir = array();
				foreach($_FILES['contact-form']['tmp_name']['custom_field'] as $key=>$value) {
					
					foreach( $value as $key2 => $sub_value){
						
						$wp_upload_dir = wp_upload_dir();
						$path = $wp_upload_dir['basedir'] . '/myStickyelements-attachments';
						if ( ! is_dir($path)) {
							mkdir($path);
						}
						$uniqu_name = strtotime(date("Y/m/d H:i:s")) .'-'.rand(100, 1000);
						$upload_path = $path . '/'.$uniqu_name. '-' . basename($_FILES['contact-form']['name']['custom_field'][$key][$key2]);
						
						$file_allowed = array("jpg","jpeg","png","gif","pdf","doc","docx","ppt","pptx","pps","ppsx","odt","xls","xlsx","mp3","mp4","wav","mpg","avi","mov","wmv","3gp","ogv");
						$filename = $_FILES['contact-form']['name']['custom_field'][$key][$key2];
						$file_ext = strtolower(pathinfo($filename, PATHINFO_EXTENSION));
						if ( $filename != '' && ! in_array( trim($file_ext), $file_allowed ) ) {
							$custom_field_name = sanitize_title( $contact_form['custom_fields'][$key]['custom_field_name'] );
							$error = array(
								'key' => "contact-form-" . $custom_field_name,
								'message' => __( "Please Upload .jpg, .jpeg, .png, .gif, .pdf, .doc, .docx, .ppt, .pptx, .pps, .ppsx, .odt, .xls, .xlsx, .mp3, .mp4, .wav, .mpg, .avi, .mov, .wmv, .3gp, .ogv file extension only", "mystickyelements" )
							);
							$errors[] = $error;
						} else {
							
							if( move_uploaded_file( $sub_value, $upload_path ) ) {
								$attachment_url = $wp_upload_dir['baseurl'] . '/myStickyelements-attachments/'.$uniqu_name. '-'  . basename($_FILES['contact-form']['name']['custom_field'][$key][$key2]);
								
								$custom_fields_value[$contact_form['custom_fields'][$key]['custom_field_name']][] = $attachment_url;
								$custom_file_dir[$key][] = $path . '/'.$uniqu_name. '-'  . basename($_FILES['contact-form']['name']['custom_field'][$key][$key2]);
							}
						}
					}
				}
			}
			$message = "There is error. We are not able to complete your request";

            if (empty($errors)) {
                if (!isset($_POST['nonce']) || empty($_POST['nonce'])) {
                    $error = array(
                        'key' => "mse-form-error",
                        'message' => "There is error. We are not able to complete your request"
                    );
                    $errors[] = $error;
                } else if (!isset($_POST['form_id']) || empty($_POST['form_id'])) {
                    $error = array(
                        'key' => "mse-form-error",
                        'message' => "There is error. We are not able to complete your request"
                    );
                    $errors[] = $error;
                } else if (!wp_verify_nonce($_POST['form_id'], $_POST['nonce'])) {
                    $error = array(
                        'key' => "mse-form-error",
                        'message' => "There is error. We are not able to complete your request"
                    );
                    $errors[] = $error;
                }
                if (!empty($errors)) {
                    echo json_encode(array("status" => 0, "error" => 1, "errors" => $errors, "message" => $message));
                    die;
                }
            } else {
                echo json_encode(array("status" => 0, "error" => 1, "errors" => $errors, "message" => $message));
                die;
            }

			/* Check redirct Link set */
			$redirect_link = '';
			if ( ( isset($contact_form['redirect']) && $contact_form['redirect'] == 1 ) && ( isset($contact_form['redirect_link']) && $contact_form['redirect_link'] != '' ) ) {
				$redirect_link = $contact_form['redirect_link'];
			}
			$open_new_tab = '';
			if ( ( isset($contact_form['open_new_tab']) && $contact_form['open_new_tab'] == 1 ) ) {
				$open_new_tab = $contact_form['open_new_tab'];
			}

             if (isset($_POST['contact-form-email']) || isset($_POST['contact-form-name']) || isset($_POST['contact-form-phone']) || isset($_POST['contact-form-message']) || ( isset($_POST['contact-form']['custom_field']) && !empty($_POST['contact-form']['custom_field']) ) ) {
				$flg = false;
				//$ip_address = $this->get_user_ipaddress();
				$ip_address = '';
				if ( isset( $contact_form['iplog_checkbox'] ) && $contact_form['iplog_checkbox'] == 'yes') {
					$ip_address = $this->get_user_ipaddress();
				}
				if ( !is_array( $contact_form['send_leads'])) {
					$contact_form['send_leads'] = explode(', ', $contact_form['send_leads']);
				}

				/* Send Contact form Data by email. */
				
                if ( in_array( 'mail', $contact_form['send_leads'] )  ) {
					
                    $send_mail = (isset($contact_form['sent_to_mail']) && $contact_form['sent_to_mail'] != '') ? $contact_form['sent_to_mail'] : get_option('admin_email');
					$email_subject_line = ( isset($contact_form['email_subject_line']) && $contact_form['email_subject_line'] != '' ) ? $contact_form['email_subject_line'] : 'New lead from MyStickyElements from {name} on {date} {hour}';
					$contact_form_name = ( isset( $_POST['contact-form-name'] ) && $_POST['contact-form-name'] != '' ) ? $_POST['contact-form-name'] : '';
					$phone = ( isset($_POST['contact-form-phone']) && $_POST['contact-form-phone'] != '' ) ? $_POST['contact-form-phone'] : '';
					$email = ( isset($_POST['contact-form-email']) && $_POST['contact-form-email'] != '' ) ? $_POST['contact-form-email'] : '';
					
					$date_format = get_option("date_format");
					$time_format = get_option("time_format");
					$current_date = date("Y-m-d");
					if(empty($date_format)) {
						$date_format = "Y-m-d";
						
					}
					if(empty($time_format)) {
						$time_format = "H:i:s";
					}
					
					$date = get_date_from_gmt($current_date, $date_format);
					$time = get_date_from_gmt($current_date, $time_format);

					$email_subject_line = str_replace(array("{name}","{phone}","{email}","{date}","{hour}"), array($contact_form_name, $phone, $email, $date, $time), $email_subject_line);
						
                    //$subject = $email_subject_line ." - " . $contact_form_name;
                    $subject = $email_subject_line;
                    $message = "" ;

                    if (isset($_POST['contact-form-name']) && $_POST['contact-form-name'] != '') {
						$message .= "<p>Name: " . sanitize_text_field($_POST['contact-form-name']) . "<p>\r\n";
                    }
                    if (isset($_POST['contact-form-phone']) && $_POST['contact-form-phone'] != '') {
						$message .= "<p>Phone: " . sanitize_text_field($_POST['contact-form-phone']) . "</p>\r\n";
                    }
                    if (isset($_POST['contact-form-email']) && $_POST['contact-form-email'] != '') {
						$message .= "<p>Email: " . sanitize_email($_POST['contact-form-email']) . "</p>\r\n";
                    }
					if (isset($_POST['contact-form-dropdown']) && $_POST['contact-form-dropdown'] != '') {
						$message .= "<p>" . $contact_form['dropdown-placeholder'] . ": " . sanitize_text_field($_POST['contact-form-dropdown']) . "</p>\r\n";
                    }
					if ( !empty($custom_fields_value) && $custom_fields_value != '') {
						foreach( $custom_fields_value as $key=>$value ){
							//if( strpos( $value, 'http' ) === false ) {
								$value = (is_array($value)) ? implode(',', $value): $value;
								$message .= "<p>" . $key ." : " . wp_kses_post($value) . "</p>\r\n";
							//}
						}
					}
					
                    if (isset($_POST['contact-form-message']) && $_POST['contact-form-message'] != '') {
						$message .= "<p>Message: " . sanitize_text_field(stripslashes($_POST['contact-form-message'])) . "</p>\r\n\r\n";
                    }
					if ( $element_widget_name != '' && $element_widget_name != 'default' ) {
                        $message .= "<p>Widget element Name: " . sanitize_text_field(stripslashes($element_widget_name)) . "</p>\r\n";
                    }
                    $message .= "<p>Submission URL: " . sanitize_text_field($_POST['stickyelements-page-link']) . "</p>\r\n\r\n";

					if ( isset( $contact_form['iplog_checkbox'] ) && $contact_form['iplog_checkbox'] == 'yes') {
						$message .= "<p>User IP Address: " . $ip_address . "</p>\r\n";
					}

					if ( isset($contact_form['consent_checkbox']) ) {
						$contact_form_consent_fields = "False";
						if ( isset( $_POST['contact-form-consent-fields'] ) ) {
							$contact_form_consent_fields = "True";
						}
						$message .= "<p>Consent Checkbox: " . $contact_form_consent_fields . "</p>\r\n\r\n";
					}
					
					$message .= "<p>" . get_bloginfo('name') . "</p>\r\n";

                    $blog_name = get_bloginfo('name');
                    $blog_email = get_bloginfo('admin_email');
                    
					$blog_bcc_email = (isset($contact_form['sent_to_bcc']) && $contact_form['sent_to_bcc'] != '' ) ? $contact_form['sent_to_bcc'] : '';
					
					$blog_cc_email = (isset($contact_form['sent_to_cc']) && $contact_form['sent_to_cc'] != '' ) ? $contact_form['sent_to_cc'] : '';
					
					$blog_name = (isset($contact_form['sender_name']) && $contact_form['sender_name'] != '') ? $contact_form['sender_name'] : get_bloginfo('name');
					$blog_name = str_replace("{name}",$_POST['contact-form-name'],$blog_name);
					
                    $headers[] = 'From: ' . $blog_name . ' <' . $blog_email . '>' . "\r\n";
					$headers[] = "Content-Type: text/html; charset=UTF-8\r\n";
					if (isset($_POST['contact-form-email']) && $_POST['contact-form-email'] != '') {
						$headers[]= "Reply-To: " . sanitize_text_field($_POST['contact-form-name']) ." <" . sanitize_email($_POST['contact-form-email']) . ">\r\n";
					}
					
					$bccArr = explode(',', $blog_bcc_email);
					$ccArr = explode(',', $blog_cc_email);
					
					foreach($bccArr as $bcc){
						$headers[]= "BCC:{$bcc}\r\n";
					}
					foreach($ccArr as $cc){
						$headers[]= "CC:{$cc}\r\n";
					}
					$attachments = array();
					if ( !empty($custom_file_dir) && $custom_file_dir != '') {
						foreach( $custom_file_dir as $key=>$indevalue ){
							if( count($indevalue) > 0 ){
								foreach( $indevalue as $key2 => $subFile ){
									$attachments[] = $subFile;	
								}
							}else{
								$attachments[] = $indevalue;	
							}
						}
                    }
					
					
					if (wp_mail($send_mail, $subject, $message, $headers, $attachments)) {
						$flg = true;
                    } else {
						if ( in_array( 'database', $contact_form['send_leads'] ) ) {
							$flg = true;
						} else {
							$flg = false;
						}
                    }
                }
				/* Saved Data into Mailchimp */
				
				if ( in_array( 'mailchimp', $contact_form['send_leads'] ) ) {
					$this->contactleadpushmailchimp( $contact_form, $custom_fields_value );
					$flg = true;
				}
				if ( in_array( 'mailpoet', $contact_form['send_leads'] ) ) {
					$this->contactleadpushmailpoet( $contact_form, $custom_fields_value );
					$flg = true;
				}
				/* Saved Data into Database */
				if ( in_array( 'database', $contact_form['send_leads'] ) ) {
					$resultss = $wpdb->insert(
                        $wpdb->prefix . 'mystickyelement_contact_lists',
                        array(
                            'contact_name' 		=> isset($_POST['contact-form-name']) ? esc_sql(sanitize_text_field($_POST['contact-form-name'])) : '',
                            'contact_phone' 	=> isset($_POST['contact-form-phone']) ? esc_sql(sanitize_text_field($_POST['contact-form-phone'])) : '',
                            'contact_email' 	=> isset($_POST['contact-form-email']) ? esc_sql(sanitize_email($_POST['contact-form-email'])) : '',
                            'contact_message' 	=> isset($_POST['contact-form-message']) ? sanitize_textarea_field(stripslashes($_POST['contact-form-message'])) : '',
							'contact_option' 	=> (isset($_POST['contact-form-dropdown'])) ? esc_sql(sanitize_textarea_field($_POST['contact-form-dropdown'])) : '',
							'message_date' 		=> date('Y-m-d H:i:s'),
							'widget_element_name'	=> $element_widget_name,
							//'custom_fields'	=> json_encode($_POST['contact-form']['custom_field']),
							'custom_fields'		=> ( !empty($custom_fields_value) && $custom_fields_value != '' ) ? json_encode($custom_fields_value) : '',
							'page_link' 		=> esc_sql(sanitize_text_field($_POST['stickyelements-page-link'])),
							'consent_checkbox' 	=> isset($_POST['contact-form-consent-fields']) ? true : false,
							'ip_address' 		=> $ip_address,
                        )
                    );
					$flg = true;
                }
				
				if ( $flg == true ) {
					$thank_you_message = ( isset($contact_form['thank_you_message']) && $contact_form['thank_you_message'] != '' ) ? $contact_form['thank_you_message'] : esc_html__('Your message was sent successfully', 'mystickyelements');

					$message = $thank_you_message;
					echo json_encode(array("status" => 1, "error" => 0, "errors" => array(), "message" => $message , "redirect_link" => $redirect_link, "open_new_tab" => $open_new_tab));
					die;
				} else {
					$message = esc_html__('Something went wrong. Please contact site administrator', 'mystickyelements');
					echo json_encode(array("status" => 0, "error" => 0, "errors" => array(), "message" => $message));
					die;
				}
			}
			exit;
			wp_die();
        }
		
		
		
		function contactleadpushmailpoet( $contact_form, $custom_fields_value ) {
			
			if (  class_exists( '\MailPoet\API\API' ) ) {

				$mailpoet_fields = \MailPoet\API\API::MP( 'v1' )->getSubscriberFields();
				$field_missing = [];
				/* Get the Mailpoet fields*/
				if ( !empty($mailpoet_fields) && !empty($contact_form['custom_fields']) ) {
					$mp_fields = [];
					foreach( $contact_form['custom_fields'] as $custom_field ) {

						$flg = 0;
						foreach( $mailpoet_fields as $field) {
							if ( sanitize_title($field['name']) == sanitize_title($custom_field[ 'custom_field_name']) ) {
								$mp_fields[$custom_field[ 'custom_field_name']] = $field['id'];
								$flg = 1;
							}
						}
						if ( $flg == 0 ) {
							$field_missing[] = $custom_field;
						}
					}

					$additional_fields = array( 'Phone', 'Message', 'Dropdown');
					foreach( $additional_fields as $afield) {
						$aflg = 0;
						foreach( $mailpoet_fields as $field) {
							if ( sanitize_title($field['name']) == sanitize_title($afield) ) {
								$amp_fields[$custom_field[ 'custom_field_name']] = $field['id'];
								$aflg = 1;
							}
						}
						if ( $aflg == 0 ) {
							$afield_missing[] = $afield;
						}
					}
					/* Create Phone and Message field */
					if ( !empty($afield_missing)) {
						if ( in_array( 'Phone', $afield_missing)) {
							$subscriber_field_data = [
							'name' => 'Phone',
							'type' => 'text',
							'params ' => [
										'required' => 0,
										'label' => 'Phone',
										'values' => '',
									],
							];
							try{
								\MailPoet\API\API::MP( 'v1' )->addSubscriberField( $subscriber_field_data  );
							} catch( Exception $e ) {
								echo 'Caught exception: ',  $e->getMessage(), "\n";
							}
						}

						if ( in_array( 'Message', $afield_missing)) {
							$subscriber_field_data = [
							'name' => 'Message',
							'type' => 'textarea',
							'params ' => [
										'required' => 0,
										'label' => 'Message',
										'values' => '',
									],
							];
							try{
								\MailPoet\API\API::MP( 'v1' )->addSubscriberField( $subscriber_field_data  );
							} catch( Exception $e ) {
								echo 'Caught exception: ',  $e->getMessage(), "\n";
							}
						}
						
						if ( isset($contact_form['dropdown']) && $contact_form['dropdown'] == 1 && in_array( 'Dropdown', $afield_missing)) {
							
							$subscriber_field_data = [
							'name' => 'Dropdown',
							'type' => 'select',
							'params ' => [
										'required' => 0,
										'label' => 'Message',
										'values' => '',
									],
							];
							
							unset($subscriber_field_data['params']);
							unset($subscriber_field_data['params']);
							$dropdown_option = [];
							foreach( array_filter($contact_form['dropdown-option']) as $option) {
								$dropdown_option[] = ['value' =>$option ];
							}
							$subscriber_field_data['params']['values'] = $dropdown_option;
							try{
								\MailPoet\API\API::MP( 'v1' )->addSubscriberField( $subscriber_field_data  );
							} catch( Exception $e ) {
								echo 'Caught exception: ',  $e->getMessage(), "\n";
							}
						}
					}

				}

				if ( !empty($field_missing)) {
					foreach( $field_missing as $field ) {
						$subscriber_field_data = [
							'name' => $field['custom_field_name'],
							'type' => ( $field['field_dropdown'] == 'number' || $field['field_dropdown'] == 'url' || $field['field_dropdown']== 'date' ) ? 'text' : ( ( $field['field_dropdown'] == 'dropdown') ? 'select' : $field['field_dropdown'] ),


							'params ' => [
										'required' => 0,
										'label' => $field['custom_field_name'],
										'values' => ( $field['field_dropdown'] == 'dropdown') ? array_filter($field['dropdown-option']) : '',
									],
							];

						if ($field['field_dropdown']== 'date' ) {
							$subscriber_field_data['params']['date_type'] = 'year_month_day';
							$subscriber_field_data['params']['date_format'] = 'YYYY/MM/DD';
						}

						if ($field['field_dropdown']== 'dropdown' ) {
							unset($subscriber_field_data['params']);
							unset($subscriber_field_data['params']);
							$dropdown_option = [];
							foreach( array_filter($field['dropdown-option']) as $option) {
								$dropdown_option[] = ['value' =>$option ];
							}
							$subscriber_field_data['params']['values'] = $dropdown_option;
						}

						try{
							\MailPoet\API\API::MP( 'v1' )->addSubscriberField( $subscriber_field_data  );
						} catch( Exception $e ) {
							echo 'Caught exception: ',  $e->getMessage(), "\n";
						}
					}
				}
				$mailpoet_fields = \MailPoet\API\API::MP( 'v1' )->getSubscriberFields();

				$mp_fields = [];
				if ( !empty($contact_form['custom_fields']) ) {
					foreach( $contact_form['custom_fields'] as $custom_field ) {
						foreach( $mailpoet_fields as $field) {
							if ( sanitize_title($field['name']) == sanitize_title($custom_field[ 'custom_field_name']) ) {
								$mp_fields[$custom_field[ 'custom_field_name']] = $field['id'];

							}
						}
					}
				}

				$subscriber_data = array( 'email' => sanitize_email($_POST['contact-form-email']), 'first_name' => sanitize_text_field($_POST['contact-form-name']), 'status' => 'Subscribed' );

				foreach( $mp_fields as $key=>$field ){
					$subscriber_data[$field] = $custom_fields_value[$key];
				}
				foreach( $mailpoet_fields as $field) {
					if ( $field['name'] == 'Phone') {
						if (isset($_POST['contact-form-phone']) && $_POST['contact-form-phone'] != '') {
							$subscriber_data[$field['id']] =  sanitize_text_field($_POST['contact-form-phone']);
						}
					}
					if ( $field['name'] == 'Message') {
						if (isset($_POST['contact-form-message']) && $_POST['contact-form-message'] != '') {
							$subscriber_data[$field['id']] =  sanitize_text_field($_POST['contact-form-message']);
						}
					}
					if ( $field['name'] == 'Dropdown') {
						if (isset($_POST['contact-form-dropdown']) && $_POST['contact-form-dropdown'] != '') {
							$subscriber_data[$field['id']] =  sanitize_text_field($_POST['contact-form-dropdown']);
						}
					}
				}

				$result          = 'success';
				$list_id = $contact_form['mailpoet_list'];
				$lists           = array( $list_id );				
				try {
					\MailPoet\API\API::MP( 'v1' )->addSubscriber( $subscriber_data, $lists );
				} catch ( Exception $exception ) {
					$result = $exception->getMessage();
				}
			}

		}
		public function contactleadpushmailchimp($contact_form, $custom_fields_value) {
			
			
			
			
			$elements_mc_api_key = get_option('elements_mc_api_key');
            $list_id = $contact_form['mailchimp_list'];
			$mailchimp_tags = $contact_form['mailchimp_tags'];
			$mailchimp_status = 'subscribed';
			$sfba_mailchimp_groups = $contact_form['mailchimp-group'];
			$interests = array();
			if( isset($contact_form['mailchimp-enable-group']) && $contact_form['mailchimp-enable-group'] == 'yes' && !empty($sfba_mailchimp_groups)) {
				foreach( $sfba_mailchimp_groups as $group ){
					$interests[ $group] = true ;
				}
			}
			$merge_fields = [
				'FNAME'		=> sanitize_text_field($_POST['contact-form-name']),
				'LNAME'		=> '',
				'PHONE'		=> sanitize_text_field($_POST['contact-form-phone']),
				'MESSAGE'	=> sanitize_text_field($_POST['contact-form-message']),
			];

			/* Merge Custom fields*/
			
			if( isset($contact_form['mailchimp-field-mapping']) &&  is_array($contact_form['mailchimp-field-mapping']) ) {
				foreach( $contact_form['mailchimp-field-mapping'] as $fields_key=>$fields) {
					
					foreach( $custom_fields_value as $custom_field_key=>$custom_field_value ) {
						if ( $fields_key == sanitize_title($custom_field_key) ) {
							if ( is_array($custom_field_value)) {
								foreach( $custom_field_value as $index => $value ){
									$merge_fields[$fields] = $value;	
								}
							} else {
								$merge_fields[$fields] = $custom_field_value;
							}
						}
					}
				}
			}
			
			
			
			/* Merge Dropdown fields */
			if (isset($_POST['contact-form-dropdown']) && $_POST['contact-form-dropdown'] != '') {
				$merge_fields[$contact_form['mailchimp-field-mapping']['dropdown']] = $_POST['contact-form-dropdown'];
			}
			
			$post_data = [
						'email_address' => sanitize_email($_POST['contact-form-email']),
						'status'        => $mailchimp_status, // "subscribed","unsubscribed","cleaned","pending"
						'merge_fields'  => $merge_fields,
						'email_type'	=> 'html',
						'interests'		=> $interests
					];

			if (empty($interests) ) {
				unset($post_data['interests']);
			}
			
			$headers = array(
				'Authorization' => 'Basic ' . base64_encode('user:'.$elements_mc_api_key),
				'Content-Type'	=> 'application/json',
			);
			$args = array(
				'method' 		=> 'PUT',
				'timeout' 		=> 45,
				'redirection' 	=> 5,
				'httpversion' 	=> '1.0',
				'blocking' 		=> true,
				'user-agent'  	=> 'WordPress/' . $wp_version . '; ' . home_url(),
				'headers'     	=> $headers,
				'body'		  	=> wp_json_encode($post_data),
				'cookies' 		=> array(),
				'sslverify'		=> true,
			);
			$memberId = md5(strtolower( sanitize_email($_POST['contact-form-email']) ));
			$dataCenter = substr($elements_mc_api_key,strpos($elements_mc_api_key,'-')+1);
			$url = 'https://' . $dataCenter . '.api.mailchimp.com/3.0/lists/' . $list_id . '/members/' . $memberId;
			$response = wp_remote_post( $url, $args );
			$api_response_body = json_decode( wp_remote_retrieve_body( $response ), true );			
			
			if ( $mailchimp_tags != '' && isset($contact_form['mailchimp_enable_tag']) && $contact_form['mailchimp_enable_tag'] == 'yes' ) {
				$tags = explode( ',', $mailchimp_tags);
				$tags = array_map( 'trim', $tags );
				// remove empty tag values
				foreach ( $tags as $i => $tag ) {
					if ( $tag === '' ) {
						unset( $tags[ $i ] );
					}
				}
				$tags = array_values( $tags );
				$post_data = [
							"tags" => myStickyelements_merge_and_format_member_tags(array(),$tags)
						];
				$url = 'https://' . $dataCenter . '.api.mailchimp.com/3.0/lists/' . $list_id . '/members/' . $memberId . '/tags';
				$headers = array(
					'Authorization' => 'Basic ' . base64_encode('user:'.$elements_mc_api_key),
					'Content-Type'	=> 'application/json',
				);
				$args = array(
					'method' 		=> 'POST',
					'timeout' 		=> 45,
					'redirection' 	=> 5,
					'httpversion' 	=> '1.0',
					'blocking' 		=> true,
					'user-agent'  	=> 'WordPress/' . $wp_version . '; ' . home_url(),
					'headers'     	=> $headers,
					'body'		  	=> wp_json_encode($post_data),
					'cookies' 		=> array(),
					'sslverify'		=> true,
				);
				$response = wp_remote_post( $url, $args );
				$api_response_body = json_decode( wp_remote_retrieve_body( $response ), true );
				
				echo "<pre>";
				print_r($api_response_body);
				echo "</pre>";
				exit;
			}
		}
		function get_user_ipaddress() {
			if(!empty($_SERVER['HTTP_CLIENT_IP'])){
				//ip from share internet
				$ip = sanitize_text_field( wp_unslash($_SERVER['HTTP_CLIENT_IP']));
			}elseif(!empty($_SERVER['HTTP_X_FORWARDED_FOR'])){
				//ip pass from proxy
				$ip = sanitize_text_field( wp_unslash($_SERVER['HTTP_X_FORWARDED_FOR']));
			}else{
				$ip = sanitize_text_field( wp_unslash($_SERVER['REMOTE_ADDR']));
			}
			return $ip;
		}

		function mystickyelement_traffic_source() {
			$traffic_source = [
				"search_engine" => array(
					'accoona',
					'ansearch',
					'biglobe',
					'daum',
					'egerin	',
					'leit.is',
					'maktoob',
					'miner.hu',
					'najdi.si',
					'najdi.org',
					'naver',
					'rambler',
					'rediff',
					'sapo',
					'search.ch',
					'sesam',
					'seznam',
					'walla',
					'zipLoca',
					'slurp',
					'search.msn.com',
					'nutch',
					'simpy',
					'bot.',
					'aspSeek',
					'crawler.',
					'msnbot',
					'libwww-perl',
					'fast',
					'baidu.',
					'bing.',
					'google.',
					'duckduckgo',
					'ecosia',
					'exalead',
					'giablast',
					'munax',
					'qwant',
					'sogou',
					'soso',
					'yahoo.',
					'yandex.',
					'youdao',
					'aol.',
					'hotbot.',
					'webcrawler.',
					'eniro',
					'naver',
					'lycos',
					'ask',
					'altavista',
					'netscape',
					'about',
					'mamma',
					'alltheweb',
					'voila',
					'live',
					'alice',
					'mama',
					'wp.pl',
					'onecenter',
					'szukacz',
					'yam',
					'kvasir',
					'ozu',
					'terra',
					'pchome',
					'mynet',
					'ekolay',
					'rembler',
				),
				"social_media" => array(
					"facebook.",
					"instagram.",
					"linkedin.",
					"myspace.",
					"twitter.",
					"t.co",
					"plus.google",
					"disqus.",
					"snapchat.",
					"tumbler.",
					"pinterest.",
					"twoo",
					"mymfb",
					"youtube.",
					"vine",
					"whatsapp",
					"vk.com",
					"secret",
					"medium",
					"bebo",
					"friendster",
					"hi5",
					"habbo",
					"ning",
					"classmates",
					"tagged",
					"myyearbook",
					"meetup",
					"mylife",
					"reunion",
					"flixster",
					"myheritage",
					"multiply",
					"orkut",
					"badoo",
					"gaiaonline",
					"blackplanet",
					"skyrock",
					"perfspot",
					"zorpia",
					"netlog",
					"tuenti",
					"nasza-klasa.pl",
					"irc-gallery",
					"studivz",
					"xing",
					"renren",
					"kaixin001",
					"hyves.nl",
					"MillatFacebook",
					"ibibo",
					"sonico",
					"wer-kennt-wen",
					"cyworld",
					"iwiw",
					"dribbble.",
					"stumbleupon.",
					"flickr.",
					"plaxo.",
					"digg.",
					"del.icio.us"
				),
			];

			return $traffic_source;
		}

		function getVisitorTrafficSource( $general_settings, $element_widget_no ) {

			$element_widget_no = ($element_widget_no != '') ? $element_widget_no : 0;
			$origin_landing_page	= '';
			$HTTP_REFERER 			= ( isset($_SERVER['HTTP_REFERER'])) ? $_SERVER['HTTP_REFERER'] : '';
			if ( isset( $_COOKIE['MSE_HTTP_REFERER']) && $_COOKIE['MSE_HTTP_REFERER'] != '' ) {
				$HTTP_REFERER = $_COOKIE['MSE_HTTP_REFERER'];
			}
			if ( $HTTP_REFERER != '' ) {
				@setcookie('MSE_HTTP_REFERER', $HTTP_REFERER, time() + (86400 * 30), "/"); // 86400 = 1 day
			}

			$traffic_source  = ( isset($general_settings['traffic-source'])) ? $general_settings['traffic-source'] : '';
			$direct_visit  	 = ( isset($traffic_source['direct-visit'])) ? $traffic_source['direct-visit'] : '';
			$social_network  = ( isset($traffic_source['social-network'])) ? $traffic_source['social-network'] : '';
			$search_engines  = ( isset($traffic_source['search-engines'])) ? $traffic_source['search-engines'] : '';
			$google_ads      = ( isset($traffic_source['google-ads'])) ? $traffic_source['google-ads'] : '';
			$other_source_option	= ( isset($traffic_source['other-source-option'])) ? $traffic_source['other-source-option'] : '';
			$other_source_url      	= ( isset($traffic_source['other-source-url'])) ? $traffic_source['other-source-url'] : array('');

			$furl = false;
			foreach( $other_source_url as $surl ){
				if ( $surl != '') {
					$furl = true;
				}
			}
			if ( !$furl){
				$other_source_url = array();
			}

			if ( $direct_visit =='' && $social_network == '' &&  $search_engines == '' && $google_ads == '' && empty($other_source_url) ) {
				return true;
			}

			/* is_traffic_source is enable */
			if ( isset($_COOKIE['traffic_source-'. $element_widget_no]) &&  $_COOKIE['traffic_source-'. $element_widget_no] != '' ) {
				return $_COOKIE['traffic_source-'. $element_widget_no];
			}

			$coupon_traffic_source = $this->mystickyelement_traffic_source();

			$response = false;
			$visitor_referel = ( (isset($HTTP_REFERER) && $HTTP_REFERER !='' ) ? parse_url($HTTP_REFERER)['host'] : '' );

			// if Direct link
			if ( ( ( empty($visitor_referel) || $_SERVER['HTTP_HOST'] == $visitor_referel || (isset($_SERVER['HTTP_ORIGIN']) && (parse_url($_SERVER['HTTP_ORIGIN'])['host'] == $visitor_referel )) ) ) &&  $direct_visit == true ){
				$response = "direct_link";

			}

			// if search_engine
			if ( !$response && $search_engines == true ) {
				foreach($coupon_traffic_source['search_engine'] as $source){
					if ( (strpos($visitor_referel, $source) !== false) ) {
						if ( $source == "google." && strpos($visitor_referel,"plus.google" ) !== false  ){
							break;
						}else{
							$response = "search_engine";
							break;
						}
					}
				}
			}

			// if social_media
			if ( !$response && $social_network == true){
					foreach($coupon_traffic_source['social_media'] as $source){
						if ( strpos($visitor_referel, $source) !== false ) {
							$response = "social_media";
							break;
						}
					}
			}

			// if google_ads
			if ( $google_ads == true && !$response &&  isset($origin_landing_page) && !empty($origin_landing_page) ){
				if ((strpos($origin_landing_page, 'gclid=') !== false)){
					$response = "google_ads";
				}
			}

			// if contein specific url
			if ( !empty( $other_source_url) && !$response) {
				$flag =  $this->checkSpecifixUrlInRolesTrafficSource( $general_settings );
				if ( $flag ){
					$response = "specific_url";
				}else{
					$response = false;
				}
			}

			if ( $response != '' ) {
				@setcookie('traffic_source-' . $element_widget_no, $response, time() + (86400 * 30), "/"); // 86400 = 1 day
			}
			return $response;
		}
		 function checkSpecifixUrlInRolesTrafficSource( $general_settings ) {
			$flag = true;
			$flag_array = array();
			$contain_flag_array = array();
			$not_contain_flag_array = array();

			$traffic_source  = ( isset($general_settings['traffic-source'])) ? $general_settings['traffic-source'] : '';
			$other_source_option	= ( isset($traffic_source['other-source-option'])) ? $traffic_source['other-source-option'] : '';
			$other_source_url      	= ( isset($traffic_source['other-source-url'])) ? $traffic_source['other-source-url'] : '';
			$HTTP_REFERER 			= ( isset($_SERVER['HTTP_REFERER'])) ? $_SERVER['HTTP_REFERER'] : '';
			if ( isset( $_COOKIE['MSE_HTTP_REFERER']) && $_COOKIE['MSE_HTTP_REFERER'] != '' ) {
				$HTTP_REFERER = $_COOKIE['MSE_HTTP_REFERER'];
			}

			$referer = (isset($HTTP_REFERER) ? parse_url($HTTP_REFERER) : 'empty' );

			if ($referer == 'empty' || !isset($referer['host'])){
				return true;
			}
			$referer_host =  $this->removeWWW($referer['host']);
			$query = (isset($referer['query']) && !empty($referer['query']) ? '?'.$referer['query']:'');
			$referer_path =  $referer['path'].$query;
			$referer_path =  strtolower(str_replace("/", "%2f", $referer_path));
			$contain_array = array();
			$not_contain_array = array();


			for($i=0; $i<sizeof($other_source_url); $i++ ) {
				if ( isset( $other_source_url[$i] ) && $other_source_url[$i] != '' ) {
					if ( $other_source_option[$i] === 'contain' ){
						$contain_array[] = array( $other_source_option[$i], $other_source_url[$i] );
					}else{
						$not_contain_array[] = array( $other_source_option[$i], $other_source_url[$i] );
					}
				}
			}

	if ( !empty($contain_array) ) {
				foreach($contain_array as $key=>$value){
					$role_link = parse_url($value[1]);
					$role_host = $this->removeWWW( $role_link['host'] );
					$role_path = '';
					if(isset($role_link['path'])){
						$role_path =  $role_link['path'];
					}else{
						$role_path = '';
					}
					if(isset($role_link['query'])){
						$role_path .=  '?'.$role_link['query'];
					}

					$role_path = (preg_match("/\p{Hebrew}/u", $role_path) ? $role_path : str_replace("/","%2f",$role_path));
					$role_path = strtolower(str_replace("&amp;","&",$role_path));
					$role_path = trim($role_path);
					if ($role_path == ''){
						$role_path = '/';
					}
					if ($referer_path == ''){
						$referer_path = '/';
					}
					if ($role_host != $referer_host){

						$flag = false;
					}else if(empty($role_path) && empty($referer_path)){

						$flag = true;
					}else if(strtolower(urlencode($role_path)) == strtolower($referer_path) && strtolower($referer_path)=='%2f'){

						$flag = true;
					}else{
						switch($value[0]){
							case 'contain':
								if (empty($role_path) && !empty($referer_path)){
									$flag = true;
								}else if ($role_path == "/" || $role_path=="%2f") {
									$flag = true;
								}else if (strpos($referer_path,( preg_match("/\p{Hebrew}/u", $role_path) ? strtolower(urlencode($role_path)) : strtolower($role_path) )) !== false){
									$flag = true;
								}else if (strpos($referer_path.'/',( preg_match("/\p{Hebrew}/u", $role_path) ? strtolower(urlencode($role_path)) : strtolower($role_path) )) !== false){
									$flag = true;
								}else if (strpos($referer_path.'%2f',( preg_match("/\p{Hebrew}/u", $role_path) ? strtolower(urlencode($role_path)) : strtolower($role_path) )) !== false){
									$flag = true;
								}else{
									$flag = false;
								}
								break;
						}
						$and = $flag;
					}
					$flag_array[] = $flag;
					$contain_flag_array[] = $flag;
				}
			}

			if ( !empty( $not_contain_array ) ) {
				foreach($not_contain_array as $key=>$value){
					$role_link = parse_url($value[1]);

					$role_host = $this->removeWWW( $role_link['host'] );

					$role_path = '';
					if(isset($role_link['path'])){
						$role_path =  $role_link['path'];
					}else{
						$role_path = '';
					}
					if(isset($role_link['query'])){
						$role_path .=  '?'.$role_link['query'];
					}
					$role_path = (preg_match("/\p{Hebrew}/u", $role_path) ? $role_path : str_replace("/","%2f",$role_path));
					$role_path = str_replace("&amp;","&",$role_path);
					$role_path = trim($role_path);
					if ($role_path == ''){
						$role_path = '/';
					}
					if ($referer_path == ''){
						$referer_path = '/';
					}

					if ($role_host == $referer_host && (empty($role_path) || $role_path=="%2f") && (empty($referer_path) || $referer_path=="%2f")){
						$flag = false;
					} else{
						switch($value[0]){
							case 'not_contain':
								if (isset($referer_path) && strpos(strtolower($referer_path),((preg_match("/\p{Hebrew}/u", $role_path)) ? strtolower(urlencode($role_path)) : strtolower($role_path)))!== false){
									$flag = false;
								}else if ($role_path == "/" || $role_path=="%2f"){
									$flag = false;
								}else{
									$flag = true;
								}
							break;
						}
					}
					$flag_array[] = $flag;
					$not_contain_flag_array[] = $flag;
				}
			}

			if (!empty($not_contain_array) && empty($contain_array)){
				return (in_array(false, $not_contain_flag_array) ? false : true );
			}else if (!empty($not_contain_array) && !empty($contain_array)){
				if (in_array(false, $not_contain_flag_array)){
					return false;
				}else{
					return (in_array(true, $contain_flag_array) ? true : false );
				}
			}else if (empty($not_contain_array) && !empty($contain_array)){
				return (in_array(true, $contain_flag_array) ? true : false );
			}else{
				return $flag;
			}
		}

		function removeWWW( $url ) {
			return str_replace('www.','',$url );
		}

		function getDaysHoursTime( $general_settings ) {
			$displayStatus = 0;

			if ( isset($general_settings['days-hours']) && !empty($general_settings['days-hours']) ) {

				foreach ($general_settings['days-hours'] as $key => $value) {
					$record = array();
					$record['days'] = $value['days'] - 1;
					$record['start_time'] = $value['start_time'];
					$record['start_hours'] = intval(date("G", strtotime(date("Y-m-d " . $value['start_time']))));
					$record['start_min'] = intval(date("i", strtotime(date("Y-m-d " . $value['start_time']))));
					$record['end_time'] = $value['end_time'];
					$record['end_hours'] = intval(date("G", strtotime(date("Y-m-d " . $value['end_time']))));
					$record['end_min'] = intval(date("i", strtotime(date("Y-m-d " . $value['end_time']))));
					$record['gmt'] = $value['gmt'];
					$display_rules[] = $record;
				}

				$date = date('d-m-y h:i:s');
				foreach ( $display_rules as $key=>$value ) {
					$gmt = str_replace('UTC','',$value['gmt']);
					if ( is_numeric($gmt)) {
						$current_date =  gmdate("Y-m-d H:i", time() + 3600*($gmt+date("I")));
					} else {
						date_default_timezone_set(str_replace('UTC','',$gmt));
						$current_date = date('Y-m-d H:i');
					}
					$utcHours = date( 'H', strtotime( $current_date ) );
					$utcMin = date( 'i', strtotime( $current_date ) );
					$utcDay = date( 'w', strtotime( $current_date ) );

					$hourStatus = 0;
                    $minStatus = 0;
                    $checkForTime = 0;
                    $nextday = 0;
					//echo $current_date ."==" . $utcHours ."==" . $utcMin ." == " . $utcDay. "\r\n<br>";

					if ( $value['start_hours'] == 0 && $value['end_hours'] == 0 && $value['start_time'] == '' && $value['end_time'] == '' ) {
						$displayStatus = 1;
					}

					if ($value['days'] == -1) {
                        $checkForTime = 1;
                    } else if ($value['days'] >= 0 && $value['days'] <= 6) {
                        if ($value['days'] == $utcDay) {
                            $checkForTime = 1;
                        }
                    } else if ($value['days'] == 7) {
                        if ($utcDay >= 0 && $utcDay <= 4) {
                            $checkForTime = 1;
                        }
                    } else if ($value['days'] == 8) {
                        if ($utcDay >= 1 && $utcDay <= 5) {
                            $checkForTime = 1;
                        }
                    } else if ($value['days'] == 9) {
                        if ($utcDay == 5 || $utcDay == 6) {
                            $checkForTime = 1;
                        }
                    }

					if ( $value['start_hours'] > $value['end_hours']) {
                        if($checkForTime == 0){
                            $value['days'] = $value['days'] + 1;
                        }
                        if ($value['days'] == 0) {
                            $checkForTime = 1;
                        }else if ($value['days'] >= 1 && $value['days'] <= 7) {
                            $checkForTime = 1;
                        }else if ($value['days'] == 8) {
                            if ($utcDay >= 1 && $utcDay <= 5) {
                                $checkForTime = 1;
                            }
                        }else if ($value['days'] == 9) {
                            if ($utcDay >= 2 && $utcDay <= 6) {
                                $checkForTime = 1;
                            }
                        } else if ($value['days'] == 10) {
                            if ($utcDay == 6 || $utcDay == 0) {
                                $checkForTime = 1;
                            }
                        }
                        if(0 <= $value['end_hours'] && $utcHours>= $value['end_hours']){
                            $nextday = 1;
                        }
                    }
					if ( $checkForTime == 1) {

                        if ( $utcHours > $value['start_hours'] && $utcHours < $value['end_hours'] ) {
                            $hourStatus = 1;
                        } else if ( $utcHours == $value['start_hours'] && $utcHours < $value['end_hours']) {
                            if ( $utcMin >= $value['start_min']) {
                                $hourStatus = 1;
                            }
                        } else if ( $utcHours > $value['start_hours'] && $utcHours == $value['end_hours']) {
                            if ( $utcMin <= $value['end_min']) {
                                $hourStatus = 1;
                            }
                        } else if ($utcHours == $value['start_hours'] && $utcHours == $value['end_hours']) {
                            if ( $utcMin >= $value['start_min'] && $utcMin <= $value['end_min']) {
                                $hourStatus = 1;
                            }
                        } else if ($value['start_hours'] > $value['end_hours']) {
                            if( $utcHours >= $value['start_hours']){
                                if ($utcMin >= $value['start_min'] && $utcMin <= $value['end_min']) {
                                    $hourStatus = 1;
                                }
                            }

                            if( $nextday == 1 && $utcHours <= $value['end_hours']){
                                if ($utcMin >= $value['start_min'] && $utcMin <= $value['end_min']) {
                                    $hourStatus = 1;
                                }
                            }
                        }

                        if ( $hourStatus == 1) {
                            if ( $utcMin >= $value['start_min'] && $utcMin <= $value['end_min'] ) {
                                $minStatus = 1;
                            }
                        }
                    }

					if ( $hourStatus == 1 && $checkForTime == 1) {
						$displayStatus = 1;
						break;
					}

				}
			} else {
				$displayStatus = 1;
			}

			return $displayStatus ;
		}

	}

}
global $front_settings_page;
$front_settings_page = new MyStickyElementsFrontPage_pro();


--- END FILE ---

--- FILE: license-key-box.php ---
<?php if ( ! defined( 'ABSPATH' ) ) exit; ?>
<?php
class My_sticky_elements_form_license_key_box {

    public $plugin_name = "myStickyElements";

    public $plugin_slug = "myStickyElements";

    public function __construct() {

        add_action("wp_ajax_".$this->plugin_slug."_license_key_box", array($this, "form_license_key_box"));

        add_action('admin_notices', array($this, 'admin_notices'));
    }

    public function form_license_key_box() {
        if (current_user_can('manage_options')) {
            $nonce = filter_input(INPUT_POST, 'nonce', FILTER_SANITIZE_STRING);
            $days = filter_input(INPUT_POST, 'days', FILTER_SANITIZE_STRING);
            if (!empty($nonce) && wp_verify_nonce($nonce, $this->plugin_slug . "_license_key_box")) {
                if ($days == -1) {
                    add_option($this->plugin_slug . "_hide_license_key_box", "1");
                } else {
                    $date = date("Y-m-d", strtotime("+" . $days . " days"));
                    update_option($this->plugin_slug . "_show_license_key_box_after", $date);
                }
            }
            die;
        }
    }

    public function admin_notices() {
        if (current_user_can('manage_options')) {
            $licenseKey = get_option("sticky_element_license_key");
            if(empty($licenseKey)) {
                return;
            }
            $license_data = get_transient("MSE_license_key_data");
            if(!empty($license_data)) {
                if(isset($license_data['license']) && $license_data['license'] == "valid") {
                    if($license_data['expires'] == "lifetime") {
                        return;
                    }
                    $date = date("Y-m-d",strtotime("+30 days"))." 23:59:59";
                    if($date < $license_data['expires']) {
                        return;
                    }
                } else if(!isset($license_data['license']) || $license_data['license'] != 'expired') {
                    return;
                }
            } else {
                return;
            }

            $is_hidden = get_option($this->plugin_slug . "_hide_license_key_box");
            if ($is_hidden !== false) {
                return;
            }
            $date_to_show = get_option($this->plugin_slug . "_show_license_key_box_after");
            if ($date_to_show !== false) {
                $current_date = date("Y-m-d");
                if ($current_date < $date_to_show) {
                    return;
                }
            }
            $renewal_link = PRO_MY_STICKY_ELEMENT_API_URL."checkout/?edd_license_key=".$licenseKey."&download_id=".PRO_MY_STICKY_ELEMENT_ID;
            ?>
            <style>
                .<?php echo esc_attr($this->plugin_slug) ?>-premio-license-key-box p a.close-license-notification {
                    display: inline-block;
                    float: right;
                    text-decoration: none;
                    color: #999999;
                    position: absolute;
                    right: 12px;
                    top: 12px;
                }

                .<?php echo esc_attr($this->plugin_slug) ?>-premio-license-key-box p a:hover, .<?php echo esc_attr($this->plugin_slug) ?>-premio-license-key-box p a:focus {
                    color: #333333;
                }

                .<?php echo esc_attr($this->plugin_slug) ?>-premio-license-key-box .button span {
                    display: inline-block;
                    line-height: 27px;
                    font-size: 16px;
                }

                .<?php echo esc_attr($this->plugin_slug) ?>-license-key-box-popup {
                    position: fixed;
                    width: 100%;
                    height: 100%;
                    z-index: 10001;
                    background: rgba(0, 0, 0, 0.65);
                    top: 0;
                    left: 0;
                    display: none;
                }

                .<?php echo esc_attr($this->plugin_slug) ?>-license-key-box-popup-content {
                    background: #ffffff;
                    padding: 20px;
                    position: absolute;
                    max-width: 450px;
                    width: 100%;
                    margin: 0 auto;
                    top: 45%;
                    left: 0;
                    right: 0;
                    -webkit-border-radius: 5px;
                    -moz-border-radius: 5px;
                    border-radius: 5px;
                :;
                }

                .<?php echo esc_attr($this->plugin_slug) ?>-license-key-box-title {
                    padding: 0 0 10px 0;
                    font-weight: bold;
                }

                .<?php echo esc_attr($this->plugin_slug) ?>-license-key-box-options a {
                    display: block;
                    margin: 5px 0 5px 0;
                    color: #333;
                    text-decoration: none;
                }

                .<?php echo esc_attr($this->plugin_slug) ?>-license-key-box-options a.dismiss {
                    color: #999;
                }

                .<?php echo esc_attr($this->plugin_slug) ?>-license-key-box-options a:hover, .affiliate-options a:focus {
                    color: #0073aa;
                }

                button.<?php echo esc_attr($this->plugin_slug) ?>-close-license-key-box-popup {
                    position: absolute;
                    top: 5px;
                    right: 0;
                    border: none;
                    background: transparent;
                    cursor: pointer;
                }

                a.button.button-primary.<?php echo esc_attr($this->plugin_slug) ?>-license-key-box-btn {
                    font-size: 14px;
                    background: #F51366;
                    color: #fff;
                    border: solid 1px #F51366;
                    border-radius: 3px;
                    line-height: 24px;
                    -webkit-box-shadow: 0 3px 5px -3px #333333;
                    -moz-box-shadow: 0 3px 5px -3px #333333;
                    box-shadow: 0 3px 5px -3px #333333;
                    text-shadow: none;
                }

                .notice.notice-info.premio-notice {
                    position: relative;
                    padding: 1px 30px 1px 12px;
                }

                .notice.notice-info.premio-notice ul li {
                    margin: 0;
                }

                .license-key-box-default {
                    padding: 0 0 10px 0;
                }
                .<?php echo esc_attr($this->plugin_slug) ?>-premio-license-key-box p {
                    display: inline-block;
                    line-height: 30px;
                    vertical-align: middle;
                    padding: 0 10px 0 0;
                }

                .<?php echo esc_attr($this->plugin_slug) ?>-premio-license-key-box p img {
                    width: 30px;
                    height: 30px;
                    display: inline-block;
                    margin: 0 10px;
                    vertical-align: middle;
                    border-radius: 15px;
                }
                .<?php echo esc_attr($this->plugin_slug) ?>-premio-license-key-box ul {
                    margin: 0 0 10px 0;
                    padding: 0;
                }
            </style>
            <div
                class="notice notice-info premio-notice <?php echo esc_attr($this->plugin_slug) ?>-premio-license-key-box <?php echo esc_attr($this->plugin_slug) ?>-premio-license-key-box">
                <div class="license-key-box-default" id="default-license-key-box-<?php echo $this->plugin_slug ?>">
                    <p>
                        <?php if(isset($license_data['license']) && $license_data['license'] == 'expired') { ?>
                            Your <?php echo esc_attr($this->plugin_name) ?> license key has expired. <a href="<?php echo esc_url($renewal_link) ?>" target="_blank"><b>Renew now</b></a> to enjoy our powerful feature updates.
                        <?php } else if(isset($license_data['license']) && $license_data['license'] == "valid") {
                            $diff = strtotime(date("Y-m-d 23:59:59")) - strtotime($license_data['expires']);
                            $days = abs(round($diff / 86400));
                            $message = "in ".$days." days";
                            if($days == 1) {
                                $message = "in 1 day";
                            } else if($days == 0) {
                                $message = "today";
                            }
                            ?>
                            Your <?php echo esc_attr($this->plugin_name) ?> license key is about to expire <?php echo $message ?>. <a href="<?php echo esc_url($renewal_link) ?>" target="_blank"><b>Renew now</b></a> to enjoy our powerful feature updates.
                        <?php } ?>
                        <a href="javascript:;" class="dismiss-btn close-license-notification <?php echo esc_attr($this->plugin_slug) ?>-premio-review-dismiss-btn"><span class="dashicons dashicons-no-alt"></span></a>
                    </p>

                    <div class="clear clearfix"></div>
                    <a class="<?php echo esc_attr($this->plugin_slug) ?>-premio-license-key-box-future-btn button button-primary" href="javascript:;">Dismiss</a>
                </div>
            </div>
            <div class="<?php echo esc_attr($this->plugin_slug) ?>-license-key-box-popup">
                <div class="<?php echo esc_attr($this->plugin_slug) ?>-license-key-box-popup-content">
                    <button class="<?php echo esc_attr($this->plugin_slug) ?>-close-license-key-box-popup"><span class="dashicons dashicons-no-alt"></span></button>
                    <div class="<?php echo esc_attr($this->plugin_slug) ?>-license-key-box-title">Would you like us to remind you about this later? </div>
                    <div class="<?php echo esc_attr($this->plugin_slug) ?>-license-key-box-options">
                        <a href="javascript:;" data-days="3">Remind me in 3 days</a>
                        <a href="javascript:;" data-days="10">Remind me in 10 days</a>
                        <a href="javascript:;" data-days="-1" class="dismiss">Don't remind me about this</a>
                    </div>
                </div>
            </div>
            <script>
                jQuery(document).ready(function () {
                    jQuery("body").addClass("has-premio-box");
                    jQuery(document).on("click", ".<?php echo $this->plugin_slug ?>-premio-review-dismiss-btn, .<?php echo $this->plugin_slug ?>-premio-license-key-box-future-btn", function () {
                        jQuery(".<?php echo $this->plugin_slug ?>-license-key-box-popup").show();
                    });
                    jQuery(document).on("click", ".<?php echo $this->plugin_slug ?>-close-license-key-box-popup", function () {
                        jQuery(".<?php echo $this->plugin_slug ?>-license-key-box-popup").hide();
                    });
                    jQuery(document).on("click", ".<?php echo $this->plugin_slug ?>-close-thanks-btn", function () {
                        jQuery(".<?php echo $this->plugin_slug ?>-license-key-box-popup").remove();
                        jQuery(".<?php echo $this->plugin_slug ?>-premio-license-key-box").remove();
                    });
                    jQuery(document).on("click", ".<?php echo $this->plugin_slug ?>-premio-license-key-box-hide-btn", function () {
                        jQuery("#default-license-key-box-<?php echo $this->plugin_slug ?>").hide();
                        jQuery("#review-thanks-<?php echo $this->plugin_slug ?>").show();
                        jQuery.ajax({
                            url: "<?php echo admin_url("admin-ajax.php") ?>",
                            data: "action=<?php echo esc_attr($this->plugin_slug) ?>_license_key_box&days=-1&nonce=<?php echo esc_attr(wp_create_nonce($this->plugin_slug."_license_key_box")) ?>",
                            type: "post",
                            success: function () {

                            }
                        });
                    });
                    jQuery(document).on("click", ".<?php echo $this->plugin_slug ?>-license-key-box-options a", function () {
                        var dataDays = jQuery(this).attr("data-days");
                        jQuery(".<?php echo $this->plugin_slug ?>-license-key-box-popup").remove();
                        jQuery(".<?php echo $this->plugin_slug ?>-premio-license-key-box").remove();
                        jQuery("body").removeClass("has-premio-box");
                        jQuery.ajax({
                            url: "<?php echo admin_url("admin-ajax.php") ?>",
                            data: "action=<?php echo esc_attr($this->plugin_slug) ?>_license_key_box&days=" + dataDays + "&nonce=<?php echo esc_attr(wp_create_nonce($this->plugin_slug."_license_key_box")) ?>",
                            type: "post",
                            success: function () {
                                jQuery(".<?php echo $this->plugin_slug ?>-license-key-box-popup").remove();
                                jQuery(".<?php echo $this->plugin_slug ?>-premio-license-key-box").remove();
                            }
                        });
                    });
                });
            </script>
            <?php
        }
    }
}
$My_sticky_elements_form_license_key_box = new My_sticky_elements_form_license_key_box();

--- END FILE ---

--- FILE: sticky-element.class.php ---
<?php

// Exit if accessed directly
if ( ! defined( 'ABSPATH' ) ) exit;

/**
 * Allows plugins to use their own update API.
 *
 * @author Easy Digital Downloads
 * @version 1.6.17
 */
class Sticky_element_Plugin_Updater {

    private $api_url     = '';
    private $api_data    = array();
    private $name        = '';
    private $slug        = '';
    private $version     = '';
    private $wp_override = false;
    private $cache_key   = '';

    private $health_check_timeout = 5;

    /**
     * Class constructor.
     *
     * @uses plugin_basename()
     * @uses hook()
     *
     * @param string  $_api_url     The URL pointing to the custom API endpoint.
     * @param string  $_plugin_file Path to the plugin file.
     * @param array   $_api_data    Optional data to send with API calls.
     */
    public function __construct( $_api_url, $_plugin_file, $_api_data = null ) {

        global $edd_plugin_data;

        $this->api_url     = trailingslashit( $_api_url );
        $this->api_data    = $_api_data;
        $this->name        = plugin_basename( $_plugin_file );
        $this->slug        = basename( $_plugin_file, '.php' );
        $this->version     = $_api_data['version'];
        $this->wp_override = isset( $_api_data['wp_override'] ) ? (bool) $_api_data['wp_override'] : false;
        $this->beta        = ! empty( $this->api_data['beta'] ) ? true : false;
        $this->cache_key   = 'edd_sl_' . md5( serialize( $this->slug . $this->api_data['license'] . $this->beta ) );

        $edd_plugin_data[ $this->slug ] = $this->api_data;

        /**
         * Fires after the $edd_plugin_data is setup.
         *
         * @since x.x.x
         *
         * @param array $edd_plugin_data Array of EDD SL plugin data.
         */
        do_action( 'post_edd_sl_plugin_updater_setup', $edd_plugin_data );

        // Set up hooks.
        $this->init();

    }

    /**
     * Set up WordPress filters to hook into WP's update process.
     *
     * @uses add_filter()
     *
     * @return void
     */
    public function init() {

        add_filter( 'pre_set_site_transient_update_plugins', array( $this, 'check_update' ) );
        add_filter( 'plugins_api', array( $this, 'plugins_api_filter' ), 10, 3 );
        remove_action( 'after_plugin_row_' . $this->name, 'wp_plugin_update_row', 10 );
        add_action( 'after_plugin_row_' . $this->name, array( $this, 'show_update_notification' ), 10, 2 );
        add_action( 'admin_init', array( $this, 'show_changelog' ) );

    }

    /**
     * Check for Updates at the defined API endpoint and modify the update array.
     *
     * This function dives into the update API just when WordPress creates its update array,
     * then adds a custom API call and injects the custom plugin data retrieved from the API.
     * It is reassembled from parts of the native WordPress plugin update code.
     * See wp-includes/update.php line 121 for the original wp_update_plugins() function.
     *
     * @uses api_request()
     *
     * @param array   $_transient_data Update array build by WordPress.
     * @return array Modified update array with custom plugin data.
     */
    public function check_update( $_transient_data ) {

        global $pagenow;

        if ( ! is_object( $_transient_data ) ) {
            $_transient_data = new stdClass;
        }

        if ( 'plugins.php' == $pagenow && is_multisite() ) {
            return $_transient_data;
        }

        if ( ! empty( $_transient_data->response ) && ! empty( $_transient_data->response[ $this->name ] ) && false === $this->wp_override ) {
            return $_transient_data;
        }

        $version_info = $this->get_cached_version_info();

        if ( false === $version_info ) {
            $version_info = $this->api_request( 'plugin_latest_version', array( 'slug' => $this->slug, 'beta' => $this->beta ) );

            $this->set_version_info_cache( $version_info );

        }

        if ( false !== $version_info && is_object( $version_info ) && isset( $version_info->new_version ) ) {

            if ( version_compare( $this->version, $version_info->new_version, '<' ) ) {

                $_transient_data->response[ $this->name ] = $version_info;

            }

            $_transient_data->last_checked           = time();
            $_transient_data->checked[ $this->name ] = $this->version;

        }

        return $_transient_data;
    }

    /**
     * show update nofication row -- needed for multisite subsites, because WP won't tell you otherwise!
     *
     * @param string  $file
     * @param array   $plugin
     */
    public function show_update_notification( $file, $plugin ) {

        if ( is_network_admin() ) {
            return;
        }

        if( ! current_user_can( 'update_plugins' ) ) {
            return;
        }

        if( ! is_multisite() ) {
            return;
        }

        if ( $this->name != $file ) {
            return;
        }

        // Remove our filter on the site transient
        remove_filter( 'pre_set_site_transient_update_plugins', array( $this, 'check_update' ), 10 );

        $update_cache = get_site_transient( 'update_plugins' );

        $update_cache = is_object( $update_cache ) ? $update_cache : new stdClass();

        if ( empty( $update_cache->response ) || empty( $update_cache->response[ $this->name ] ) ) {

            $version_info = $this->get_cached_version_info();

            if ( false === $version_info ) {
                $version_info = $this->api_request( 'plugin_latest_version', array( 'slug' => $this->slug, 'beta' => $this->beta ) );

                // Since we disabled our filter for the transient, we aren't running our object conversion on banners, sections, or icons. Do this now:
                if ( isset( $version_info->banners ) && ! is_array( $version_info->banners ) ) {
                    $version_info->banners = $this->convert_object_to_array( $version_info->banners );
                }

                if ( isset( $version_info->sections ) && ! is_array( $version_info->sections ) ) {
                    $version_info->sections = $this->convert_object_to_array( $version_info->sections );
                }

                if ( isset( $version_info->icons ) && ! is_array( $version_info->icons ) ) {
                    $version_info->icons = $this->convert_object_to_array( $version_info->icons );
                }

                $this->set_version_info_cache( $version_info );
            }

            if ( ! is_object( $version_info ) ) {
                return;
            }

            if ( version_compare( $this->version, $version_info->new_version, '<' ) ) {

                $update_cache->response[ $this->name ] = $version_info;

            }

            $update_cache->last_checked = time();
            $update_cache->checked[ $this->name ] = $this->version;

            set_site_transient( 'update_plugins', $update_cache );

        } else {

            $version_info = $update_cache->response[ $this->name ];

        }

        // Restore our filter
        add_filter( 'pre_set_site_transient_update_plugins', array( $this, 'check_update' ) );

        if ( ! empty( $update_cache->response[ $this->name ] ) && version_compare( $this->version, $version_info->new_version, '<' ) ) {

            // build a plugin list row, with update notification
            $wp_list_table = _get_list_table( 'WP_Plugins_List_Table' );
            # <tr class="plugin-update-tr"><td colspan="' . $wp_list_table->get_column_count() . '" class="plugin-update colspanchange">
            echo '<tr class="plugin-update-tr" id="' . $this->slug . '-update" data-slug="' . $this->slug . '" data-plugin="' . $this->slug . '/' . $file . '">';
            echo '<td colspan="3" class="plugin-update colspanchange">';
            echo '<div class="update-message notice inline notice-warning notice-alt">';

            $changelog_link = self_admin_url( 'index.php?edd_sl_action=view_plugin_changelog&plugin=' . $this->name . '&slug=' . $this->slug . '&TB_iframe=true&width=772&height=911' );

            if ( empty( $version_info->download_link ) ) {
                printf(
                    __( 'There is a new version of %1$s available. %2$sView version %3$s details%4$s.', 'easy-digital-downloads' ),
                    esc_html( $version_info->name ),
                    '<a target="_blank" class="thickbox" href="' . esc_url( $changelog_link ) . '">',
                    esc_html( $version_info->new_version ),
                    '</a>'
                );
            } else {
                printf(
                    __( 'There is a new version of %1$s available. %2$sView version %3$s details%4$s or %5$supdate now%6$s.', 'easy-digital-downloads' ),
                    esc_html( $version_info->name ),
                    '<a target="_blank" class="thickbox" href="' . esc_url( $changelog_link ) . '">',
                    esc_html( $version_info->new_version ),
                    '</a>',
                    '<a href="' . esc_url( wp_nonce_url( self_admin_url( 'update.php?action=upgrade-plugin&plugin=' ) . $this->name, 'upgrade-plugin_' . $this->name ) ) .'">',
                    '</a>'
                );
            }

            do_action( "in_plugin_update_message-{$file}", $plugin, $version_info );

            echo '</div></td></tr>';
        }
    }

    /**
     * Updates information on the "View version x.x details" page with custom data.
     *
     * @uses api_request()
     *
     * @param mixed   $_data
     * @param string  $_action
     * @param object  $_args
     * @return object $_data
     */
    public function plugins_api_filter( $_data, $_action = '', $_args = null ) {

        if ( $_action != 'plugin_information' ) {

            return $_data;

        }

        if ( ! isset( $_args->slug ) || ( $_args->slug != $this->slug ) ) {

            return $_data;

        }

        $to_send = array(
            'slug'   => $this->slug,
            'is_ssl' => is_ssl(),
            'fields' => array(
                'banners' => array(),
                'reviews' => false,
                'icons'   => array(),
            )
        );

        $cache_key = 'edd_api_request_' . md5( serialize( $this->slug . $this->api_data['license'] . $this->beta ) );

        // Get the transient where we store the api request for this plugin for 24 hours
        $edd_api_request_transient = $this->get_cached_version_info( $cache_key );

        //If we have no transient-saved value, run the API, set a fresh transient with the API value, and return that value too right now.
        if ( empty( $edd_api_request_transient ) ) {

            $api_response = $this->api_request( 'plugin_information', $to_send );

            // Expires in 3 hours
            $this->set_version_info_cache( $api_response, $cache_key );

            if ( false !== $api_response ) {
                $_data = $api_response;
            }

        } else {
            $_data = $edd_api_request_transient;
        }

        // Convert sections into an associative array, since we're getting an object, but Core expects an array.
        if ( isset( $_data->sections ) && ! is_array( $_data->sections ) ) {
            $_data->sections = $this->convert_object_to_array( $_data->sections );
        }

        // Convert banners into an associative array, since we're getting an object, but Core expects an array.
        if ( isset( $_data->banners ) && ! is_array( $_data->banners ) ) {
            $_data->banners = $this->convert_object_to_array( $_data->banners );
        }

        // Convert icons into an associative array, since we're getting an object, but Core expects an array.
        if ( isset( $_data->icons ) && ! is_array( $_data->icons ) ) {
            $_data->icons = $this->convert_object_to_array( $_data->icons );
        }

        return $_data;
    }

    /**
     * Convert some objects to arrays when injecting data into the update API
     *
     * Some data like sections, banners, and icons are expected to be an associative array, however due to the JSON
     * decoding, they are objects. This method allows us to pass in the object and return an associative array.
     *
     * @since 3.6.5
     *
     * @param stdClass $data
     *
     * @return array
     */
    private function convert_object_to_array( $data ) {
        $new_data = array();
        foreach ( $data as $key => $value ) {
            $new_data[ $key ] = $value;
        }

        return $new_data;
    }

    /**
     * Disable SSL verification in order to prevent download update failures
     *
     * @param array   $args
     * @param string  $url
     * @return object $array
     */
    public function http_request_args( $args, $url ) {

        $verify_ssl = $this->verify_ssl();
        if ( strpos( $url, 'https://' ) !== false && strpos( $url, 'edd_action=package_download' ) ) {
            $args['sslverify'] = $verify_ssl;
        }
        return $args;

    }

    /**
     * Calls the API and, if successfull, returns the object delivered by the API.
     *
     * @uses get_bloginfo()
     * @uses wp_remote_post()
     * @uses is_wp_error()
     *
     * @param string  $_action The requested action.
     * @param array   $_data   Parameters for the API action.
     * @return false|object
     */
    private function api_request( $_action, $_data ) {

        global $wp_version, $edd_plugin_url_available;

        // Do a quick status check on this domain if we haven't already checked it.
        $store_hash = md5( $this->api_url );
        if ( ! is_array( $edd_plugin_url_available ) || ! isset( $edd_plugin_url_available[ $store_hash ] ) ) {
            $test_url_parts = parse_url( $this->api_url );

            $scheme = ! empty( $test_url_parts['scheme'] ) ? $test_url_parts['scheme']     : 'http';
            $host   = ! empty( $test_url_parts['host'] )   ? $test_url_parts['host']       : '';
            $port   = ! empty( $test_url_parts['port'] )   ? ':' . $test_url_parts['port'] : '';

            if ( empty( $host ) ) {
                $edd_plugin_url_available[ $store_hash ] = false;
            } else {
                $test_url = $scheme . '://' . $host . $port;
                $response = wp_remote_get( $test_url, array( 'timeout' => $this->health_check_timeout, 'sslverify' => true ) );
                $edd_plugin_url_available[ $store_hash ] = is_wp_error( $response ) ? false : true;
            }
        }

        if ( false === $edd_plugin_url_available[ $store_hash ] ) {
            return;
        }

        $data = array_merge( $this->api_data, $_data );

        if ( $data['slug'] != $this->slug ) {
            return;
        }

        if( $this->api_url == trailingslashit ( home_url() ) ) {
            return false; // Don't allow a plugin to ping itself
        }

        $api_params = array(
            'edd_action' => 'get_version',
            'license'    => ! empty( $data['license'] ) ? $data['license'] : '',
            'item_name'  => isset( $data['item_name'] ) ? $data['item_name'] : false,
            'item_id'    => isset( $data['item_id'] ) ? $data['item_id'] : false,
            'version'    => isset( $data['version'] ) ? $data['version'] : false,
            'slug'       => $data['slug'],
            'author'     => $data['author'],
            'url'        => home_url(),
            'beta'       => ! empty( $data['beta'] ),
        );

        $verify_ssl = $this->verify_ssl();
        $request    = wp_remote_post( $this->api_url, array( 'timeout' => 15, 'sslverify' => $verify_ssl, 'body' => $api_params ) );

        if ( ! is_wp_error( $request ) ) {
            $request = json_decode( wp_remote_retrieve_body( $request ) );
        }

        if ( $request && isset( $request->sections ) ) {
            $request->sections = maybe_unserialize( $request->sections );
        } else {
            $request = false;
        }

        if ( $request && isset( $request->banners ) ) {
            $request->banners = maybe_unserialize( $request->banners );
        }

        if ( $request && isset( $request->icons ) ) {
            $request->icons = maybe_unserialize( $request->icons );
        }

        if( ! empty( $request->sections ) ) {
            foreach( $request->sections as $key => $section ) {
                $request->$key = (array) $section;
            }
        }

        return $request;
    }

    public function show_changelog() {

        global $edd_plugin_data;

        if( empty( $_REQUEST['edd_sl_action'] ) || 'view_plugin_changelog' != $_REQUEST['edd_sl_action'] ) {
            return;
        }

        if( empty( $_REQUEST['plugin'] ) ) {
            return;
        }

        if( empty( $_REQUEST['slug'] ) ) {
            return;
        }

        if( ! current_user_can( 'update_plugins' ) ) {
            wp_die( __( 'You do not have permission to install plugin updates', 'easy-digital-downloads' ), __( 'Error', 'easy-digital-downloads' ), array( 'response' => 403 ) );
        }

        $data         = $edd_plugin_data[ $_REQUEST['slug'] ];
        $beta         = ! empty( $data['beta'] ) ? true : false;
        $cache_key    = md5( 'edd_plugin_' . sanitize_key( $_REQUEST['plugin'] ) . '_' . $beta . '_version_info' );
        $version_info = $this->get_cached_version_info( $cache_key );

        if( false === $version_info ) {

            $api_params = array(
                'edd_action' => 'get_version',
                'item_name'  => isset( $data['item_name'] ) ? $data['item_name'] : false,
                'item_id'    => isset( $data['item_id'] ) ? $data['item_id'] : false,
                'slug'       => $_REQUEST['slug'],
                'author'     => $data['author'],
                'url'        => home_url(),
                'beta'       => ! empty( $data['beta'] )
            );

            $verify_ssl = $this->verify_ssl();
            $request    = wp_remote_post( $this->api_url, array( 'timeout' => 15, 'sslverify' => $verify_ssl, 'body' => $api_params ) );

            if ( ! is_wp_error( $request ) ) {
                $version_info = json_decode( wp_remote_retrieve_body( $request ) );
            }


            if ( ! empty( $version_info ) && isset( $version_info->sections ) ) {
                $version_info->sections = maybe_unserialize( $version_info->sections );
            } else {
                $version_info = false;
            }

            if( ! empty( $version_info ) ) {
                foreach( $version_info->sections as $key => $section ) {
                    $version_info->$key = (array) $section;
                }
            }

            $this->set_version_info_cache( $version_info, $cache_key );

        }

        if( ! empty( $version_info ) && isset( $version_info->sections['changelog'] ) ) {
            echo '<div style="background:#fff;padding:10px;">' . $version_info->sections['changelog'] . '</div>';
        }

        exit;
    }

    public function get_cached_version_info( $cache_key = '' ) {

        if( empty( $cache_key ) ) {
            $cache_key = $this->cache_key;
        }

        $cache = get_option( $cache_key );

        if( empty( $cache['timeout'] ) || time() > $cache['timeout'] ) {
            return false; // Cache is expired
        }

        // We need to turn the icons into an array, thanks to WP Core forcing these into an object at some point.
        $cache['value'] = json_decode( $cache['value'] );
        if ( ! empty( $cache['value']->icons ) ) {
            $cache['value']->icons = (array) $cache['value']->icons;
        }

        return $cache['value'];

    }

    public function set_version_info_cache( $value = '', $cache_key = '' ) {

        if( empty( $cache_key ) ) {
            $cache_key = $this->cache_key;
        }

        $data = array(
            'timeout' => strtotime( '+3 hours', time() ),
            'value'   => json_encode( $value )
        );

        update_option( $cache_key, $data, 'no' );

    }

    /**
     * Returns if the SSL of the store should be verified.
     *
     * @since  1.6.13
     * @return bool
     */
    private function verify_ssl() {
        return (bool) apply_filters( 'edd_sl_api_request_verify_ssl', true, $this );
    }
}


--- END FILE ---

--- FILE: mystickyelements-fonts.php ---
<?php
if ( !function_exists('mystickyelements_fonts')) {
	function mystickyelements_fonts(){
		return array(
				// System fonts.
				'System Stack' => 'Default',
				'Arial' => 'Default',
				'Tahoma' => 'Default',
				'Verdana' => 'Default',
				'Helvetica' => 'Default',
				'Times New Roman' => 'Default',
				'Trebuchet MS' => 'Default',
				'Georgia' => 'Default',				

				// Google Fonts (last update: 23/10/2018).
				'ABeeZee' => 'Google Fonts',
				'Abel' => 'Google Fonts',
				'Abhaya Libre' => 'Google Fonts',
				'Abril Fatface' => 'Google Fonts',
				'Aclonica' => 'Google Fonts',
				'Acme' => 'Google Fonts',
				'Actor' => 'Google Fonts',
				'Adamina' => 'Google Fonts',
				'Advent Pro' => 'Google Fonts',
				'Aguafina Script' => 'Google Fonts',
				'Akronim' => 'Google Fonts',
				'Aladin' => 'Google Fonts',
				'Aldrich' => 'Google Fonts',
				'Alef' => 'Google Fonts',
				'Alef Hebrew' => 'Google Fonts', // Hack for Google Early Access.
				'Alegreya' => 'Google Fonts',
				'Alegreya SC' => 'Google Fonts',
				'Alegreya Sans' => 'Google Fonts',
				'Alegreya Sans SC' => 'Google Fonts',
				'Alex Brush' => 'Google Fonts',
				'Alfa Slab One' => 'Google Fonts',
				'Alice' => 'Google Fonts',
				'Alike' => 'Google Fonts',
				'Alike Angular' => 'Google Fonts',
				'Allan' => 'Google Fonts',
				'Allerta' => 'Google Fonts',
				'Allerta Stencil' => 'Google Fonts',
				'Allura' => 'Google Fonts',
				'Almendra' => 'Google Fonts',
				'Almendra Display' => 'Google Fonts',
				'Almendra SC' => 'Google Fonts',
				'Amarante' => 'Google Fonts',
				'Amaranth' => 'Google Fonts',
				'Amatic SC' => 'Google Fonts',
				'Amethysta' => 'Google Fonts',
				'Amiko' => 'Google Fonts',
				'Amiri' => 'Google Fonts',
				'Amita' => 'Google Fonts',
				'Anaheim' => 'Google Fonts',
				'Andada' => 'Google Fonts',
				'Andika' => 'Google Fonts',
				'Angkor' => 'Google Fonts',
				'Annie Use Your Telescope' => 'Google Fonts',
				'Anonymous Pro' => 'Google Fonts',
				'Antic' => 'Google Fonts',
				'Antic Didone' => 'Google Fonts',
				'Antic Slab' => 'Google Fonts',
				'Anton' => 'Google Fonts',
				'Arapey' => 'Google Fonts',
				'Arbutus' => 'Google Fonts',
				'Arbutus Slab' => 'Google Fonts',
				'Architects Daughter' => 'Google Fonts',
				'Archivo' => 'Google Fonts',
				'Archivo Black' => 'Google Fonts',
				'Archivo Narrow' => 'Google Fonts',
				'Aref Ruqaa' => 'Google Fonts',
				'Arima Madurai' => 'Google Fonts',
				'Arimo' => 'Google Fonts',
				'Arizonia' => 'Google Fonts',
				'Armata' => 'Google Fonts',
				'Arsenal' => 'Google Fonts',
				'Artifika' => 'Google Fonts',
				'Arvo' => 'Google Fonts',
				'Arya' => 'Google Fonts',
				'Asap' => 'Google Fonts',
				'Asap Condensed' => 'Google Fonts',
				'Asar' => 'Google Fonts',
				'Asset' => 'Google Fonts',
				'Assistant' => 'Google Fonts',
				'Astloch' => 'Google Fonts',
				'Asul' => 'Google Fonts',
				'Athiti' => 'Google Fonts',
				'Atma' => 'Google Fonts',
				'Atomic Age' => 'Google Fonts',
				'Aubrey' => 'Google Fonts',
				'Audiowide' => 'Google Fonts',
				'Autour One' => 'Google Fonts',
				'Average' => 'Google Fonts',
				'Average Sans' => 'Google Fonts',
				'Averia Gruesa Libre' => 'Google Fonts',
				'Averia Libre' => 'Google Fonts',
				'Averia Sans Libre' => 'Google Fonts',
				'Averia Serif Libre' => 'Google Fonts',
				'Bad Script' => 'Google Fonts',
				'Bahiana' => 'Google Fonts',
				'Bai Jamjuree' => 'Google Fonts',
				'Baloo' => 'Google Fonts',
				'Baloo Bhai' => 'Google Fonts',
				'Baloo Bhaijaan' => 'Google Fonts',
				'Baloo Bhaina' => 'Google Fonts',
				'Baloo Chettan' => 'Google Fonts',
				'Baloo Da' => 'Google Fonts',
				'Baloo Paaji' => 'Google Fonts',
				'Baloo Tamma' => 'Google Fonts',
				'Baloo Tammudu' => 'Google Fonts',
				'Baloo Thambi' => 'Google Fonts',
				'Balthazar' => 'Google Fonts',
				'Bangers' => 'Google Fonts',
				'Barlow' => 'Google Fonts',
				'Barlow Condensed' => 'Google Fonts',
				'Barlow Semi Condensed' => 'Google Fonts',
				'Barrio' => 'Google Fonts',
				'Basic' => 'Google Fonts',
				'Battambang' => 'Google Fonts',
				'Baumans' => 'Google Fonts',
				'Bayon' => 'Google Fonts',
				'Belgrano' => 'Google Fonts',
				'Bellefair' => 'Google Fonts',
				'Belleza' => 'Google Fonts',
				'BenchNine' => 'Google Fonts',
				'Bentham' => 'Google Fonts',
				'Berkshire Swash' => 'Google Fonts',
				'Bevan' => 'Google Fonts',
				'Bigelow Rules' => 'Google Fonts',
				'Bigshot One' => 'Google Fonts',
				'Bilbo' => 'Google Fonts',
				'Bilbo Swash Caps' => 'Google Fonts',
				'BioRhyme' => 'Google Fonts',
				'BioRhyme Expanded' => 'Google Fonts',
				'Biryani' => 'Google Fonts',
				'Bitter' => 'Google Fonts',
				'Black And White Picture' => 'Google Fonts',
				'Black Han Sans' => 'Google Fonts',
				'Black Ops One' => 'Google Fonts',
				'Bokor' => 'Google Fonts',
				'Bonbon' => 'Google Fonts',
				'Boogaloo' => 'Google Fonts',
				'Bowlby One' => 'Google Fonts',
				'Bowlby One SC' => 'Google Fonts',
				'Brawler' => 'Google Fonts',
				'Bree Serif' => 'Google Fonts',
				'Bubblegum Sans' => 'Google Fonts',
				'Bubbler One' => 'Google Fonts',
				'Buda' => 'Google Fonts',
				'Buenard' => 'Google Fonts',
				'Bungee' => 'Google Fonts',
				'Bungee Hairline' => 'Google Fonts',
				'Bungee Inline' => 'Google Fonts',
				'Bungee Outline' => 'Google Fonts',
				'Bungee Shade' => 'Google Fonts',
				'Butcherman' => 'Google Fonts',
				'Butterfly Kids' => 'Google Fonts',
				'Cabin' => 'Google Fonts',
				'Cabin Condensed' => 'Google Fonts',
				'Cabin Sketch' => 'Google Fonts',
				'Caesar Dressing' => 'Google Fonts',
				'Cagliostro' => 'Google Fonts',
				'Cairo' => 'Google Fonts',
				'Calligraffitti' => 'Google Fonts',
				'Cambay' => 'Google Fonts',
				'Cambo' => 'Google Fonts',
				'Candal' => 'Google Fonts',
				'Cantarell' => 'Google Fonts',
				'Cantata One' => 'Google Fonts',
				'Cantora One' => 'Google Fonts',
				'Capriola' => 'Google Fonts',
				'Cardo' => 'Google Fonts',
				'Carme' => 'Google Fonts',
				'Carrois Gothic' => 'Google Fonts',
				'Carrois Gothic SC' => 'Google Fonts',
				'Carter One' => 'Google Fonts',
				'Catamaran' => 'Google Fonts',
				'Caudex' => 'Google Fonts',
				'Caveat' => 'Google Fonts',
				'Caveat Brush' => 'Google Fonts',
				'Cedarville Cursive' => 'Google Fonts',
				'Ceviche One' => 'Google Fonts',
				'Chakra Petch' => 'Google Fonts',
				'Changa' => 'Google Fonts',
				'Changa One' => 'Google Fonts',
				'Chango' => 'Google Fonts',
				'Charmonman' => 'Google Fonts',
				'Chathura' => 'Google Fonts',
				'Chau Philomene One' => 'Google Fonts',
				'Chela One' => 'Google Fonts',
				'Chelsea Market' => 'Google Fonts',
				'Chenla' => 'Google Fonts',
				'Cherry Cream Soda' => 'Google Fonts',
				'Cherry Swash' => 'Google Fonts',
				'Chewy' => 'Google Fonts',
				'Chicle' => 'Google Fonts',
				'Chivo' => 'Google Fonts',
				'Chonburi' => 'Google Fonts',
				'Cinzel' => 'Google Fonts',
				'Cinzel Decorative' => 'Google Fonts',
				'Clicker Script' => 'Google Fonts',
				'Coda' => 'Google Fonts',
				'Coda Caption' => 'Google Fonts',
				'Codystar' => 'Google Fonts',
				'Coiny' => 'Google Fonts',
				'Combo' => 'Google Fonts',
				'Comfortaa' => 'Google Fonts',
				'Coming Soon' => 'Google Fonts',
				'Concert One' => 'Google Fonts',
				'Condiment' => 'Google Fonts',
				'Content' => 'Google Fonts',
				'Contrail One' => 'Google Fonts',
				'Convergence' => 'Google Fonts',
				'Cookie' => 'Google Fonts',
				'Copse' => 'Google Fonts',
				'Corben' => 'Google Fonts',
				'Cormorant' => 'Google Fonts',
				'Cormorant Garamond' => 'Google Fonts',
				'Cormorant Infant' => 'Google Fonts',
				'Cormorant SC' => 'Google Fonts',
				'Cormorant Unicase' => 'Google Fonts',
				'Cormorant Upright' => 'Google Fonts',
				'Courgette' => 'Google Fonts',
				'Cousine' => 'Google Fonts',
				'Coustard' => 'Google Fonts',
				'Covered By Your Grace' => 'Google Fonts',
				'Crafty Girls' => 'Google Fonts',
				'Creepster' => 'Google Fonts',
				'Crete Round' => 'Google Fonts',
				'Crimson Text' => 'Google Fonts',
				'Croissant One' => 'Google Fonts',
				'Crushed' => 'Google Fonts',
				'Cuprum' => 'Google Fonts',
				'Cute Font' => 'Google Fonts',
				'Cutive' => 'Google Fonts',
				'Cutive Mono' => 'Google Fonts',
				'Damion' => 'Google Fonts',
				'Dancing Script' => 'Google Fonts',
				'Dangrek' => 'Google Fonts',
				'David Libre' => 'Google Fonts',
				'Dawning of a New Day' => 'Google Fonts',
				'Days One' => 'Google Fonts',
				'Dekko' => 'Google Fonts',
				'Delius' => 'Google Fonts',
				'Delius Swash Caps' => 'Google Fonts',
				'Delius Unicase' => 'Google Fonts',
				'Della Respira' => 'Google Fonts',
				'Denk One' => 'Google Fonts',
				'Devonshire' => 'Google Fonts',
				'Dhurjati' => 'Google Fonts',
				'Didact Gothic' => 'Google Fonts',
				'Diplomata' => 'Google Fonts',
				'Diplomata SC' => 'Google Fonts',
				'Do Hyeon' => 'Google Fonts',
				'Dokdo' => 'Google Fonts',
				'Domine' => 'Google Fonts',
				'Donegal One' => 'Google Fonts',
				'Doppio One' => 'Google Fonts',
				'Dorsa' => 'Google Fonts',
				'Dosis' => 'Google Fonts',
				'Dr Sugiyama' => 'Google Fonts',
				'Droid Arabic Kufi' => 'Google Fonts', // Hack for Google Early Access.
				'Droid Arabic Naskh' => 'Google Fonts', // Hack for Google Early Access.
				'Duru Sans' => 'Google Fonts',
				'Dynalight' => 'Google Fonts',
				'EB Garamond' => 'Google Fonts',
				'Eagle Lake' => 'Google Fonts',
				'East Sea Dokdo' => 'Google Fonts',
				'Eater' => 'Google Fonts',
				'Economica' => 'Google Fonts',
				'Eczar' => 'Google Fonts',
				'El Messiri' => 'Google Fonts',
				'Electrolize' => 'Google Fonts',
				'Elsie' => 'Google Fonts',
				'Elsie Swash Caps' => 'Google Fonts',
				'Emblema One' => 'Google Fonts',
				'Emilys Candy' => 'Google Fonts',
				'Encode Sans' => 'Google Fonts',
				'Encode Sans Condensed' => 'Google Fonts',
				'Encode Sans Expanded' => 'Google Fonts',
				'Encode Sans Semi Condensed' => 'Google Fonts',
				'Encode Sans Semi Expanded' => 'Google Fonts',
				'Engagement' => 'Google Fonts',
				'Englebert' => 'Google Fonts',
				'Enriqueta' => 'Google Fonts',
				'Erica One' => 'Google Fonts',
				'Esteban' => 'Google Fonts',
				'Euphoria Script' => 'Google Fonts',
				'Ewert' => 'Google Fonts',
				'Exo' => 'Google Fonts',
				'Exo 2' => 'Google Fonts',
				'Expletus Sans' => 'Google Fonts',
				'Fahkwang' => 'Google Fonts',
				'Fanwood Text' => 'Google Fonts',
				'Farsan' => 'Google Fonts',
				'Fascinate' => 'Google Fonts',
				'Fascinate Inline' => 'Google Fonts',
				'Faster One' => 'Google Fonts',
				'Fasthand' => 'Google Fonts',
				'Fauna One' => 'Google Fonts',
				'Faustina' => 'Google Fonts',
				'Federant' => 'Google Fonts',
				'Federo' => 'Google Fonts',
				'Felipa' => 'Google Fonts',
				'Fenix' => 'Google Fonts',
				'Finger Paint' => 'Google Fonts',
				'Fira Mono' => 'Google Fonts',
				'Fira Sans' => 'Google Fonts',
				'Fira Sans Condensed' => 'Google Fonts',
				'Fira Sans Extra Condensed' => 'Google Fonts',
				'Fjalla One' => 'Google Fonts',
				'Fjord One' => 'Google Fonts',
				'Flamenco' => 'Google Fonts',
				'Flavors' => 'Google Fonts',
				'Fondamento' => 'Google Fonts',
				'Fontdiner Swanky' => 'Google Fonts',
				'Forum' => 'Google Fonts',
				'Francois One' => 'Google Fonts',
				'Frank Ruhl Libre' => 'Google Fonts',
				'Freckle Face' => 'Google Fonts',
				'Fredericka the Great' => 'Google Fonts',
				'Fredoka One' => 'Google Fonts',
				'Freehand' => 'Google Fonts',
				'Fresca' => 'Google Fonts',
				'Frijole' => 'Google Fonts',
				'Fruktur' => 'Google Fonts',
				'Fugaz One' => 'Google Fonts',
				'GFS Didot' => 'Google Fonts',
				'GFS Neohellenic' => 'Google Fonts',
				'Gabriela' => 'Google Fonts',
				'Gaegu' => 'Google Fonts',
				'Gafata' => 'Google Fonts',
				'Galada' => 'Google Fonts',
				'Galdeano' => 'Google Fonts',
				'Galindo' => 'Google Fonts',
				'Gamja Flower' => 'Google Fonts',
				'Gentium Basic' => 'Google Fonts',
				'Gentium Book Basic' => 'Google Fonts',
				'Geo' => 'Google Fonts',
				'Geostar' => 'Google Fonts',
				'Geostar Fill' => 'Google Fonts',
				'Germania One' => 'Google Fonts',
				'Gidugu' => 'Google Fonts',
				'Gilda Display' => 'Google Fonts',
				'Give You Glory' => 'Google Fonts',
				'Glass Antiqua' => 'Google Fonts',
				'Glegoo' => 'Google Fonts',
				'Gloria Hallelujah' => 'Google Fonts',
				'Goblin One' => 'Google Fonts',
				'Gochi Hand' => 'Google Fonts',
				'Gorditas' => 'Google Fonts',
				'Gothic A1' => 'Google Fonts',
				'Goudy Bookletter 1911' => 'Google Fonts',
				'Graduate' => 'Google Fonts',
				'Grand Hotel' => 'Google Fonts',
				'Gravitas One' => 'Google Fonts',
				'Great Vibes' => 'Google Fonts',
				'Griffy' => 'Google Fonts',
				'Gruppo' => 'Google Fonts',
				'Gudea' => 'Google Fonts',
				'Gugi' => 'Google Fonts',
				'Gurajada' => 'Google Fonts',
				'Habibi' => 'Google Fonts',
				'Halant' => 'Google Fonts',
				'Hammersmith One' => 'Google Fonts',
				'Hanalei' => 'Google Fonts',
				'Hanalei Fill' => 'Google Fonts',
				'Handlee' => 'Google Fonts',
				'Hanuman' => 'Google Fonts',
				'Happy Monkey' => 'Google Fonts',
				'Harmattan' => 'Google Fonts',
				'Headland One' => 'Google Fonts',
				'Heebo' => 'Google Fonts',
				'Henny Penny' => 'Google Fonts',
				'Herr Von Muellerhoff' => 'Google Fonts',
				'Hi Melody' => 'Google Fonts',
				'Hind' => 'Google Fonts',
				'Hind Guntur' => 'Google Fonts',
				'Hind Madurai' => 'Google Fonts',
				'Hind Siliguri' => 'Google Fonts',
				'Hind Vadodara' => 'Google Fonts',
				'Holtwood One SC' => 'Google Fonts',
				'Homemade Apple' => 'Google Fonts',
				'Homenaje' => 'Google Fonts',
				'IBM Plex Mono' => 'Google Fonts',
				'IBM Plex Sans' => 'Google Fonts',
				'IBM Plex Sans Condensed' => 'Google Fonts',
				'IBM Plex Serif' => 'Google Fonts',
				'IM Fell DW Pica' => 'Google Fonts',
				'IM Fell DW Pica SC' => 'Google Fonts',
				'IM Fell Double Pica' => 'Google Fonts',
				'IM Fell Double Pica SC' => 'Google Fonts',
				'IM Fell English' => 'Google Fonts',
				'IM Fell English SC' => 'Google Fonts',
				'IM Fell French Canon' => 'Google Fonts',
				'IM Fell French Canon SC' => 'Google Fonts',
				'IM Fell Great Primer' => 'Google Fonts',
				'IM Fell Great Primer SC' => 'Google Fonts',
				'Iceberg' => 'Google Fonts',
				'Iceland' => 'Google Fonts',
				'Imprima' => 'Google Fonts',
				'Inconsolata' => 'Google Fonts',
				'Inder' => 'Google Fonts',
				'Indie Flower' => 'Google Fonts',
				'Inika' => 'Google Fonts',
				'Inknut Antiqua' => 'Google Fonts',
				'Irish Grover' => 'Google Fonts',
				'Istok Web' => 'Google Fonts',
				'Italiana' => 'Google Fonts',
				'Italianno' => 'Google Fonts',
				'Itim' => 'Google Fonts',
				'Jacques Francois' => 'Google Fonts',
				'Jacques Francois Shadow' => 'Google Fonts',
				'Jaldi' => 'Google Fonts',
				'Jim Nightshade' => 'Google Fonts',
				'Jockey One' => 'Google Fonts',
				'Jolly Lodger' => 'Google Fonts',
				'Jomhuria' => 'Google Fonts',
				'Josefin Sans' => 'Google Fonts',
				'Josefin Slab' => 'Google Fonts',
				'Joti One' => 'Google Fonts',
				'Jua' => 'Google Fonts',
				'Judson' => 'Google Fonts',
				'Julee' => 'Google Fonts',
				'Julius Sans One' => 'Google Fonts',
				'Junge' => 'Google Fonts',
				'Jura' => 'Google Fonts',
				'Just Another Hand' => 'Google Fonts',
				'Just Me Again Down Here' => 'Google Fonts',
				'K2D' => 'Google Fonts',
				'Kadwa' => 'Google Fonts',
				'Kalam' => 'Google Fonts',
				'Kameron' => 'Google Fonts',
				'Kanit' => 'Google Fonts',
				'Kantumruy' => 'Google Fonts',
				'Karla' => 'Google Fonts',
				'Karma' => 'Google Fonts',
				'Katibeh' => 'Google Fonts',
				'Kaushan Script' => 'Google Fonts',
				'Kavivanar' => 'Google Fonts',
				'Kavoon' => 'Google Fonts',
				'Kdam Thmor' => 'Google Fonts',
				'Keania One' => 'Google Fonts',
				'Kelly Slab' => 'Google Fonts',
				'Kenia' => 'Google Fonts',
				'Khand' => 'Google Fonts',
				'Khmer' => 'Google Fonts',
				'Khula' => 'Google Fonts',
				'Kirang Haerang' => 'Google Fonts',
				'Kite One' => 'Google Fonts',
				'Knewave' => 'Google Fonts',
				'KoHo' => 'Google Fonts',
				'Kodchasan' => 'Google Fonts',
				'Kosugi' => 'Google Fonts',
				'Kosugi Maru' => 'Google Fonts',
				'Kotta One' => 'Google Fonts',
				'Koulen' => 'Google Fonts',
				'Kranky' => 'Google Fonts',
				'Kreon' => 'Google Fonts',
				'Kristi' => 'Google Fonts',
				'Krona One' => 'Google Fonts',
				'Krub' => 'Google Fonts',
				'Kumar One' => 'Google Fonts',
				'Kumar One Outline' => 'Google Fonts',
				'Kurale' => 'Google Fonts',
				'La Belle Aurore' => 'Google Fonts',
				'Laila' => 'Google Fonts',
				'Lakki Reddy' => 'Google Fonts',
				'Lalezar' => 'Google Fonts',
				'Lancelot' => 'Google Fonts',
				'Lateef' => 'Google Fonts',
				'Lato' => 'Google Fonts',
				'League Script' => 'Google Fonts',
				'Leckerli One' => 'Google Fonts',
				'Ledger' => 'Google Fonts',
				'Lekton' => 'Google Fonts',
				'Lemon' => 'Google Fonts',
				'Lemonada' => 'Google Fonts',
				'Libre Barcode 128' => 'Google Fonts',
				'Libre Barcode 128 Text' => 'Google Fonts',
				'Libre Barcode 39' => 'Google Fonts',
				'Libre Barcode 39 Extended' => 'Google Fonts',
				'Libre Barcode 39 Extended Text' => 'Google Fonts',
				'Libre Barcode 39 Text' => 'Google Fonts',
				'Libre Baskerville' => 'Google Fonts',
				'Libre Franklin' => 'Google Fonts',
				'Life Savers' => 'Google Fonts',
				'Lilita One' => 'Google Fonts',
				'Lily Script One' => 'Google Fonts',
				'Limelight' => 'Google Fonts',
				'Linden Hill' => 'Google Fonts',
				'Lobster' => 'Google Fonts',
				'Lobster Two' => 'Google Fonts',
				'Londrina Outline' => 'Google Fonts',
				'Londrina Shadow' => 'Google Fonts',
				'Londrina Sketch' => 'Google Fonts',
				'Londrina Solid' => 'Google Fonts',
				'Lora' => 'Google Fonts',
				'Love Ya Like A Sister' => 'Google Fonts',
				'Loved by the King' => 'Google Fonts',
				'Lovers Quarrel' => 'Google Fonts',
				'Luckiest Guy' => 'Google Fonts',
				'Lusitana' => 'Google Fonts',
				'Lustria' => 'Google Fonts',
				'M PLUS 1p' => 'Google Fonts',
				'M PLUS Rounded 1c' => 'Google Fonts',
				'Macondo' => 'Google Fonts',
				'Macondo Swash Caps' => 'Google Fonts',
				'Mada' => 'Google Fonts',
				'Magra' => 'Google Fonts',
				'Maiden Orange' => 'Google Fonts',
				'Maitree' => 'Google Fonts',
				'Mako' => 'Google Fonts',
				'Mali' => 'Google Fonts',
				'Mallanna' => 'Google Fonts',
				'Mandali' => 'Google Fonts',
				'Manuale' => 'Google Fonts',
				'Marcellus' => 'Google Fonts',
				'Marcellus SC' => 'Google Fonts',
				'Marck Script' => 'Google Fonts',
				'Margarine' => 'Google Fonts',
				'Markazi Text' => 'Google Fonts',
				'Marko One' => 'Google Fonts',
				'Marmelad' => 'Google Fonts',
				'Martel' => 'Google Fonts',
				'Martel Sans' => 'Google Fonts',
				'Marvel' => 'Google Fonts',
				'Mate' => 'Google Fonts',
				'Mate SC' => 'Google Fonts',
				'Maven Pro' => 'Google Fonts',
				'McLaren' => 'Google Fonts',
				'Meddon' => 'Google Fonts',
				'MedievalSharp' => 'Google Fonts',
				'Medula One' => 'Google Fonts',
				'Meera Inimai' => 'Google Fonts',
				'Megrim' => 'Google Fonts',
				'Meie Script' => 'Google Fonts',
				'Merienda' => 'Google Fonts',
				'Merienda One' => 'Google Fonts',
				'Merriweather' => 'Google Fonts',
				'Merriweather Sans' => 'Google Fonts',
				'Metal' => 'Google Fonts',
				'Metal Mania' => 'Google Fonts',
				'Metamorphous' => 'Google Fonts',
				'Metrophobic' => 'Google Fonts',
				'Michroma' => 'Google Fonts',
				'Milonga' => 'Google Fonts',
				'Miltonian' => 'Google Fonts',
				'Miltonian Tattoo' => 'Google Fonts',
				'Mina' => 'Google Fonts',
				'Miniver' => 'Google Fonts',
				'Miriam Libre' => 'Google Fonts',
				'Mirza' => 'Google Fonts',
				'Miss Fajardose' => 'Google Fonts',
				'Mitr' => 'Google Fonts',
				'Modak' => 'Google Fonts',
				'Modern Antiqua' => 'Google Fonts',
				'Mogra' => 'Google Fonts',
				'Molengo' => 'Google Fonts',
				'Molle' => 'Google Fonts',
				'Monda' => 'Google Fonts',
				'Monofett' => 'Google Fonts',
				'Monoton' => 'Google Fonts',
				'Monsieur La Doulaise' => 'Google Fonts',
				'Montaga' => 'Google Fonts',
				'Montez' => 'Google Fonts',
				'Montserrat' => 'Google Fonts',
				'Montserrat Alternates' => 'Google Fonts',
				'Montserrat Subrayada' => 'Google Fonts',
				'Moul' => 'Google Fonts',
				'Moulpali' => 'Google Fonts',
				'Mountains of Christmas' => 'Google Fonts',
				'Mouse Memoirs' => 'Google Fonts',
				'Mr Bedfort' => 'Google Fonts',
				'Mr Dafoe' => 'Google Fonts',
				'Mr De Haviland' => 'Google Fonts',
				'Mrs Saint Delafield' => 'Google Fonts',
				'Mrs Sheppards' => 'Google Fonts',
				'Mukta' => 'Google Fonts',
				'Mukta Mahee' => 'Google Fonts',
				'Mukta Malar' => 'Google Fonts',
				'Mukta Vaani' => 'Google Fonts',
				'Muli' => 'Google Fonts',
				'Mystery Quest' => 'Google Fonts',
				'NTR' => 'Google Fonts',
				'Nanum Brush Script' => 'Google Fonts',
				'Nanum Gothic' => 'Google Fonts',
				'Nanum Gothic Coding' => 'Google Fonts',
				'Nanum Myeongjo' => 'Google Fonts',
				'Nanum Pen Script' => 'Google Fonts',
				'Neucha' => 'Google Fonts',
				'Neuton' => 'Google Fonts',
				'New Rocker' => 'Google Fonts',
				'News Cycle' => 'Google Fonts',
				'Niconne' => 'Google Fonts',
				'Niramit' => 'Google Fonts',
				'Nixie One' => 'Google Fonts',
				'Nobile' => 'Google Fonts',
				'Nokora' => 'Google Fonts',
				'Norican' => 'Google Fonts',
				'Nosifer' => 'Google Fonts',
				'Notable' => 'Google Fonts',
				'Nothing You Could Do' => 'Google Fonts',
				'Noticia Text' => 'Google Fonts',
				'Noto Kufi Arabic' => 'Google Fonts', // Hack for Google Early Access.
				'Noto Naskh Arabic' => 'Google Fonts', // Hack for Google Early Access.
				'Noto Sans' => 'Google Fonts',
				'Noto Sans Hebrew' => 'Google Fonts', // Hack for Google Early Access.
				'Noto Sans JP' => 'Google Fonts',
				'Noto Sans KR' => 'Google Fonts',
				'Noto Serif' => 'Google Fonts',
				'Noto Serif JP' => 'Google Fonts',
				'Noto Serif KR' => 'Google Fonts',
				'Nova Cut' => 'Google Fonts',
				'Nova Flat' => 'Google Fonts',
				'Nova Mono' => 'Google Fonts',
				'Nova Oval' => 'Google Fonts',
				'Nova Round' => 'Google Fonts',
				'Nova Script' => 'Google Fonts',
				'Nova Slim' => 'Google Fonts',
				'Nova Square' => 'Google Fonts',
				'Numans' => 'Google Fonts',
				'Nunito' => 'Google Fonts',
				'Nunito Sans' => 'Google Fonts',
				'Odor Mean Chey' => 'Google Fonts',
				'Offside' => 'Google Fonts',
				'Old Standard TT' => 'Google Fonts',
				'Oldenburg' => 'Google Fonts',
				'Oleo Script' => 'Google Fonts',
				'Oleo Script Swash Caps' => 'Google Fonts',
				'Open Sans' => 'Google Fonts',
				'Open Sans Condensed' => 'Google Fonts',
				'Open Sans Hebrew' => 'Google Fonts', // Hack for Google Early Access.
				'Open Sans Hebrew Condensed' => 'Google Fonts', // Hack for Google Early Access.
				'Oranienbaum' => 'Google Fonts',
				'Orbitron' => 'Google Fonts',
				'Oregano' => 'Google Fonts',
				'Orienta' => 'Google Fonts',
				'Original Surfer' => 'Google Fonts',
				'Oswald' => 'Google Fonts',
				'Over the Rainbow' => 'Google Fonts',
				'Overlock' => 'Google Fonts',
				'Overlock SC' => 'Google Fonts',
				'Overpass' => 'Google Fonts',
				'Overpass Mono' => 'Google Fonts',
				'Ovo' => 'Google Fonts',
				'Oxygen' => 'Google Fonts',
				'Oxygen Mono' => 'Google Fonts',
				'PT Mono' => 'Google Fonts',
				'PT Sans' => 'Google Fonts',
				'PT Sans Caption' => 'Google Fonts',
				'PT Sans Narrow' => 'Google Fonts',
				'PT Serif' => 'Google Fonts',
				'PT Serif Caption' => 'Google Fonts',
				'Pacifico' => 'Google Fonts',
				'Padauk' => 'Google Fonts',
				'Palanquin' => 'Google Fonts',
				'Palanquin Dark' => 'Google Fonts',
				'Pangolin' => 'Google Fonts',
				'Paprika' => 'Google Fonts',
				'Parisienne' => 'Google Fonts',
				'Passero One' => 'Google Fonts',
				'Passion One' => 'Google Fonts',
				'Pathway Gothic One' => 'Google Fonts',
				'Patrick Hand' => 'Google Fonts',
				'Patrick Hand SC' => 'Google Fonts',
				'Pattaya' => 'Google Fonts',
				'Patua One' => 'Google Fonts',
				'Pavanam' => 'Google Fonts',
				'Paytone One' => 'Google Fonts',
				'Peddana' => 'Google Fonts',
				'Peralta' => 'Google Fonts',
				'Permanent Marker' => 'Google Fonts',
				'Petit Formal Script' => 'Google Fonts',
				'Petrona' => 'Google Fonts',
				'Philosopher' => 'Google Fonts',
				'Piedra' => 'Google Fonts',
				'Pinyon Script' => 'Google Fonts',
				'Pirata One' => 'Google Fonts',
				'Plaster' => 'Google Fonts',
				'Play' => 'Google Fonts',
				'Playball' => 'Google Fonts',
				'Playfair Display' => 'Google Fonts',
				'Playfair Display SC' => 'Google Fonts',
				'Podkova' => 'Google Fonts',
				'Poiret One' => 'Google Fonts',
				'Poller One' => 'Google Fonts',
				'Poly' => 'Google Fonts',
				'Pompiere' => 'Google Fonts',
				'Pontano Sans' => 'Google Fonts',
				'Poor Story' => 'Google Fonts',
				'Poppins' => 'Google Fonts',
				'Port Lligat Sans' => 'Google Fonts',
				'Port Lligat Slab' => 'Google Fonts',
				'Pragati Narrow' => 'Google Fonts',
				'Prata' => 'Google Fonts',
				'Preahvihear' => 'Google Fonts',
				'Press Start 2P' => 'Google Fonts',
				'Pridi' => 'Google Fonts',
				'Princess Sofia' => 'Google Fonts',
				'Prociono' => 'Google Fonts',
				'Prompt' => 'Google Fonts',
				'Prosto One' => 'Google Fonts',
				'Proza Libre' => 'Google Fonts',
				'Puritan' => 'Google Fonts',
				'Purple Purse' => 'Google Fonts',
				'Quando' => 'Google Fonts',
				'Quantico' => 'Google Fonts',
				'Quattrocento' => 'Google Fonts',
				'Quattrocento Sans' => 'Google Fonts',
				'Questrial' => 'Google Fonts',
				'Quicksand' => 'Google Fonts',
				'Quintessential' => 'Google Fonts',
				'Qwigley' => 'Google Fonts',
				'Racing Sans One' => 'Google Fonts',
				'Radley' => 'Google Fonts',
				'Rajdhani' => 'Google Fonts',
				'Rakkas' => 'Google Fonts',
				'Raleway' => 'Google Fonts',
				'Raleway Dots' => 'Google Fonts',
				'Ramabhadra' => 'Google Fonts',
				'Ramaraja' => 'Google Fonts',
				'Rambla' => 'Google Fonts',
				'Rammetto One' => 'Google Fonts',
				'Ranchers' => 'Google Fonts',
				'Rancho' => 'Google Fonts',
				'Ranga' => 'Google Fonts',
				'Rasa' => 'Google Fonts',
				'Rationale' => 'Google Fonts',
				'Ravi Prakash' => 'Google Fonts',
				'Redressed' => 'Google Fonts',
				'Reem Kufi' => 'Google Fonts',
				'Reenie Beanie' => 'Google Fonts',
				'Revalia' => 'Google Fonts',
				'Rhodium Libre' => 'Google Fonts',
				'Ribeye' => 'Google Fonts',
				'Ribeye Marrow' => 'Google Fonts',
				'Righteous' => 'Google Fonts',
				'Risque' => 'Google Fonts',
				'Roboto' => 'Google Fonts',
				'Roboto Condensed' => 'Google Fonts',
				'Roboto Mono' => 'Google Fonts',
				'Roboto Slab' => 'Google Fonts',
				'Rochester' => 'Google Fonts',
				'Rock Salt' => 'Google Fonts',
				'Rokkitt' => 'Google Fonts',
				'Romanesco' => 'Google Fonts',
				'Ropa Sans' => 'Google Fonts',
				'Rosario' => 'Google Fonts',
				'Rosarivo' => 'Google Fonts',
				'Rouge Script' => 'Google Fonts',
				'Rozha One' => 'Google Fonts',
				'Rubik' => 'Google Fonts',
				'Rubik Mono One' => 'Google Fonts',
				'Ruda' => 'Google Fonts',
				'Rufina' => 'Google Fonts',
				'Ruge Boogie' => 'Google Fonts',
				'Ruluko' => 'Google Fonts',
				'Rum Raisin' => 'Google Fonts',
				'Ruslan Display' => 'Google Fonts',
				'Russo One' => 'Google Fonts',
				'Ruthie' => 'Google Fonts',
				'Rye' => 'Google Fonts',
				'Sacramento' => 'Google Fonts',
				'Sahitya' => 'Google Fonts',
				'Sail' => 'Google Fonts',
				'Saira' => 'Google Fonts',
				'Saira Condensed' => 'Google Fonts',
				'Saira Extra Condensed' => 'Google Fonts',
				'Saira Semi Condensed' => 'Google Fonts',
				'Salsa' => 'Google Fonts',
				'Sanchez' => 'Google Fonts',
				'Sancreek' => 'Google Fonts',
				'Sansita' => 'Google Fonts',
				'Sarala' => 'Google Fonts',
				'Sarina' => 'Google Fonts',
				'Sarpanch' => 'Google Fonts',
				'Satisfy' => 'Google Fonts',
				'Sawarabi Gothic' => 'Google Fonts',
				'Sawarabi Mincho' => 'Google Fonts',
				'Scada' => 'Google Fonts',
				'Scheherazade' => 'Google Fonts',
				'Schoolbell' => 'Google Fonts',
				'Scope One' => 'Google Fonts',
				'Seaweed Script' => 'Google Fonts',
				'Secular One' => 'Google Fonts',
				'Sedgwick Ave' => 'Google Fonts',
				'Sedgwick Ave Display' => 'Google Fonts',
				'Sevillana' => 'Google Fonts',
				'Seymour One' => 'Google Fonts',
				'Shadows Into Light' => 'Google Fonts',
				'Shadows Into Light Two' => 'Google Fonts',
				'Shanti' => 'Google Fonts',
				'Share' => 'Google Fonts',
				'Share Tech' => 'Google Fonts',
				'Share Tech Mono' => 'Google Fonts',
				'Shojumaru' => 'Google Fonts',
				'Short Stack' => 'Google Fonts',
				'Shrikhand' => 'Google Fonts',
				'Siemreap' => 'Google Fonts',
				'Sigmar One' => 'Google Fonts',
				'Signika' => 'Google Fonts',
				'Signika Negative' => 'Google Fonts',
				'Simonetta' => 'Google Fonts',
				'Sintony' => 'Google Fonts',
				'Sirin Stencil' => 'Google Fonts',
				'Six Caps' => 'Google Fonts',
				'Skranji' => 'Google Fonts',
				'Slabo 13px' => 'Google Fonts',
				'Slabo 27px' => 'Google Fonts',
				'Slackey' => 'Google Fonts',
				'Smokum' => 'Google Fonts',
				'Smythe' => 'Google Fonts',
				'Sniglet' => 'Google Fonts',
				'Snippet' => 'Google Fonts',
				'Snowburst One' => 'Google Fonts',
				'Sofadi One' => 'Google Fonts',
				'Sofia' => 'Google Fonts',
				'Song Myung' => 'Google Fonts',
				'Sonsie One' => 'Google Fonts',
				'Sorts Mill Goudy' => 'Google Fonts',
				'Source Code Pro' => 'Google Fonts',
				'Source Sans Pro' => 'Google Fonts',
				'Source Serif Pro' => 'Google Fonts',
				'Space Mono' => 'Google Fonts',
				'Special Elite' => 'Google Fonts',
				'Spectral' => 'Google Fonts',
				'Spectral SC' => 'Google Fonts',
				'Spicy Rice' => 'Google Fonts',
				'Spinnaker' => 'Google Fonts',
				'Spirax' => 'Google Fonts',
				'Squada One' => 'Google Fonts',
				'Sree Krushnadevaraya' => 'Google Fonts',
				'Sriracha' => 'Google Fonts',
				'Srisakdi' => 'Google Fonts',
				'Stalemate' => 'Google Fonts',
				'Stalinist One' => 'Google Fonts',
				'Stardos Stencil' => 'Google Fonts',
				'Stint Ultra Condensed' => 'Google Fonts',
				'Stint Ultra Expanded' => 'Google Fonts',
				'Stoke' => 'Google Fonts',
				'Strait' => 'Google Fonts',
				'Stylish' => 'Google Fonts',
				'Sue Ellen Francisco' => 'Google Fonts',
				'Suez One' => 'Google Fonts',
				'Sumana' => 'Google Fonts',
				'Sunflower' => 'Google Fonts',
				'Sunshiney' => 'Google Fonts',
				'Supermercado One' => 'Google Fonts',
				'Sura' => 'Google Fonts',
				'Suranna' => 'Google Fonts',
				'Suravaram' => 'Google Fonts',
				'Suwannaphum' => 'Google Fonts',
				'Swanky and Moo Moo' => 'Google Fonts',
				'Syncopate' => 'Google Fonts',
				'Tajawal' => 'Google Fonts',
				'Tangerine' => 'Google Fonts',
				'Taprom' => 'Google Fonts',
				'Tauri' => 'Google Fonts',
				'Taviraj' => 'Google Fonts',
				'Teko' => 'Google Fonts',
				'Telex' => 'Google Fonts',
				'Tenali Ramakrishna' => 'Google Fonts',
				'Tenor Sans' => 'Google Fonts',
				'Text Me One' => 'Google Fonts',
				'The Girl Next Door' => 'Google Fonts',
				'Tienne' => 'Google Fonts',
				'Tillana' => 'Google Fonts',
				'Timmana' => 'Google Fonts',
				'Tinos' => 'Google Fonts',
				'Titan One' => 'Google Fonts',
				'Titillium Web' => 'Google Fonts',
				'Trade Winds' => 'Google Fonts',
				'Trirong' => 'Google Fonts',
				'Trocchi' => 'Google Fonts',
				'Trochut' => 'Google Fonts',
				'Trykker' => 'Google Fonts',
				'Tulpen One' => 'Google Fonts',
				'Ubuntu' => 'Google Fonts',
				'Ubuntu Condensed' => 'Google Fonts',
				'Ubuntu Mono' => 'Google Fonts',
				'Ultra' => 'Google Fonts',
				'Uncial Antiqua' => 'Google Fonts',
				'Underdog' => 'Google Fonts',
				'Unica One' => 'Google Fonts',
				'UnifrakturCook' => 'Google Fonts',
				'UnifrakturMaguntia' => 'Google Fonts',
				'Unkempt' => 'Google Fonts',
				'Unlock' => 'Google Fonts',
				'Unna' => 'Google Fonts',
				'VT323' => 'Google Fonts',
				'Vampiro One' => 'Google Fonts',
				'Varela' => 'Google Fonts',
				'Varela Round' => 'Google Fonts',
				'Vast Shadow' => 'Google Fonts',
				'Vesper Libre' => 'Google Fonts',
				'Vibur' => 'Google Fonts',
				'Vidaloka' => 'Google Fonts',
				'Viga' => 'Google Fonts',
				'Voces' => 'Google Fonts',
				'Volkhov' => 'Google Fonts',
				'Vollkorn' => 'Google Fonts',
				'Vollkorn SC' => 'Google Fonts',
				'Voltaire' => 'Google Fonts',
				'Waiting for the Sunrise' => 'Google Fonts',
				'Wallpoet' => 'Google Fonts',
				'Walter Turncoat' => 'Google Fonts',
				'Warnes' => 'Google Fonts',
				'Wellfleet' => 'Google Fonts',
				'Wendy One' => 'Google Fonts',
				'Wire One' => 'Google Fonts',
				'Work Sans' => 'Google Fonts',
				'Yanone Kaffeesatz' => 'Google Fonts',
				'Yantramanav' => 'Google Fonts',
				'Yatra One' => 'Google Fonts',
				'Yellowtail' => 'Google Fonts',
				'Yeon Sung' => 'Google Fonts',
				'Yeseva One' => 'Google Fonts',
				'Yesteryear' => 'Google Fonts',
				'Yrsa' => 'Google Fonts',
				'Zeyada' => 'Google Fonts',
				'Zilla Slab' => 'Google Fonts',
				'Zilla Slab Highlight' => 'Google Fonts',
			);
	}
}

--- END FILE ---

--- FILE: mystickyelements_timezone.php ---
<?php
function stickyelement_timezone_choice( $selected_zone = '', $utc = true ) {	
	
	$country_name = json_decode(mysticky_city_country_name_data(), true );
	$continents = array( 'Africa', 'America', 'Antarctica', 'Arctic', 'Asia', 'Atlantic', 'Australia', 'Europe', 'Indian', 'Pacific' );
	
	$zonen = array();
	
	foreach ( timezone_identifiers_list() as $zone ) {
		$zone = explode( '/', $zone );
		if ( ! in_array( $zone[0], $continents, true ) ) {
			continue;
		}

		// This determines what gets set and translated - we don't translate Etc/* strings here, they are done later.
		$exists    = array(
			0 => ( isset( $zone[0] ) && $zone[0] ),
			1 => ( isset( $zone[1] ) && $zone[1] ),
			2 => ( isset( $zone[2] ) && $zone[2] ),
		);
		$exists[3] = ( $exists[0] && 'Etc' !== $zone[0] );
		$exists[4] = ( $exists[1] && $exists[3] );
		$exists[5] = ( $exists[2] && $exists[3] );

		// phpcs:disable WordPress.WP.I18n.LowLevelTranslationFunction,WordPress.WP.I18n.NonSingularStringLiteralText
		$zonen[] = array(
			'continent'   => ( $exists[0] ? $zone[0] : '' ),
			'city'        => ( $exists[1] ? $zone[1] : '' ),
			'subcity'     => ( $exists[2] ? $zone[2] : '' ),
			't_continent' => ( $exists[3] ? str_replace( '_', ' ', $zone[0] ) : '' ),
			't_city'      => ( $exists[4] ? str_replace( '_', ' ', $zone[1] ) : '' ),
			't_subcity'   => ( $exists[5] ? str_replace( '_', ' ', $zone[2] ) : '' ),
		);
		// phpcs:enable
	}
	usort( $zonen, '_couponx_timezone_choice_usort_callback' );

	$structure = array();

	if ( empty( $selected_zone ) ) {
		$structure[] = '<option selected="selected" value="">Select a city or country</option>';
	}
	
	foreach ( $zonen as $key => $zone ) {
		// Build value in an array to join later.
		$value = array( $zone['continent'] );
		$display = '';
		
		if ( isset( $country_name[$zone['city']] )  && $country_name[$zone['city']] != '' ) {
			$display .= $country_name[$zone['city']] . "/";
		}
		
		if ( empty( $zone['city'] ) ) {
			// It's at the continent level (generally won't happen).
			$display .= $zone['t_continent'];
		} else {
			// It's inside a continent group.

			// Continent optgroup.
			if ( ! isset( $zonen[ $key - 1 ] ) || $zonen[ $key - 1 ]['continent'] !== $zone['continent'] ) {
				$label       = $zone['t_continent'];
				$structure[] = '<optgroup label="' . $label . '">';
			}

			// Add the city to the value.
			$value[] = $zone['city'];

			$display .= $zone['t_city'];
			if ( ! empty( $zone['subcity'] ) ) {
				// Add the subcity to the value.
				$value[]  = $zone['subcity'];
				$display .= ' - ' . $zone['t_subcity'];
			}
		}

		// Build the value.
		$value    = join( '/', $value );
		$selected = '';
		if ( $value === $selected_zone ) {
			$selected = 'selected="selected" ';
		}
		$structure[] = '<option ' . $selected . 'value="' . $value . '">' . $display . '</option>';

		// Close continent optgroup.
		if ( ! empty( $zone['city'] ) && ( ! isset( $zonen[ $key + 1 ] ) || ( isset( $zonen[ $key + 1 ] ) && $zonen[ $key + 1 ]['continent'] !== $zone['continent'] ) ) ) {
			$structure[] = '</optgroup>';
		}
	}

	// Do UTC.
	$structure[] = '<optgroup label="UTC">';
	$selected    = '';
	if ( 'UTC' === $selected_zone ) {
		$selected = 'selected="selected" ';
	}
	$structure[] = '<option ' . $selected . 'value="UTC">UTC</option>';
	$structure[] = '</optgroup>';

	// Do manual UTC offsets.
	$structure[]  = '<optgroup label="Manual Offsets">';
	$offset_range = array(
		-12,
		-11.5,
		-11,
		-10.5,
		-10,
		-9.5,
		-9,
		-8.5,
		-8,
		-7.5,
		-7,
		-6.5,
		-6,
		-5.5,
		-5,
		-4.5,
		-4,
		-3.5,
		-3,
		-2.5,
		-2,
		-1.5,
		-1,
		-0.5,
		0,
		0.5,
		1,
		1.5,
		2,
		2.5,
		3,
		3.5,
		4,
		4.5,
		5,
		5.5,
		5.75,
		6,
		6.5,
		7,
		7.5,
		8,
		8.5,
		8.75,
		9,
		9.5,
		10,
		10.5,
		11,
		11.5,
		12,
		12.75,
		13,
		13.75,
		14,
	);
	foreach ( $offset_range as $offset ) {
		if ( 0 <= $offset ) {
			$offset_name = ($utc ) ? '+' . $offset : $offset;
		} else {
			$offset_name = (string) $offset;
		}

		$offset_value = $offset_name;
		$offset_name  = str_replace( array( '.25', '.5', '.75' ), array( ':15', ':30', ':45' ), $offset_name );
		if ( 0 <= $offset && !$utc ){
			$offset_name  = 'UTC+' . $offset_name;		
		} else {
			$offset_name  = 'UTC' . $offset_name;		
		}
		$offset_value = ($utc ) ? 'UTC' . $offset_value : $offset_value ;
		$selected     = '';
		if ( $offset_value === $selected_zone ) {
			$selected = 'selected="selected" ';
		}
		$structure[] = '<option ' . $selected . 'value="' . $offset_value . '">' . $offset_name . '</option>';

	}
	$structure[] = '</optgroup>';

	return join( "\n", $structure );
}



/**
 * Sort-helper for timezones.
 *
 * @since 2.9.0
 * @access private
 *
 * @param array $a
 * @param array $b
 * @return int
 */
function _couponx_timezone_choice_usort_callback( $a, $b ) {
	// Don't use translated versions of Etc.
	if ( 'Etc' === $a['continent'] && 'Etc' === $b['continent'] ) {
		// Make the order of these more like the old dropdown.
		if ( 'GMT+' === substr( $a['city'], 0, 4 ) && 'GMT+' === substr( $b['city'], 0, 4 ) ) {
			return -1 * ( strnatcasecmp( $a['city'], $b['city'] ) );
		}
		if ( 'UTC' === $a['city'] ) {
			if ( 'GMT+' === substr( $b['city'], 0, 4 ) ) {
				return 1;
			}
			return -1;
		}
		if ( 'UTC' === $b['city'] ) {
			if ( 'GMT+' === substr( $a['city'], 0, 4 ) ) {
				return -1;
			}
			return 1;
		}
		return strnatcasecmp( $a['city'], $b['city'] );
	}
	if ( $a['t_continent'] == $b['t_continent'] ) {
		if ( $a['t_city'] == $b['t_city'] ) {
			return strnatcasecmp( $a['t_subcity'], $b['t_subcity'] );
		}
		return strnatcasecmp( $a['t_city'], $b['t_city'] );
	} else {
		// Force Etc to the bottom of the list.
		if ( 'Etc' === $a['continent'] ) {
			return 1;
		}
		if ( 'Etc' === $b['continent'] ) {
			return -1;
		}
		return strnatcasecmp( $a['t_continent'], $b['t_continent'] );
	}
}

function mysticky_city_country_name_data(){
	return '{"Abidjan":"Ivory Coast","Accra":"Ghana","Addis Ababa":"Ethiopia","Algiers":"Algeria","Asmara":"Eritrea","Bamako":"Mali","Bangui":"Central African Republic","Banjul":"Gambia","Bissau":"Guinea-Bissau","Blantyre":"Malawi","Brazzaville":"Republic of the Congo","Bujumbura":"Burundi","Cairo":"Egypt","Casablanca":"Morocco","Ceuta":"Spain","Conakry":"Guinea","Dakar":"Senegal","Dar es Salaam":"Tanzania","Djibouti":"Djibouti","Douala":"Cameroon","Freetown":"Sierra Leone","Gaborone":"Botswana","Harare":"Zimbabwe","Johannesburg":"South Africa","Juba":"South Sudan","Kampala":"Uganda","Khartoum":"Sudan","Kigali":"Rwanda","Kinshasa":"Congo","Lagos":"Nigeria","Libreville":"Gabon","Lome":"Togo","Luanda":"Angola","Lubumbashi":"Congo","Lusaka":"Zambia","Malabo":"Equatorial Guinea","Maputo":"Mozambique","Maseru":"Lesotho","Mbabane":"Swaziland","Mogadishu":"Somalia","Monrovia":"Liberia","Nairobi":"Kenya","Niamey":"Niger","Nouakchott":"Mauritania","Ouagadougou":"Burkina Faso","Sao Tome":"Brazil","Tripoli":"Libya","Tunis":"Tunisia","Windhoek":"Namibia","Adak":"United States","Anchorage":"United States","Anguilla":"United States","Antigua":"Spain","Asuncion":"Paraguay","Atikokan":"Canada","Belem":"Brazil","Boa Vista":"Brazil","Bogota":"United States","Boise":"United States","Cambridge Bay":"Canada","Campo Grande":"Brazil","Caracas":"Venezuela","Chicago":"Mexico","Chihuahua":"Mexico","Creston":"Canada","Cuiaba":"Brazil","Dawson":"Australia","Dawson Creek":"Canada","Denver":"United States","Detroit":"United States","Dominica":"Dominican Republic","Edmonton":"Canada","El Salvador":"Guatemala","Fort Nelson":"Canada","Fortaleza":"Brazil","Glace Bay":"Canada","Grenada":"United States","Guayaquil":"Ecuador","Halifax":"Canada","Havana":"Cuba","Hermosillo":"Mexico","Indiana":"United States","Inuvik":"Canada","Iqaluit":"Canada","Jamaica":"United States","Juneau":"United States","Kralendijk":"Bonaire","La Paz":"Uruguay","Lima":"Argentina","Los Angeles":"Panama","Managua":"Nicaragua","Manaus":"Brazil","Marigot":"Dominica","Mazatlan":"Mexico","Menominee":"United States","Metlakatla":"United States","Mexico City":"Mexico","Moncton":"Canada","Monterrey":"Mexico","Montevideo":"Uruguay","Montserrat":"Argentina","Nassau":"Bahamas","New York":"United States","Nipigon":"Canada","Nome":"United States","Ojinaga":"Mexico","Panama":"United States","Paramaribo":"Suriname","Phoenix":"South Africa","Port-au-Prince":"Haiti","Port of Spain":"Trinidad and Tobago","Porto Velho":"Brazil","Puerto Rico":"Argentina","Punta Arenas":"Chile","Rankin Inlet":"Canada","Recife":"Brazil","Regina":"Canada","Rio Branco":"Brazil","Santiago":"Peru","Santo Domingo":"Costa Rica","Sao Paulo":"Brazil","Sitka":"United States","Swift Current":"Canada","Tegucigalpa":"Honduras","Thunder Bay":"Canada","Tijuana":"Mexico","Toronto":"Canada","Tortola":"British Virgin Islands","Vancouver":"Canada","Whitehorse":"Canada","Winnipeg":"Canada","Yellowknife":"Canada","Casey":"United States","Davis":"United States","Palmer":"Puerto Rico","Vostok":"Kazakhstan","Longyearbyen":"Svalbard and Jan Mayen","Aden":"Yemen","Almaty":"Kazakhstan","Amman":"Hashemite Kingdom of Jordan","Aqtau":"Kazakhstan","Ashgabat":"Turkmenistan","Atyrau":"Kazakhstan","Baghdad":"Iraq","Baku":"Azerbaijan","Bangkok":"Thailand","Barnaul":"Russia","Beirut":"Lebanon","Bishkek":"Kyrgyzstan","Chita":"Russia","Colombo":"Sri Lanka","Damascus":"Syria","Dhaka":"Bangladesh","Dili":"East Timor","Dubai":"United Arab Emirates","Dushanbe":"Tajikistan","Famagusta":"Cyprus","Gaza":"Palestine","Hebron":"Palestine","Hong Kong":"Hong Kong","Irkutsk":"Russia","Jakarta":"Indonesia","Jayapura":"Indonesia","Jerusalem":"Israel","Kabul":"Afghanistan","Kamchatka":"Russia","Karachi":"Pakistan","Kathmandu":"Nepal","Kolkata":"India","Krasnoyarsk":"Russia","Kuala Lumpur":"Malaysia","Kuching":"Malaysia","Macau":"Brazil","Magadan":"Russia","Makassar":"Indonesia","Manila":"Philippines","Muscat":"Oman","Nicosia":"Cyprus","Novokuznetsk":"Russia","Novosibirsk":"Russia","Omsk":"Russia","Oral":"Kazakhstan","Phnom Penh":"Cambodia","Pontianak":"Indonesia","Pyongyang":"North Korea","Riyadh":"Saudi Arabia","Seoul":"Republic of Korea","Shanghai":"China","Singapore":"Singapore","Taipei":"Taiwan","Tashkent":"Uzbekistan","Tbilisi":"Georgia","Thimphu":"Bhutan","Tokyo":"Japan","Tomsk":"Russia","Vientiane":"Laos","Vladivostok":"Russia","Yakutsk":"Russia","Yangon":"Myanmar [Burma]","Yekaterinburg":"Russia","Yerevan":"Armenia","Madeira":"Portugal","Reykjavik":"Iceland","Stanley":"Falkland Islands","Adelaide":"Australia","Brisbane":"Australia","Broken Hill":"Australia","Currie":"United Kingdom","Darwin":"Australia","Hobart":"Australia","Melbourne":"United Kingdom","Perth":"Canada","Sydney":"Canada","Amsterdam":"Netherlands","Andorra":"Spain","Astrakhan":"Russia","Athens":"Canada","Belgrade":"Serbia","Berlin":"Germany","Bratislava":"Slovakia","Brussels":"Belgium","Bucharest":"Romania","Budapest":"Hungary","Copenhagen":"Denmark","Dublin":"Ireland","Gibraltar":"Gibraltar","Guernsey":"United States","Helsinki":"Finland","Istanbul":"Turkey","Jersey":"United States","Kaliningrad":"Russia","Kiev":"Ukraine","Kirov":"Russia","Lisbon":"Portugal","Ljubljana":"Slovenia","London":"South Africa","Luxembourg":"Luxembourg","Madrid":"Colombia","Malta":"Latvia","Mariehamn":"\u00c5land","Minsk":"Belarus","Monaco":"Monaco","Moscow":"Russia","Oslo":"Norway","Paris":"Canada","Podgorica":"Montenegro","Prague":"Czech Republic","Riga":"Latvia","Rome":"Italy","Samara":"Russia","San Marino":"San Marino","Sarajevo":"Bosnia and Herzegovina","Saratov":"Russia","Simferopol":"Ukraine","Skopje":"Macedonia","Sofia":"Bulgaria","Stockholm":"Sweden","Tallinn":"Estonia","Ulyanovsk":"Russia","Vaduz":"Liechtenstein","Vienna":"Austria","Vilnius":"Republic of Lithuania","Volgograd":"Russia","Warsaw":"Poland","Zagreb":"Croatia","Zurich":"Switzerland","Antananarivo":"Madagascar","Christmas":"United States","Cocos":"Brazil","Apia":"Samoa","Auckland":"New Zealand","Chatham":"Canada","Funafuti":"Tuvalu","Galapagos":"Spain","Gambier":"United States","Honolulu":"United States","Majuro":"Marshall Islands","Midway":"United States","Norfolk":"United States","Noumea":"New Caledonia","Pago Pago":"American Samoa","Palau":"Spain","Pitcairn":"United States","Port Moresby":"Papua New Guinea","Saipan":"Northern Mariana Islands","Wake":"United States","Wallis":"United States"}';
}

--- END FILE ---

--- FILE: mystickyelement-mailchimp-integration.php ---
<?php
$dropdown = ( isset($contact_form['dropdown'])) ? $contact_form['dropdown'] : '';
if ( $dropdown == 1 ) {
	$contact_form['custom_fields'][] = array('custom_field_name' => 'Dropdown');
}


$mailchimp_list = ( isset($contact_form['mailchimp_list'])) ? $contact_form['mailchimp_list'] : '';
$mailchimp_enable_tag = ( isset($contact_form['mailchimp_enable_tag'])) ? $contact_form['mailchimp_enable_tag'] : '';
$mailchimp_tags = ( isset($contact_form['mailchimp_tags'])) ? $contact_form['mailchimp_tags'] : '';

$mailchimp_enable_group = ( isset($contact_form['mailchimp-enable-group'])) ? $contact_form['mailchimp-enable-group'] : '';
$mailchimp_group = ( isset($contact_form['mailchimp-group'])) ? $contact_form['mailchimp-group'] : array();
$mailchimp_field_mapping = ( isset($contact_form['mailchimp-field-mapping'])) ? $contact_form['mailchimp-field-mapping'] : array();

$mc_fields = mystickyelements_get_mailchimp_lists_fields( $mailchimp_list );
?>
<div id="contact-form-mailchimp" class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list">
	<h4>Mailchimp integration settings</h4>
	<div class="myStickyelements-mailchimp-settings">
		<label><?php esc_html_e( 'Select a Mailchimp list' );?></label>
		<?php $element_mc_lists = get_option( 'element_mc_lists');?>
		<select id="stickyelement_mailchimp_lists" name="contact-form[mailchimp_list]">
			<option value="">Select a list</option>
			<?php 
			if ( !empty($element_mc_lists)) :
			foreach($element_mc_lists as $lists):?>
				<option value="<?php echo $lists['id']?>" <?php selected($lists['id'], @$mailchimp_list, true);?>><?php echo $lists['name']?></option>
			<?php endforeach;
			endif;
			?>
		</select>
	</div>
	<div class="myStickyelements-mailchimp-settings myStickyelements-setting-wrap-list1">
		<div class="myStickyelements-setting-wrap-list" style="display:inline-block;">
			<label class="mailchimp-enable-tag" style="margin-right:15px;"><?php esc_html_e( 'Enable tags' );?></label>
			<label class="myStickyelements-switch">
				<input type="checkbox" id="mailchimp-enable-tag" name="contact-form[mailchimp_enable_tag]" value="yes" <?php checked( @$mailchimp_enable_tag, 'yes' ); ?> />
				<span class="slider round"></span>
			</label>			
			
		</div>
		<div class="myStickyelements-mailchimp-tags-info" <?php if ( @$mailchimp_enable_tag != 'yes'):?>style="display:none" <?php endif;?>>
			<input type="text" name="contact-form[mailchimp_tags]" value="<?php echo @$mailchimp_tags;?>" placeholder="Example: WP tag, Another tag" style="float: none; width: 100%"/>
			<p class="description">The listed tags will be applied to all subscribers added by this form. Separate multiple values with a comma. </p>
		</div>
	</div>
	<?php $mailchimp_groups = myStickyelements_get_mailchimp_groups( $mailchimp_list ); ?>
	<div class="myStickyelements-mailchimp-groups myStickyelements-setting-wrap-list" <?php if( empty($mailchimp_groups)  ):?> style="display:none;" <?php endif;?>>
		<div class="myStickyelements-setting-wrap-list">
			<label class="mailchimp-enable-group"><?php esc_html_e( 'Enable groups' );?></label>
			<label class="myStickyelements-switch">
				<input type="checkbox" id="mailchimp-enable-group" name="contact-form[mailchimp-enable-group]" value="yes" <?php checked( $mailchimp_enable_group, 'yes' ); ?> />
				<span class="slider round"></span>
			</label>
		</div>
		<div class="mailchimp-group-info" <?php if ( $mailchimp_enable_group != 'yes'):?>style="display:none" <?php endif;?>>
			<select id="mailchimp-group" name="contact-form[mailchimp-group][]" multiple>
				<option value="">Select Groups</option>
				<?php if ( !empty($mailchimp_groups)) :?>
					<?php foreach( $mailchimp_groups as $key=>$groups ):?>
						<optgroup label="<?php echo esc_html($key);?>">
						<?php foreach($groups as $group ):?>
							<option value="<?php echo esc_html($group['id']);?>" <?php if ( in_array($group['id'] ,$mailchimp_group)){ echo "selected"; }?>><?php echo esc_html($group['name']);?></option>
						<?php endforeach;?>
						</optgroup>
					<?php endforeach;?>
				<?php endif;?>
			</select>
		</div>
	</div>
	<div class="myStickyelements-mailchimp-field-mapping myStickyelements-setting-wrap-list" <?php if( !isset($contact_form['custom_fields']) && empty( $contact_form['custom_fields'] ) || $mailchimp_list == '' ) :?> style="display:none;" <?php endif;?>>
		<label>
		Field mapping
			<span class="mystickyelements-custom-fields-tooltip">
				<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
				<p>Your default fields (email, name, etc) will be automatically synced. Use the field mapping option to decide which My Sticky Elements fields are pushed to your integration's fields.</p>
			</span>
		</label>
		<div class="myStickyelements-mailchimp-field-lists">
			<?php if( isset($contact_form['custom_fields']) && !empty( $contact_form['custom_fields'] )) :?>
				<?php foreach( $contact_form['custom_fields'] as $fields ):
				$custom_field_name = sanitize_title($fields['custom_field_name']);
				?>
					<div class="mailchimp-field-control">
						<label class="field-control-title" for="<?php echo esc_attr($custom_field_name);?>"><?php echo $fields['custom_field_name']?></label>
						<select class="field-control-dropdown" id="<?php echo esc_attr($custom_field_name);?>" name="contact-form[mailchimp-field-mapping][<?php echo esc_attr($custom_field_name);?>]">
							<option value="">Select fields</option>
							<?php foreach( $mc_fields as $field):?>
								<option value="<?php echo $field['field_id'];?>" <?php if( isset($mailchimp_field_mapping[$custom_field_name]) && $mailchimp_field_mapping[$custom_field_name] == $field['field_id'] ):?> selected <?php endif;?>><?php echo $field['field_label'];?></option>
							<?php endforeach;?>
						</select>
					</div>
				<?php endforeach;?>
			<?php endif;?>
		</div>
	</div>
</div>

--- END FILE ---

--- FILE: mystickyelements-fontawesome-icons.php ---
<?php
if ( !function_exists('mystickyelements_fontawesome_icons')) {
	function mystickyelements_fontawesome_icons(){

		return array(
				"fab fa-500px",
				"fab fa-accessible-icon",
				"fab fa-accusoft",
				"fas fa-address-book",
				"far fa-address-book",
				"fas fa-address-card",
				"far fa-address-card",
				"fas fa-adjust",
				"fab fa-adn",
				"fab fa-adversal",
				"fab fa-affiliatetheme",
				"fab fa-algolia",
				"fas fa-align-center",
				"fas fa-align-justify",
				"fas fa-align-left",
				"fas fa-align-right",
				"fab fa-amazon",
				"fas fa-ambulance",
				"fas fa-american-sign-language-interpreting",
				"fab fa-amilia",
				"fas fa-anchor",
				"fab fa-android",
				"fab fa-angellist",
				"fas fa-angle-double-down",
				"fas fa-angle-double-left",
				"fas fa-angle-double-right",
				"fas fa-angle-double-up",
				"fas fa-angle-down",
				"fas fa-angle-left",
				"fas fa-angle-right",
				"fas fa-angle-up",
				"fab fa-angrycreative",
				"fab fa-angular",
				"fab fa-app-store",
				"fab fa-app-store-ios",
				"fab fa-apper",
				"fab fa-apple",
				"fab fa-apple-pay",
				"fas fa-archive",
				"fas fa-arrow-alt-circle-down",
				"far fa-arrow-alt-circle-down",
				"fas fa-arrow-alt-circle-left",
				"far fa-arrow-alt-circle-left",
				"fas fa-arrow-alt-circle-right",
				"far fa-arrow-alt-circle-right",
				"fas fa-arrow-alt-circle-up",
				"far fa-arrow-alt-circle-up",
				"fas fa-arrow-circle-down",
				"fas fa-arrow-circle-left",
				"fas fa-arrow-circle-right",
				"fas fa-arrow-circle-up",
				"fas fa-arrow-down",
				"fas fa-arrow-left",
				"fas fa-arrow-right",
				"fas fa-arrow-up",
				"fas fa-arrows-alt",
				"fas fa-arrows-alt-h",
				"fas fa-arrows-alt-v",
				"fas fa-assistive-listening-systems",
				"fas fa-asterisk",
				"fab fa-asymmetrik",
				"fas fa-at",
				"fab fa-audible",
				"fas fa-audio-description",
				"fab fa-autoprefixer",
				"fab fa-avianex",
				"fab fa-aviato",
				"fab fa-aws",
				"fas fa-backward",
				"fas fa-balance-scale",
				"fas fa-ban",
				"fab fa-bandcamp",
				"fas fa-barcode",
				"fas fa-bars",
				"fas fa-bath",
				"fas fa-battery-empty",
				"fas fa-battery-full",
				"fas fa-battery-half",
				"fas fa-battery-quarter",
				"fas fa-battery-three-quarters",
				"fas fa-bed",
				"fas fa-beer",
				"fab fa-behance",
				"fab fa-behance-square",
				"fas fa-bell",
				"far fa-bell",
				"fas fa-bell-slash",
				"far fa-bell-slash",
				"fas fa-bicycle",
				"fab fa-bimobject",
				"fas fa-binoculars",
				"fas fa-birthday-cake",
				"fab fa-bitbucket",
				"fab fa-bitcoin",
				"fab fa-bity",
				"fab fa-black-tie",
				"fab fa-blackberry",
				"fas fa-blind",
				"fab fa-blogger",
				"fab fa-blogger-b",
				"fab fa-bluetooth",
				"fab fa-bluetooth-b",
				"fas fa-bold",
				"fas fa-bolt",
				"fas fa-bomb",
				"fas fa-book",
				"fas fa-bookmark",
				"far fa-bookmark",
				"fas fa-braille",
				"fas fa-briefcase",
				"fab fa-btc",
				"fas fa-bug",
				"fas fa-building",
				"far fa-building",
				"fas fa-bullhorn",
				"fas fa-bullseye",
				"fab fa-buromobelexperte",
				"fas fa-bus",
				"fab fa-buysellads",
				"fas fa-calculator",
				"fas fa-calendar",
				"far fa-calendar",
				"fas fa-calendar-alt",
				"far fa-calendar-alt",
				"fas fa-calendar-check",
				"far fa-calendar-check",
				"fas fa-calendar-minus",
				"far fa-calendar-minus",
				"fas fa-calendar-plus",
				"far fa-calendar-plus",
				"fas fa-calendar-times",
				"far fa-calendar-times",
				"fas fa-camera",
				"fas fa-camera-retro",
				"fas fa-car",
				"fas fa-caret-down",
				"fas fa-caret-left",
				"fas fa-caret-right",
				"fas fa-caret-square-down",
				"far fa-caret-square-down",
				"fas fa-caret-square-left",
				"far fa-caret-square-left",
				"fas fa-caret-square-right",
				"far fa-caret-square-right",
				"fas fa-caret-square-up",
				"far fa-caret-square-up",
				"fas fa-caret-up",
				"fas fa-cart-arrow-down",
				"fas fa-cart-plus",
				"fab fa-cc-amex",
				"fab fa-cc-apple-pay",
				"fab fa-cc-diners-club",
				"fab fa-cc-discover",
				"fab fa-cc-jcb",
				"fab fa-cc-mastercard",
				"fab fa-cc-paypal",
				"fab fa-cc-stripe",
				"fab fa-cc-visa",
				"fab fa-centercode",
				"fas fa-certificate",
				"fas fa-chart-area",
				"fas fa-chart-bar",
				"far fa-chart-bar",
				"fas fa-chart-line",
				"fas fa-chart-pie",
				"fas fa-check",
				"fas fa-check-circle",
				"far fa-check-circle",
				"fas fa-check-square",
				"far fa-check-square",
				"fas fa-chevron-circle-down",
				"fas fa-chevron-circle-left",
				"fas fa-chevron-circle-right",
				"fas fa-chevron-circle-up",
				"fas fa-chevron-down",
				"fas fa-chevron-left",
				"fas fa-chevron-right",
				"fas fa-chevron-up",
				"fas fa-child",
				"fab fa-chrome",
				"fas fa-circle",
				"far fa-circle",
				"fas fa-circle-notch",
				"fas fa-clipboard",
				"far fa-clipboard",
				"fas fa-clock",
				"far fa-clock",
				"fas fa-clone",
				"far fa-clone",
				"fas fa-closed-captioning",
				"far fa-closed-captioning",
				"fas fa-cloud",
				"fas fa-cloud-download-alt",
				"fas fa-cloud-upload-alt",
				"fab fa-cloudscale",
				"fab fa-cloudsmith",
				"fab fa-cloudversify",
				"fas fa-code",
				"fas fa-code-branch",
				"fab fa-codepen",
				"fab fa-codiepie",
				"fas fa-coffee",
				"fas fa-cog",
				"fas fa-cogs",
				"fas fa-columns",
				"fas fa-comment",
				"far fa-comment",
				"fas fa-comment-alt",
				"far fa-comment-alt",
				"fas fa-comments",
				"far fa-comments",
				"fas fa-compass",
				"far fa-compass",
				"fas fa-compress",
				"fab fa-connectdevelop",
				"fab fa-contao",
				"fas fa-copy",
				"far fa-copy",
				"fas fa-copyright",
				"far fa-copyright",
				"fab fa-cpanel",
				"fab fa-creative-commons",
				"fas fa-credit-card",
				"far fa-credit-card",
				"fas fa-crop",
				"fas fa-crosshairs",
				"fab fa-css3",
				"fab fa-css3-alt",
				"fas fa-cube",
				"fas fa-cubes",
				"fas fa-cut",
				"fab fa-cuttlefish",
				"fab fa-d-and-d",
				"fab fa-dashcube",
				"fas fa-database",
				"fas fa-deaf",
				"fab fa-delicious",
				"fab fa-deploydog",
				"fab fa-deskpro",
				"fas fa-desktop",
				"fab fa-deviantart",
				"fab fa-digg",
				"fab fa-digital-ocean",
				"fab fa-discord",
				"fab fa-discourse",
				"fab fa-dochub",
				"fab fa-docker",
				"fas fa-dollar-sign",
				"fas fa-dot-circle",
				"far fa-dot-circle",
				"fas fa-download",
				"fab fa-draft2digital",
				"fab fa-dribbble",
				"fab fa-dribbble-square",
				"fab fa-dropbox",
				"fab fa-drupal",
				"fab fa-dyalog",
				"fab fa-earlybirds",
				"fab fa-edge",
				"fas fa-edit",
				"far fa-edit",
				"fas fa-eject",
				"fas fa-ellipsis-h",
				"fas fa-ellipsis-v",
				"fab fa-ember",
				"fab fa-empire",
				"fas fa-envelope",
				"far fa-envelope",
				"fas fa-envelope-open",
				"far fa-envelope-open",
				"fas fa-envelope-square",
				"fab fa-envira",
				"fas fa-eraser",
				"fab fa-erlang",
				"fab fa-etsy",
				"fas fa-euro-sign",
				"fas fa-exchange-alt",
				"fas fa-exclamation",
				"fas fa-exclamation-circle",
				"fas fa-exclamation-triangle",
				"fas fa-expand",
				"fas fa-expand-arrows-alt",
				"fab fa-expeditedssl",
				"fas fa-external-link-alt",
				"fas fa-external-link-square-alt",
				"fas fa-eye",
				"fas fa-eye-dropper",
				"fas fa-eye-slash",
				"far fa-eye-slash",
				"fab fa-facebook",
				"fab fa-facebook-f",
				"fab fa-facebook-messenger",
				"fab fa-facebook-square",
				"fas fa-fast-backward",
				"fas fa-fast-forward",
				"fas fa-fax",
				"fas fa-female",
				"fas fa-fighter-jet",
				"fas fa-file",
				"far fa-file",
				"fas fa-file-alt",
				"far fa-file-alt",
				"fas fa-file-archive",
				"far fa-file-archive",
				"fas fa-file-audio",
				"far fa-file-audio",
				"fas fa-file-code",
				"far fa-file-code",
				"fas fa-file-excel",
				"far fa-file-excel",
				"fas fa-file-image",
				"far fa-file-image",
				"fas fa-file-pdf",
				"far fa-file-pdf",
				"fas fa-file-powerpoint",
				"far fa-file-powerpoint",
				"fas fa-file-video",
				"far fa-file-video",
				"fas fa-file-word",
				"far fa-file-word",
				"fas fa-film",
				"fas fa-filter",
				"fas fa-fire",
				"fas fa-fire-extinguisher",
				"fab fa-firefox",
				"fab fa-first-order",
				"fab fa-firstdraft",
				"fas fa-flag",
				"far fa-flag",
				"fas fa-flag-checkered",
				"fas fa-flask",
				"fab fa-flickr",
				"fab fa-fly",
				"fas fa-folder",
				"far fa-folder",
				"fas fa-folder-open",
				"far fa-folder-open",
				"fas fa-font",
				"fab fa-font-awesome",
				"fab fa-font-awesome-alt",
				"fab fa-font-awesome-flag",
				"fab fa-fonticons",
				"fab fa-fonticons-fi",
				"fab fa-fort-awesome",
				"fab fa-fort-awesome-alt",
				"fab fa-forumbee",
				"fas fa-forward",
				"fab fa-foursquare",
				"fab fa-free-code-camp",
				"fab fa-freebsd",
				"fas fa-frown",
				"far fa-frown",
				"fas fa-futbol",
				"far fa-futbol",
				"fas fa-gamepad",
				"fas fa-gavel",
				"fas fa-gem",
				"far fa-gem",
				"fas fa-genderless",
				"fab fa-get-pocket",
				"fab fa-gg",
				"fab fa-gg-circle",
				"fas fa-gift",
				"fab fa-git",
				"fab fa-git-square",
				"fab fa-github",
				"fab fa-github-alt",
				"fab fa-github-square",
				"fab fa-gitkraken",
				"fab fa-gitlab",
				"fab fa-gitter",
				"fas fa-glass-martini",
				"fab fa-glide",
				"fab fa-glide-g",
				"fas fa-globe",
				"fab fa-gofore",
				"fab fa-goodreads",
				"fab fa-goodreads-g",
				"fab fa-google",
				"fab fa-google-drive",
				"fab fa-google-play",
				"fab fa-google-plus",
				"fab fa-google-plus-g",
				"fab fa-google-plus-square",
				"fab fa-google-wallet",
				"fas fa-graduation-cap",
				"fab fa-gratipay",
				"fab fa-grav",
				"fab fa-gripfire",
				"fab fa-grunt",
				"fab fa-gulp",
				"fas fa-h-square",
				"fab fa-hacker-news",
				"fab fa-hacker-news-square",
				"fas fa-hand-lizard",
				"far fa-hand-lizard",
				"fas fa-hand-paper",
				"far fa-hand-paper",
				"fas fa-hand-peace",
				"far fa-hand-peace",
				"fas fa-hand-point-down",
				"far fa-hand-point-down",
				"fas fa-hand-point-left",
				"far fa-hand-point-left",
				"fas fa-hand-point-right",
				"far fa-hand-point-right",
				"fas fa-hand-point-up",
				"far fa-hand-point-up",
				"fas fa-hand-pointer",
				"far fa-hand-pointer",
				"fas fa-hand-rock",
				"far fa-hand-rock",
				"fas fa-hand-scissors",
				"far fa-hand-scissors",
				"fas fa-hand-spock",
				"far fa-hand-spock",
				"fas fa-handshake",
				"far fa-handshake",
				"fas fa-hashtag",
				"fas fa-hdd",
				"far fa-hdd",
				"fas fa-heading",
				"fas fa-headphones",
				"fas fa-heart",
				"far fa-heart",
				"fas fa-heartbeat",
				"fab fa-hire-a-helper",
				"fas fa-history",
				"fas fa-home",
				"fab fa-hooli",
				"fas fa-hospital",
				"far fa-hospital",
				"fab fa-hotjar",
				"fas fa-hourglass",
				"far fa-hourglass",
				"fas fa-hourglass-end",
				"fas fa-hourglass-half",
				"fas fa-hourglass-start",
				"fab fa-houzz",
				"fab fa-html5",
				"fab fa-hubspot",
				"fas fa-i-cursor",
				"fas fa-id-badge",
				"far fa-id-badge",
				"fas fa-id-card",
				"far fa-id-card",
				"fas fa-image",
				"far fa-image",
				"fas fa-images",
				"far fa-images",
				"fab fa-imdb",
				"fas fa-inbox",
				"fas fa-indent",
				"fas fa-industry",
				"fas fa-info",
				"fas fa-info-circle",
				"fab fa-instagram",
				"fab fa-internet-explorer",
				"fab fa-ioxhost",
				"fas fa-italic",
				"fab fa-itunes",
				"fab fa-itunes-note",
				"fab fa-jenkins",
				"fab fa-joget",
				"fab fa-joomla",
				"fab fa-js",
				"fab fa-js-square",
				"fab fa-jsfiddle",
				"fas fa-key",
				"fas fa-keyboard",
				"far fa-keyboard",
				"fab fa-keycdn",
				"fab fa-kickstarter",
				"fab fa-kickstarter-k",
				"fas fa-language",
				"fas fa-laptop",
				"fab fa-laravel",
				"fab fa-lastfm",
				"fab fa-lastfm-square",
				"fas fa-leaf",
				"fab fa-leanpub",
				"fas fa-lemon",
				"far fa-lemon",
				"fab fa-less",
				"fas fa-level-down-alt",
				"fas fa-level-up-alt",
				"fas fa-life-ring",
				"far fa-life-ring",
				"fas fa-lightbulb",
				"far fa-lightbulb",
				"fab fa-line",
				"fas fa-link",
				"fab fa-linkedin",
				"fab fa-linkedin-in",
				"fab fa-linode",
				"fab fa-linux",
				"fas fa-lira-sign",
				"fas fa-list",
				"fas fa-list-alt",
				"far fa-list-alt",
				"fas fa-list-ol",
				"fas fa-list-ul",
				"fas fa-location-arrow",
				"fas fa-lock",
				"fas fa-lock-open",
				"fas fa-long-arrow-alt-down",
				"fas fa-long-arrow-alt-left",
				"fas fa-long-arrow-alt-right",
				"fas fa-long-arrow-alt-up",
				"fas fa-low-vision",
				"fab fa-lyft",
				"fab fa-magento",
				"fas fa-magic",
				"fas fa-magnet",
				"fas fa-male",
				"fas fa-map",
				"far fa-map",
				"fas fa-map-marker",
				"fas fa-map-marker-alt",
				"fas fa-map-pin",
				"fas fa-map-signs",
				"fas fa-mars",
				"fas fa-mars-double",
				"fas fa-mars-stroke",
				"fas fa-mars-stroke-h",
				"fas fa-mars-stroke-v",
				"fab fa-maxcdn",
				"fab fa-medapps",
				"fab fa-medium",
				"fab fa-medium-m",
				"fas fa-medkit",
				"fab fa-medrt",
				"fab fa-meetup",
				"fas fa-meh",
				"far fa-meh",
				"fas fa-mercury",
				"fas fa-microchip",
				"fas fa-microphone",
				"fas fa-microphone-slash",
				"fab fa-microsoft",
				"fas fa-minus",
				"fas fa-minus-circle",
				"fas fa-minus-square",
				"far fa-minus-square",
				"fab fa-mix",
				"fab fa-mixcloud",
				"fab fa-mizuni",
				"fas fa-mobile",
				"fas fa-mobile-alt",
				"fab fa-modx",
				"fab fa-monero",
				"fas fa-money-bill-alt",
				"far fa-money-bill-alt",
				"fas fa-moon",
				"far fa-moon",
				"fas fa-motorcycle",
				"fas fa-mouse-pointer",
				"fas fa-music",
				"fab fa-napster",
				"fas fa-neuter",
				"fas fa-newspaper",
				"far fa-newspaper",
				"fab fa-nintendo-switch",
				"fab fa-node",
				"fab fa-node-js",
				"fab fa-npm",
				"fab fa-ns8",
				"fab fa-nutritionix",
				"fas fa-object-group",
				"far fa-object-group",
				"fas fa-object-ungroup",
				"far fa-object-ungroup",
				"fab fa-odnoklassniki",
				"fab fa-odnoklassniki-square",
				"fab fa-opencart",
				"fab fa-openid",
				"fab fa-opera",
				"fab fa-optin-monster",
				"fab fa-osi",
				"fas fa-outdent",
				"fab fa-page4",
				"fab fa-pagelines",
				"fas fa-paint-brush",
				"fab fa-palfed",
				"fas fa-paper-plane",
				"far fa-paper-plane",
				"fas fa-paperclip",
				"fas fa-paragraph",
				"fas fa-paste",
				"fab fa-patreon",
				"fas fa-pause",
				"fas fa-pause-circle",
				"far fa-pause-circle",
				"fas fa-paw",
				"fab fa-paypal",
				"fas fa-pen-square",
				"fas fa-pencil-alt",
				"fas fa-percent",
				"fab fa-periscope",
				"fab fa-phabricator",
				"fab fa-phoenix-framework",
				"fas fa-phone",
				"fas fa-phone-square",
				"fas fa-phone-volume",
				"fab fa-pied-piper",
				"fab fa-pied-piper-alt",
				"fab fa-pied-piper-pp",
				"fab fa-pinterest",
				"fab fa-pinterest-p",
				"fab fa-pinterest-square",
				"fas fa-plane",
				"fas fa-play",
				"fas fa-play-circle",
				"far fa-play-circle",
				"fab fa-playstation",
				"fas fa-plug",
				"fas fa-plus",
				"fas fa-plus-circle",
				"fas fa-plus-square",
				"far fa-plus-square",
				"fas fa-podcast",
				"fas fa-pound-sign",
				"fas fa-power-off",
				"fas fa-print",
				"fab fa-product-hunt",
				"fab fa-pushed",
				"fas fa-puzzle-piece",
				"fab fa-python",
				"fab fa-qq",
				"fas fa-qrcode",
				"fas fa-question",
				"fas fa-question-circle",
				"far fa-question-circle",
				"fab fa-quora",
				"fas fa-quote-left",
				"fas fa-quote-right",
				"fas fa-random",
				"fab fa-ravelry",
				"fab fa-react",
				"fab fa-rebel",
				"fas fa-recycle",
				"fab fa-red-river",
				"fab fa-reddit",
				"fab fa-reddit-alien",
				"fab fa-reddit-square",
				"fas fa-redo",
				"fas fa-redo-alt",
				"fas fa-registered",
				"far fa-registered",
				"fab fa-rendact",
				"fab fa-renren",
				"fas fa-reply",
				"fas fa-reply-all",
				"fab fa-replyd",
				"fab fa-resolving",
				"fas fa-retweet",
				"fas fa-road",
				"fas fa-rocket",
				"fab fa-rocketchat",
				"fab fa-rockrms",
				"fas fa-rss",
				"fas fa-rss-square",
				"fas fa-ruble-sign",
				"fas fa-rupee-sign",
				"fab fa-safari",
				"fab fa-sass",
				"fas fa-save",
				"far fa-save",
				"fab fa-schlix",
				"fab fa-scribd",
				"fas fa-search",
				"fas fa-search-minus",
				"fas fa-search-plus",
				"fab fa-searchengin",
				"fab fa-sellcast",
				"fab fa-sellsy",
				"fas fa-server",
				"fab fa-servicestack",
				"fas fa-share",
				"fas fa-share-alt",
				"fas fa-share-alt-square",
				"fas fa-share-square",
				"far fa-share-square",
				"fas fa-shekel-sign",
				"fas fa-shield-alt",
				"fas fa-ship",
				"fab fa-shirtsinbulk",
				"fas fa-shopping-bag",
				"fas fa-shopping-basket",
				"fas fa-shopping-cart",
				"fas fa-shower",
				"fas fa-sign-in-alt",
				"fas fa-sign-language",
				"fas fa-sign-out-alt",
				"fas fa-signal",
				"fab fa-simplybuilt",
				"fab fa-sistrix",
				"fas fa-sitemap",
				"fab fa-skyatlas",
				"fab fa-skype",
				"fab fa-slack",
				"fab fa-slack-hash",
				"fas fa-sliders-h",
				"fab fa-slideshare",
				"fas fa-smile",
				"far fa-smile",
				"fab fa-snapchat",
				"fab fa-snapchat-ghost",
				"fab fa-snapchat-square",
				"fas fa-snowflake",
				"far fa-snowflake",
				"fas fa-sort",
				"fas fa-sort-alpha-down",
				"fas fa-sort-alpha-up",
				"fas fa-sort-amount-down",
				"fas fa-sort-amount-up",
				"fas fa-sort-down",
				"fas fa-sort-numeric-down",
				"fas fa-sort-numeric-up",
				"fas fa-sort-up",
				"fab fa-soundcloud",
				"fas fa-space-shuttle",
				"fab fa-speakap",
				"fas fa-spinner",
				"fab fa-spotify",
				"fas fa-square",
				"far fa-square",
				"fab fa-stack-exchange",
				"fab fa-stack-overflow",
				"fas fa-star",
				"far fa-star",
				"fas fa-star-half",
				"far fa-star-half",
				"fab fa-staylinked",
				"fab fa-steam",
				"fab fa-steam-square",
				"fab fa-steam-symbol",
				"fas fa-step-backward",
				"fas fa-step-forward",
				"fas fa-stethoscope",
				"fab fa-sticker-mule",
				"fas fa-sticky-note",
				"far fa-sticky-note",
				"fas fa-stop",
				"fas fa-stop-circle",
				"far fa-stop-circle",
				"fab fa-strava",
				"fas fa-street-view",
				"fas fa-strikethrough",
				"fab fa-stripe",
				"fab fa-stripe-s",
				"fab fa-studiovinari",
				"fab fa-stumbleupon",
				"fab fa-stumbleupon-circle",
				"fas fa-subscript",
				"fas fa-subway",
				"fas fa-suitcase",
				"fas fa-sun",
				"far fa-sun",
				"fab fa-superpowers",
				"fas fa-superscript",
				"fab fa-supple",
				"fas fa-sync",
				"fas fa-sync-alt",
				"fas fa-table",
				"fas fa-tablet",
				"fas fa-tablet-alt",
				"fas fa-tachometer-alt",
				"fas fa-tag",
				"fas fa-tags",
				"fas fa-tasks",
				"fas fa-taxi",
				"fab fa-telegram",
				"fab fa-telegram-plane",
				"fab fa-tencent-weibo",
				"fas fa-terminal",
				"fas fa-text-height",
				"fas fa-text-width",
				"fas fa-th",
				"fas fa-th-large",
				"fas fa-th-list",
				"fab fa-themeisle",
				"fas fa-thermometer-empty",
				"fas fa-thermometer-full",
				"fas fa-thermometer-half",
				"fas fa-thermometer-quarter",
				"fas fa-thermometer-three-quarters",
				"fas fa-thumbs-down",
				"far fa-thumbs-down",
				"fas fa-thumbs-up",
				"far fa-thumbs-up",
				"fas fa-thumbtack",
				"fas fa-ticket-alt",
				"fas fa-times",
				"fas fa-times-circle",
				"far fa-times-circle",
				"fas fa-tint",
				"fas fa-toggle-off",
				"fas fa-toggle-on",
				"fas fa-trademark",
				"fas fa-train",
				"fas fa-transgender",
				"fas fa-transgender-alt",
				"fas fa-trash",
				"fas fa-trash-alt",
				"far fa-trash-alt",
				"fas fa-tree",
				"fab fa-trello",
				"fab fa-tripadvisor",
				"fas fa-trophy",
				"fas fa-truck",
				"fas fa-tty",
				"fab fa-tumblr",
				"fab fa-tumblr-square",
				"fas fa-tv",
				"fab fa-twitch",
				"fab fa-twitter",
				"fab fa-twitter-square",
				"fab fa-typo3",
				"fab fa-uber",
				"fab fa-uikit",
				"fas fa-umbrella",
				"fas fa-underline",
				"fas fa-undo",
				"fas fa-undo-alt",
				"fab fa-uniregistry",
				"fas fa-universal-access",
				"fas fa-university",
				"fas fa-unlink",
				"fas fa-unlock",
				"fas fa-unlock-alt",
				"fab fa-untappd",
				"fas fa-upload",
				"fab fa-usb",
				"fas fa-user",
				"far fa-user",
				"fas fa-user-circle",
				"far fa-user-circle",
				"fas fa-user-md",
				"fas fa-user-plus",
				"fas fa-user-secret",
				"fas fa-user-times",
				"fas fa-users",
				"fab fa-ussunnah",
				"fas fa-utensil-spoon",
				"fas fa-utensils",
				"fab fa-vaadin",
				"fas fa-venus",
				"fas fa-venus-double",
				"fas fa-venus-mars",
				"fab fa-viacoin",
				"fab fa-viadeo",
				"fab fa-viadeo-square",
				"fab fa-viber",
				"fas fa-video",
				"fab fa-vimeo",
				"fab fa-vimeo-square",
				"fab fa-vimeo-v",
				"fab fa-vine",
				"fab fa-vk",
				"fab fa-vnv",
				"fas fa-volume-down",
				"fas fa-volume-off",
				"fas fa-volume-up",
				"fab fa-vuejs",
				"fab fa-weibo",
				"fab fa-weixin",
				"fab fa-whatsapp",
				"fab fa-whatsapp-square",
				"fas fa-wheelchair",
				"fab fa-whmcs",
				"fas fa-wifi",
				"fab fa-wikipedia-w",
				"fas fa-window-close",
				"far fa-window-close",
				"fas fa-window-maximize",
				"far fa-window-maximize",
				"fas fa-window-minimize",
				"fas fa-window-restore",
				"far fa-window-restore",
				"fab fa-windows",
				"fas fa-won-sign",
				"fab fa-wordpress",
				"fab fa-wordpress-simple",
				"fab fa-wpbeginner",
				"fab fa-wpexplorer",
				"fab fa-wpforms",
				"fas fa-wrench",
				"fab fa-xbox",
				"fab fa-xing",
				"fab fa-xing-square",
				"fab fa-y-combinator",
				"fab fa-yahoo",
				"fab fa-yandex",
				"fab fa-yandex-international",
				"fab fa-yelp",
				"fas fa-yen-sign",
				"fab fa-yoast",
				"fab fa-youtube"
			);
	}
}

--- END FILE ---

--- FILE: help.php ---
<div class="mystickyelements-help-form">
    <form action="<?php echo admin_url( 'admin-ajax.php' ) ?>" method="post" id="mystickyelements-help-form">
        <div class="mystickyelements-help-header">
            <b>Gal Dubinski</b> Co-Founder at Premio
        </div>
        <div class="mystickyelements-help-content">
            <p><?php echo __("Hello! Are you experiencing any problems with My Sticky Elements? Please let me know :)", "mystickyelements") ?></p>
            <div class="mystickyelements-form-field">
                <input type="text" name="user_email" id="user_email" placeholder="<?php echo __("Email", "mystickyelements") ?>">
            </div>
            <div class="mystickyelements-form-field">
                <textarea type="text" name="textarea_text" id="textarea_text" placeholder="<?php echo __("How can I help you?", "mystickyelements") ?>"></textarea>
            </div>
            <div class="form-button">
                <button type="submit" class="mystickyelements-help-button" ><?php echo __("Chat") ?></button>
                <input type="hidden" name="action" value="mystickyelements_admin_send_message_to_owner"  >
                <input type="hidden" id="nonce" name="nonce" value="<?php echo wp_create_nonce("mystickyelements_send_message_to_owner") ?>">
            </div>
			<p class="mystickyelements-help-center">
				Or
			</p>
			<p class="mystickyelements-help-center" >
				<a href="https://premio.io/help/mystickyelements/?utm_source=pluginchat" target="_blank" >Visit our Help Center >></a>
			</p>
        </div>
    </form>
</div>
<div class="mystickyelements-help-btn">
    <a class="mystickyelements-help-tooltip" href="javascript:;"><img src="<?php echo MYSTICKYELEMENTS_PRO_URL ?>images/owner.png" alt="<?php echo __("Need help?", "mystickyelements") ?>"  /></a>
	<?php if ( !isset($_COOKIE['mse-help-cta'])):?>
    <span class="tooltiptext"><?php echo __("Need help?", "mystickyelements") ?></span>
	<?php endif;?>
</div>
<script>
    jQuery(document).ready(function(){
        jQuery("#mystickyelements-help-form").on( 'submit', function(){			
            jQuery(".mystickyelements-help-button").attr("disabled",true);
            jQuery(".mystickyelements-help-button").text("<?php echo __("Sending Request...") ?>");
            formData = jQuery(this).serialize();
            jQuery.ajax({
                url: "<?php echo admin_url( 'admin-ajax.php' ) ?>",
                data: formData,
                type: "post",
                success: function(responseText){
                    jQuery("#mystickyelements-help-form").find(".error-message").remove();
                    jQuery("#mystickyelements-help-form").find(".input-error").removeClass("input-error");                    
                    responseArray = jQuery.parseJSON(responseText);
                    if(responseArray.error == 1) {
                        jQuery(".mystickyelements-help-button").attr("disabled",false);
                        jQuery(".mystickyelements-help-button").text("<?php echo __("Chat", "mystickyelements") ?>");
                        for(i=0;i<responseArray.errors.length;i++) {
                            jQuery("#"+responseArray.errors[i]['key']).addClass("input-error");
                            jQuery("#"+responseArray.errors[i]['key']).after('<span class="error-message">'+responseArray.errors[i]['message']+'</span>');
                        }
                    } else if(responseArray.status == 1) {
                        jQuery(".mystickyelements-help-button").text("<?php echo __("Done!", "mystickyelements") ?>");
                        setTimeout(function(){
                            jQuery(".mystickyelements-help-header").remove();
                            jQuery(".mystickyelements-help-content").html("<p class='success-p'><?php echo __("Your message was sent successfully.", "mystickyelements") ?></p>");
                        },1000);
                    } else if(responseArray.status == 0) {
                        jQuery(".mystickyelements-help-content").html("<p class='error-p'><?php echo __("There is some problem in sending request. Please send us mail on <a href='mailto:contact@premio.io'>contact@premio.io</a>", "mystickyelements") ?></p>");
                    }
                }
            });
            return false;
        });
        jQuery(".mystickyelements-help-tooltip").on( 'click', function(e){
            e.stopPropagation();
            jQuery(".mystickyelements-help-form").toggleClass("active");
			if ( jQuery(".mystickyelements-help-btn .tooltiptext").length != 0) {
				jQuery(".mystickyelements-help-btn .tooltiptext").remove();
			}
			document.cookie = "mse-help-cta=hide"; 
        });
        jQuery(".mystickyelements-help-form").on( 'click', function(e){
            e.stopPropagation();
        });
        jQuery("body").on( 'click', function(){
            jQuery(".mystickyelements-help-form").removeClass("active");
        });
    });
</script>

--- END FILE ---

--- FILE: mystickyelement-mailpoet-integration.php ---
<?php if (  class_exists( '\MailPoet\API\API' ) ) :

$mailpoet_list = ( isset($contact_form['mailpoet_list'])) ? $contact_form['mailpoet_list'] : '';
?>

<div id="contact-form-MailPoet" class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list">
	<h4>MailPoet integration settings</h4>
	<div class="myStickyelements-mailchimp-settings">
		<label><?php esc_html_e( 'Select a MailPoet list' );?></label>
		<?php $mailpoet_lists = \MailPoet\API\API::MP( 'v1' )->getLists();?>
		<select id="sfba_mailchimp_lists" name="contact-form[mailpoet_list]">
			<option value="">Select a list</option>
			<?php 
			if ( !empty($mailpoet_lists)) :
			foreach($mailpoet_lists as $lists):
				if ( $lists['id'] != '' && $lists['name'] != '' ) {
				?>
				<option value="<?php echo $lists['id']?>" <?php selected($lists['id'], @$mailpoet_list, true);?>><?php echo $lists['name']?></option>
				<?php }
				endforeach;
			endif;
			?>
		</select>
	</div>	
</div>

<?php endif;?>

--- END FILE ---

--- FILE: mystickyelements-admin-general-settings.php ---
<?php
//include( 'mystickyelements_timezone.php' );
/*echo "<pre>";
print_r($general_settings);
echo "</pre>";*/

$traffic_source  = ( isset($general_settings['traffic-source'])) ? $general_settings['traffic-source'] : '';
$direct_visit  	 = ( isset($traffic_source['direct-visit'])) ? $traffic_source['direct-visit'] : '';
$social_network  = ( isset($traffic_source['social-network'])) ? $traffic_source['social-network'] : '';
$search_engines  = ( isset($traffic_source['search-engines'])) ? $traffic_source['search-engines'] : '';
$google_ads      = ( isset($traffic_source['google-ads'])) ? $traffic_source['google-ads'] : '';
$other_source_option	= ( isset($traffic_source['other-source-option'])) ? $traffic_source['other-source-option'] : '';
$other_source_url      	= ( isset($traffic_source['other-source-url'])) ? $traffic_source['other-source-url'] : array('');
$furl = false;
foreach( $other_source_url as $surl ){
	if ( $surl != '') {
		$furl = true;
	}
}
if ( !$furl){
	$other_source_url = array();
}
?>

<div class="myStickyelements-header-title">
	<h3><?php _e('General Settings', 'mystickyelements'); ?></h3>
</div>

<div class="myStickyelements-content-section">
	<table>
		<tr>
			<td>
				<span class="myStickyelements-label" ><?php _e( 'Templates', 'mystickyelements' );?></span>
				<div class="myStickyelements-inputs myStickyelements-label">
					<?php $general_settings['templates'] = (isset($general_settings['templates']) && $general_settings['templates']!= '') ? $general_settings['templates'] : 'default'; ?>
					<select id="myStickyelements-inputs-templete" name="general-settings[templates]" >
						<option value="default" <?php selected( @$general_settings['templates'], 'default' ); ?>><?php _e( 'Default', 'mystickyelements' );?></option>
						<option value="sharp" <?php selected( @$general_settings['templates'], 'sharp' ); ?>><?php _e( 'Sharp ', 'mystickyelements' );?></option>
						<option value="roundad" <?php selected( @$general_settings['templates'], 'roundad' ); ?>><?php _e( 'Rounded', 'mystickyelements' );?></option>
						<option value="leaf_right" <?php selected( @$general_settings['templates'], 'leaf_right' ); ?>><?php _e( 'Leaf right', 'mystickyelements' );?></option>
						<option value="round" <?php selected( @$general_settings['templates'], 'round' ); ?>><?php _e( 'Round', 'mystickyelements' );?></option>
						<option value="diamond" <?php selected( @$general_settings['templates'], 'diamond' ); ?>><?php _e( 'Diamond', 'mystickyelements' );?></option>
						<option value="leaf_left" <?php selected( @$general_settings['templates'], 'leaf_left' ); ?>><?php _e( 'Leaf left', 'mystickyelements' );?></option>
						<option value="arrow" <?php selected( @$general_settings['templates'], 'arrow' ); ?>><?php _e( 'Arrow', 'mystickyelements' );?></option>
						<option value="triangle" <?php selected( @$general_settings['templates'], 'triangle' ); ?>><?php _e( 'Triangle', 'mystickyelements' );?></option>
					</select>
				</div>
			</td>
			<td rowspan="7">

			</td>
		</tr>
		<tr>
			<td>
				<span class="myStickyelements-label" ><?php _e( 'Position on desktop', 'mystickyelements' );?></span>
				<div class="myStickyelements-inputs">
					<ul>
						<li>
							<label>
								<input type="radio" name="general-settings[position]" value="left" <?php checked( @$general_settings['position'], 'left' );?> />
								<?php _e( 'Left', 'mystickyelements' );?>
							</label>
						</li>
						<li class="myStickyelements-pos-rtl">
							<label>
								<input type="radio" name="general-settings[position]" value="right" <?php checked( @$general_settings['position'], 'right' );?> />
								<?php _e( 'Right', 'mystickyelements' );?>
							</label>
						</li>
						<li>
							<label>
								<input type="radio" name="general-settings[position]" value="bottom" <?php checked( @$general_settings['position'], 'bottom' );?> />
								<?php _e( 'Bottom', 'mystickyelements' );?>
							</label>
						</li>
					</ul>
				</div>
			</td>
			<td rowspan="7">

			</td>
		</tr>
		<tr class="myStickyelements-position-on-screen-wrap" style="<?php echo (isset($general_settings['position']) && $general_settings['position'] != 'bottom') ? 'display: none;' : ''; ?>">
			<td>
				<span class="myStickyelements-label" ><?php _e( 'Position on screen', 'mystickyelements' );?></span>
				<div class="myStickyelements-inputs myStickyelements-label">
					<?php $general_settings['position_on_screen'] = (isset($general_settings['position_on_screen']) && $general_settings['position_on_screen']!= '') ? $general_settings['position_on_screen'] : 'center'; ?>
					<select id="myStickyelements-inputs-position-on-screen" name="general-settings[position_on_screen]" >
						<option value="center" <?php selected( @$general_settings['position_on_screen'], 'center' ); ?>><?php _e( 'Center', 'mystickyelements' );?></option>
						<option value="left" <?php selected( @$general_settings['position_on_screen'], 'left' ); ?>><?php _e( 'Left', 'mystickyelements' );?></option>
						<option value="right" <?php selected( @$general_settings['position_on_screen'], 'right' ); ?>><?php _e( 'Right', 'mystickyelements' );?></option>
					</select>
				</div>
			</td>
		</tr>
		<tr>
			<td>
				<span class="myStickyelements-label" ><?php _e( 'Position on mobile', 'mystickyelements' );?></span>
				<div class="myStickyelements-inputs">
					<ul>
						<li>
							<label>
								<input type="radio" name="general-settings[position_mobile]" value="left" <?php checked( @$general_settings['position_mobile'], 'left' );?> />
								<?php _e( 'Left', 'mystickyelements' );?>
							</label>
						</li>
						<li class="myStickyelements-pos-rtl">
							<label>
								<input type="radio" name="general-settings[position_mobile]" value="right" <?php checked( @$general_settings['position_mobile'], 'right' );?> />
								<?php _e( 'Right', 'mystickyelements' );?>
							</label>
						</li>
						<li>
							<label>
								<input type="radio" name="general-settings[position_mobile]" value="top" <?php checked( @$general_settings['position_mobile'], 'top' );?> />
								<?php _e( 'Top', 'mystickyelements' );?>
							</label>
						</li>
						<li>
							<label>
								<input type="radio" name="general-settings[position_mobile]" value="bottom" <?php checked( @$general_settings['position_mobile'], 'bottom' );?> />
								<?php _e( 'Bottom', 'mystickyelements' );?>
							</label>
						</li>
					</ul>
				</div>
			</td>
		</tr>
		<tr>
			<td>
				<span class="myStickyelements-label" ><?php _e( 'Open tabs when', 'mystickyelements' );?></span>
				<div class="myStickyelements-inputs">
					<ul>
						<li>
							<label>
								<input type="radio" name="general-settings[open_tabs_when]" value="hover" <?php checked( @$general_settings['open_tabs_when'], 'hover' );?> />
								<?php _e( 'Hover', 'mystickyelements' );?>
							</label>
						</li>
						<li>
							<label>
								<input type="radio" name="general-settings[open_tabs_when]" value="click" <?php checked( @$general_settings['open_tabs_when'], 'click' );?> />
								<?php _e( 'Click', 'mystickyelements' );?>
							</label>
						</li>
					</ul>
				</div>
			</td>
		</tr>
		<tr>
			<td>
				<span class="myStickyelements-label" >
					<label for="myStickyelements-form_open_automatic"><?php _e( 'Open the form automatically', 'mystickyelements' );?></label>
					<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
						<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
						<p><?php esc_html_e("The form will automatically open up on page load until the user closes the form or fills out the form", 'mystickyelements'); ?></p>
					</div>
				</span>
				
				<div class="myStickyelements-inputs myStickyelements-label myStickyelements-form-open">
					<label for="myStickyelements-form_open_automatic" class="myStickyelements-switch" >
						<input type="checkbox" id="myStickyelements-form_open_automatic" name="general-settings[form_open_automatic]"<?php checked( @$general_settings['form_open_automatic'], '1' );?>  value="1" />
						<span class="slider round"></span>
					</label>												
				</div>
			</td>
		</tr>
		<tr class="myStickyelements-position-desktop-wrap" style="<?php echo (isset($general_settings['position']) && $general_settings['position'] == 'bottom') ? 'display: none;' : ''; ?>">
			<td>
				<span class="myStickyelements-label" >
					<label for="custom_position"><?php _e( 'On-Screen Position Y Desktop', 'mystickyelements' );?></label>
					<?php if(!$is_pro_active) {?><span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span><?php } ?>
				</span>

				<div class="myStickyelements-inputs">
					<div class="px-wrap px-wrap-left">
						<input  <?php echo !$is_pro_active?"disabled":"" ?> type="number" id="custom_position"  name="general-settings[custom_position]" value="<?php echo @$general_settings['custom_position'];?>" placeholder="[optional]" />
						<span class="input-px">PX</span>
					</div>
					<div class="px-wrap px-wrap-right">
						<select name="general-settings[custom_position_from]">
							<option value="bottom" <?php if(isset($general_settings['custom_position_from']) && $general_settings['custom_position_from'] == 'bottom'): echo "selected"; endif; ?>>From bottom</option>
							<option value="top" <?php if(isset($general_settings['custom_position_from']) && $general_settings['custom_position_from'] == 'top'): echo "selected"; endif; ?>>From top</option>
						</select>
					</div>
					
				</div>
			</td>
		</tr>
		<tr class="myStickyelements-position-mobile-wrap" style="<?php echo (isset($general_settings['position_mobile']) && ($general_settings['position'] == 'bottom' || $general_settings['position'] == 'top' )) ? 'display: none;' : ''; ?>">
			<td>
				<span class="myStickyelements-label" >
					<label for="custom_position_mobile"><?php _e( 'On-Screen Position Y Mobile', 'mystickyelements' );?></label>
					<?php if(!$is_pro_active) {?><span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span><?php } ?>
				</span>

				<div class="myStickyelements-inputs">
					<div class="px-wrap px-wrap-left">
						<input  <?php echo !$is_pro_active?"disabled":"" ?> type="number" id="custom_position_mobile"  name="general-settings[custom_position_mobile]" value="<?php echo @$general_settings['custom_position_mobile'];?>" placeholder="[optional]" />
						<span class="input-px">PX</span>
					</div>
					<div class="px-wrap px-wrap-right">
						<select name="general-settings[custom_position_from_mobile]">
							<option value="bottom" <?php if(isset($general_settings['custom_position_from_mobile']) && $general_settings['custom_position_from_mobile'] == 'bottom'): echo "selected"; endif; ?>>From bottom</option>
							<option value="top" <?php if(isset($general_settings['custom_position_from_mobile']) && $general_settings['custom_position_from_mobile'] == 'top'): echo "selected"; endif; ?>>From top</option>
						</select>
					</div>
				</div>
			</td>
		</tr>
		<tr>
			<td>
				<span class="myStickyelements-label">
					<label for="myStickyelements-minimize-tab">
						<?php esc_html_e( 'Minimize tab', 'mystickyelements' );?>
					</label>
				</span>
				<div class="myStickyelements-inputs myStickyelements-label myStickyelements-minimize-tab">
					<label for="myStickyelements-minimize-tab" class="myStickyelements-switch" >
						<input type="checkbox" id="myStickyelements-minimize-tab" name="general-settings[minimize_tab]"<?php checked( @$general_settings['minimize_tab'], '1' );?>  value="1" />
						<span class="slider round"></span>
					</label>
					&nbsp;
					<input type="text" id="minimize_tab_background_color" name="general-settings[minimize_tab_background_color]" class="mystickyelement-color" value="<?php echo esc_attr($general_settings['minimize_tab_background_color']);?>" />
				</div>
			</td>
		</tr>
		<tr class="myStickyelements-minimized">
			<td>
				<span class="myStickyelements-label">
					<label>
						<?php esc_html_e( 'Minimized bar on load', 'mystickyelements' );?>
					</label>
				</span>
				<div class="myStickyelements-inputs">
					<ul>
						<li>
							<label>
								<input type="checkbox" name="general-settings[minimize_desktop]" value="desktop" <?php checked( @$general_settings['minimize_desktop'], 'desktop' );?> />
								<?php _e( 'Desktop', 'mystickyelements' );?>
							</label>
						</li>
						<li>
							<label>
								<input type="checkbox" name="general-settings[minimize_mobile]" value="mobile" <?php checked( @$general_settings['minimize_mobile'], 'mobile' );?> />
								<?php _e( 'Mobile', 'mystickyelements' );?>
							</label>
						</li>
					</ul>
				</div>
			</td>
		</tr>
		<tr>
			<td>
				<span class="myStickyelements-label" >
					<label for="myStickyelements-google-alanytics-enabled"><?php _e( 'Google Analytics Events', 'mystickyelements' );?></label>
					<?php if(!$is_pro_active) {?><span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span><?php } ?>
				</span>
				<div class="myStickyelements-inputs myStickyelements-label">
					<label for="myStickyelements-google-alanytics-enabled" class="myStickyelements-switch" >
						<input type="checkbox" id="myStickyelements-google-alanytics-enabled" name="general-settings[google_analytics]" value="1" <?php checked( @$general_settings['google_analytics'], '1' );?> <?php echo !$is_pro_active?"disabled":"" ?>  />
						<span class="slider round"></span>
					</label>
				</div>
			</td>
		</tr>
		<tr>
			<td>
				<span class="myStickyelements-label" >
					<?php _e( 'Font Family', 'mystickyelements' );?></label>
				</span>
				<div class="myStickyelements-inputs myStickyelements-label">
					<select name="general-settings[font_family]" class="form-fonts">
						<option value=""><?php _e( 'Select font family', 'mystickyelements' );?></option>
						<?php $group= ''; foreach( mystickyelements_fonts() as $key=>$value):
									if ($value != $group){
										echo '<optgroup label="' . $value . '">';
										$group = $value;
									}
								?>
							<option value="<?php echo $key;?>" <?php selected( @$general_settings['font_family'], $key ); ?>><?php echo $key;?></option>
						<?php endforeach;?>
					</select>
				</div>
			</td>
		</tr>
		<tr>
			<td>
				<span class="myStickyelements-label" >
					<?php _e( 'Desktop Widget Size', 'mystickyelements' );?>
				</span>
				<div class="myStickyelements-inputs myStickyelements-label">
					<?php $general_settings['widget-size'] = (isset($general_settings['widget-size']) && $general_settings['widget-size']!= '') ? $general_settings['widget-size'] : 'medium'; ?>
					<select id="myStickyelements-widget-size" name="general-settings[widget-size]" >
						<option value="small" <?php selected( @$general_settings['widget-size'], 'small' ); ?>><?php _e( 'Small', 'mystickyelements' );?></option>
						<option value="medium" <?php selected( @$general_settings['widget-size'], 'medium' ); ?>><?php _e( 'Medium', 'mystickyelements' );?></option>
						<option value="large" <?php selected( @$general_settings['widget-size'], 'large' ); ?>><?php _e( 'Large', 'mystickyelements' );?></option>
						<option value="extra-large" <?php selected( @$general_settings['widget-size'], 'extra-large' ); ?>><?php _e( 'Extra Large', 'mystickyelements' );?></option>
					</select>
				</div>
			</td>
		</tr>
		<tr>
			<td>
				<span class="myStickyelements-label" >
					<?php _e( 'Mobile Widget size', 'mystickyelements' );?>
				</span>
				<div class="myStickyelements-inputs myStickyelements-label">
					<?php $general_settings['mobile-widget-size'] = (isset($general_settings['mobile-widget-size']) && $general_settings['mobile-widget-size']!= '') ? $general_settings['mobile-widget-size'] : 'medium'; ?>
					<select id="myStickyelements-widget-mobile-size" name="general-settings[mobile-widget-size]" >
						<option value="small" <?php selected( @$general_settings['mobile-widget-size'], 'small' ); ?>><?php _e( 'Small', 'mystickyelements' );?></option>
						<option value="medium" <?php selected( @$general_settings['mobile-widget-size'], 'medium' ); ?>><?php _e( 'Medium', 'mystickyelements' );?></option>
						<option value="large" <?php selected( @$general_settings['mobile-widget-size'], 'large' ); ?>><?php _e( 'Large', 'mystickyelements' );?></option>
					</select>
				</div>
			</td>
		</tr>
		<tr>
			<td>
				<span class="myStickyelements-label" >
					<?php _e( 'Entry effect', 'mystickyelements' );?></label>
				</span>
				<div class="myStickyelements-inputs myStickyelements-label">
					<?php $general_settings['entry-effect'] = (isset($general_settings['entry-effect']) && $general_settings['entry-effect']!= '') ? $general_settings['entry-effect'] : 'slide-in'; ?>
					<select id="myStickyelements-entry-effect" name="general-settings[entry-effect]" >
						<option value="none" <?php selected( @$general_settings['entry-effect'], 'none' ); ?>><?php _e( 'None', 'mystickyelements' );?></option>
						<option value="slide-in" <?php selected( @$general_settings['entry-effect'], 'slide-in' ); ?>><?php _e( 'Slide in', 'mystickyelements' );?></option>
						<option value="fade" <?php selected( @$general_settings['entry-effect'], 'fade' ); ?>><?php _e( 'Fade', 'mystickyelements' );?></option>
					</select>
				</div>
			</td>
		</tr>
		<!-- Show On Pages Rules -->
		<tr class="show-on-apper">
			<td colspan="2">
				<div class="myStickyelements-show-on-wrap">
					<span class="myStickyelements-label myStickyelements-extra-label">
						<label><?php _e( 'Show on Pages', 'mystickyelements' );?></label>
						<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
							<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
							<p><?php esc_html_e("Show or don't show the widget on specific pages. You can use rules like contains, exact match, starts with, and ends with", 'mystickyelements'); ?></p>
						</div>
					</span>
					<div class="myStickyelements-show-on-right">
						<div class="myStickyelements-page-options myStickyelements-inputs" id="myStickyelements-page-options">
							<?php $page_option = (isset($general_settings['page_settings'])) ? $general_settings['page_settings'] : array();
							$url_options = array(
								'page_contains' => 'pages that contain',
								'page_has_url' => 'a specific page',
								'page_start_with' => 'pages starting with',
								'page_end_with' => 'pages ending with',
							);

							if(!empty($page_option) && is_array($page_option)) {
								$count = 0;
								foreach($page_option as $k=>$option) {
									$count++;
									?>
									<div class="myStickyelements-page-option <?php echo $k==count($page_option)?"last":""; ?>">
										<div class="url-content">
											<div class="myStickyelements-url-select">
												<select name="general-settings[page_settings][<?php echo $count; ?>][shown_on]" id="url_shown_on_<?php echo $count  ?>_option">
													<option value="show_on" <?php echo $option['shown_on']=="show_on"?"selected":"" ?> ><?php esc_html_e( 'Show on', 'mystickyelements' )?></option>
													<option value="not_show_on" <?php echo $option['shown_on']=="not_show_on"?"selected":"" ?>><?php esc_html_e( "Don't show on", "mystickyelements" );?></option>
												</select>
											</div>
											<div class="myStickyelements-url-option">
												<select class="myStickyelements-url-options" name="general-settings[page_settings][<?php echo $count; ?>][option]" id="url_rules_<?php echo $count  ?>_option">
													<option disabled value=""><?php esc_html_e( "Select Rule", "mystickyelements" );?></option>
													<?php foreach($url_options as $key=>$value) {
														$selected = ( isset($option['option']) && $option['option']==$key )?" selected='selected' ":"";
														echo '<option '.$selected.' value="'.$key.'">'.$value.'</option>';
													} ?>
												</select>
											</div>
											<div class="myStickyelements-url-box">
												<span class='myStickyelements-url'><?php echo site_url("/"); ?></span>
											</div>
											<div class="myStickyelements-url-values">
												<input type="text" value="<?php echo $option['value'] ?>" name="general-settings[page_settings][<?php echo $count; ?>][value]" id="url_rules_<?php echo $count; ?>_value" />
											</div>
											<div class="myStickyelements-url-buttons">
												<a class="myStickyelements-remove-rule" href="javascript:;">x</a>
											</div>
											<div class="clear"></div>
										</div>
									</div>
									<?php
								}
							}
							?>

						</div>
						<a href="javascript:void(0);" class="create-rule" id="create-rule"><?php esc_html_e( "Add Rule", "mystickyelements" );?></a>
						<a href="javascript:void(0);" class="create-rule remove-rule" id="remove-page-rules" <?php if(empty($page_option) ) :?>style="display:none" <?php endif;?>><?php esc_html_e( "Remove Rules", "mystickyelements" );?></a>
					</div>
				</div>
			</td>
		</tr>
		<!-- END Show on Pages -->
		
		<!-- Show On Days & Hours -->
		<tr class="show-on-apper">
			<td colspan="2">
				<div class="myStickyelements-show-on-wrap">
					<span class="myStickyelements-label myStickyelements-extra-label">
						<label><?php _e( 'Days and Hours', 'mystickyelements' );?></label>
						<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
							<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
							<p><?php esc_html_e("Display the widget on specific days and hours based on your opening days and hours", 'mystickyelements'); ?></p>
						</div>
					</span>
					<div class="myStickyelements-show-on-right">
						<div class="myStickyelements-days-hours-options myStickyelements-inputs" id="myStickyelements-days-hours-options">
							<?php 
							$days_hours = (isset($general_settings['days-hours'])) ? $general_settings['days-hours'] : array();
							$days = array(
											"0" => "Everyday of week",
											"1" => "Sunday",
											"2" => "Monday",
											"3" => "Tuesday",
											"4" => "Wednesday",
											"5" => "Thursday",
											"6" => "Friday",
											"7" => "Saturday",
											"8" => "Sunday to Thursday",
											"9" => "Monday to Friday",
											"10" => "Weekend",
										);

							if(!empty($days_hours) && is_array($days_hours)) {
								$count = 0;
								foreach($days_hours as $k=>$day_hour) {
									$count++;
									?>
									<div class="myStickyelements-page-option <?php echo $k==count($days_hours)?"last":""; ?>">
										<div class="url-content">
											<div class="myStickyelements-url-select">
												<select name="general-settings[days-hours][<?php echo $count; ?>][days]" id="url_shown_on_<?php echo $count  ?>_option">
													<?php foreach ($days as $key=>$value) { ?>
														<option <?php echo ($key == $day_hour['days'])?'selected="selected"':''; ?> value="<?php echo $key; ?>"><?php echo $value; ?></option>
													<?php } ?>
												</select>
											</div>
											<div class="myStickyelements-url-option">
												<label class="myStickyelements-days-hours-label-wrap">
													<span class="myStickyelements-days-hours-label">From</span>
													<input type="text" class=" time-picker ui-timepicker-input timepicker_time"  value="<?php echo $day_hour['start_time']; ?>" name="general-settings[days-hours][<?php echo $count; ?>][start_time]" id="start_time_<?php echo $count ?>" />
												</label>
											</div>
											<div class="myStickyelements-url-box">
												<label class="myStickyelements-days-hours-label-wrap">
													<span class="myStickyelements-days-hours-label">To</span>
													<input type="text" class=" time-picker ui-timepicker-input timepicker_time"  value="<?php echo $day_hour['end_time']; ?>" name="general-settings[days-hours][<?php echo $count ?>][end_time]" id="end_time_<?php echo $count ?>" />
												</label>
											</div>
											<div class="myStickyelements-url-values">
												<label class="myStickyelements-days-hours-label-wrap">
													<span class="myStickyelements-days-hours-label">Time Zone</span>
													<select class=" gmt-data stickyelement-gmt-timezone gmt-timezone" name="general-settings[days-hours][<?php echo $count; ?>][gmt]" id="url_shown_on_<?php echo $count; ?>_option">
														<?php echo stickyelement_timezone_choice( $day_hour['gmt'], false );?>
													</select>
												</label>
											</div>
											<div class="myStickyelements-url-buttons">
												<a class="myStickyelements-remove-rule" href="javascript:;">x</a>
											</div>
											<div class="clear"></div>
										</div>
									</div>
									<?php
								}
							}
							?>

						</div>
						<a href="javascript:void(0);" class="create-rule" id="create-data-and-time-rule"><?php esc_html_e( "Add Rule", "mystickyelements" );?></a>
						<a href="javascript:void(0);" class="create-rule remove-rule" id="remove-data-and-time-rule"<?php if(empty($days_hours) ) :?> style="display:none" <?php endif;?>><?php esc_html_e( "Remove Rules", "mystickyelements" );?></a>
					</div>
				</div>
			</td>
		</tr>
		<!-- END Days and Hours -->
		
		
		<!-- Traffic Source -->
		<tr>
			<td>
				<span class="myStickyelements-label myStickyelements-extra-label" >
					<label for="traffic-add-other-source"><?php _e( "Traffic source", 'mystickyelements' );?></label>
					<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
						<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
						<p><?php esc_html_e("Show the widget only to visitors who come from specific traffic sources including direct traffic, social networks, search engines, Google Ads, or any other traffic source", 'mystickyelements'); ?></p>
					</div>
				</span>
				<div class="myStickyelements-show-on-right myStickyelements-inputs myStickyelements-traffic-source-right">
					<div class=" myStickyelements-label myStickyelements-traffic-source-inputs traffic-source-option <?php echo esc_attr($is_pro_active?"is-pro":"not-pro") ?>" <?php if ( $direct_visit == '' && $social_network == '' && $search_engines == '' && $google_ads == '' && empty($other_source_url) ):?>style="display:none;" <?php endif;?>>
						<div class="traffic-direct-source clear">
							<label class="myStickyelements-switch">
								<input type="checkbox" id="myStickyelements-direct-traffic-source" <?php if($is_pro_active){ ?>name="general-settings[traffic-source][direct-visit]"<?php } ?> value="1"  <?php if($direct_visit == "1"){ echo "checked"; } ?>  <?php echo !$is_pro_active?"disabled":"" ?> />
								<span class="slider round"></span>
							</label>
							<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
								<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
								<p><?php esc_html_e("Show the poptin to visitors who arrived to your website from direct traffic", 'mystickyelements'); ?></p>
							</div>
							<label for="myStickyelements-direct-traffic-source">
								Direct visit
								
							</label>
						</div>
						<br />
						<div class="traffic-social-network-source clear">
							<label class="myStickyelements-switch">
								<input type="checkbox" id="myStickyelements-social-network-traffic-source" <?php if($is_pro_active){ ?>name="general-settings[traffic-source][social-network]"<?php } ?> value="1"  <?php if($social_network == "1"){ echo "checked"; } ?>  <?php echo !$is_pro_active?"disabled":"" ?> />
								<span class="slider round"></span>
							</label>
							<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
								<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
								<p><?php esc_html_e("Show the poptin to visitors who arrived to your website from social networks including: Facebook, Twitter, Pinterest, Instagram, Google+, LinkedIn, Delicious, Tumblr, Dribbble, StumbleUpon, Flickr, Plaxo, Digg and more", 'mystickyelements'); ?></p>
							</div>
							<label for="myStickyelements-social-network-traffic-source">
								Social networks
								
							</label>
						</div>
						<br />
						<div class="traffic-search-engines-source clear">
							<label class="myStickyelements-switch">
								<input type="checkbox" id="myStickyelements-search-engines-traffic-source" <?php if($is_pro_active){ ?>name="general-settings[traffic-source][search-engines]"<?php } ?> value="1"  <?php if($search_engines == "1"){ echo "checked"; } ?>  <?php echo !$is_pro_active?"disabled":"" ?> />
								<span class="slider round"></span>
							</label>
							<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
								<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
								<p><?php esc_html_e("Show the poptin to visitors who arrived from search engines including: Google, Bing, Yahoo!, Yandex, AOL, Ask, WOW,  WebCrawler, Baidu and more", 'mystickyelements'); ?></p>
							</div>
							<label for="myStickyelements-search-engines-traffic-source">
								Search engines
								
							</label>
						</div>
						<br />
						<div class="traffic-google-ads-source clear">
							<label class="myStickyelements-switch">
								<input type="checkbox" id="myStickyelements-google-ads-traffic-source" <?php if($is_pro_active){ ?>name="general-settings[traffic-source][google-ads]" <?php } ?> value="1" <?php if($google_ads == "1"){ echo "checked"; } ?>  <?php echo !$is_pro_active?"disabled":"" ?> />
								<span class="slider round"></span>
							</label>
							<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
								<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
								<p><?php esc_html_e("Show the poptin to visitors who arrived from search engines including: Google, Bing, Yahoo!, Yandex, AOL, Ask, WOW,  WebCrawler, Baidu and more", 'mystickyelements'); ?></p>
							</div>
							<label for="myStickyelements-google-ads-traffic-source">
							
								Google Ads
								
							</label>
						</div>
						<br />
						<div class="traffic-other-source clear">
							<div class="other-source-features clear">
								<table id="custom-traffic-source-lists" width="100%">
									<thead>
										<tr>
											<th colspan="3">Specific URL</th>
										</tr>
									</thead>
									<tbody>
										<?php if ( !empty($other_source_url)): ?>
											<?php for($i=0; $i<sizeof($other_source_url); $i++ ):?>
												<tr>
													<td>
														<select <?php if($is_pro_active){ ?>name="general-settings[traffic-source][other-source-option][]"<?php }?>  <?php echo !$is_pro_active?"disabled":"" ?> >
															<option value="contain" <?php if($other_source_option[$i] == "contain"){ echo "selected"; } ?> >Contains</option>
															<option value="not_contain" <?php if($other_source_option[$i] == "not_contain"){ echo "selected"; } ?> >Not contains</option>
														</select>
													</td>
													<td>
														<input type="text" <?php if($is_pro_active){ ?>name="general-settings[traffic-source][other-source-url][]"<?php }?> value="<?php echo $other_source_url[$i];?>" placeholder="http://www.example.com"  <?php echo !$is_pro_active?"disabled":"" ?> />
													</td>
													<td>
														<div class="day-buttons">
															<a href="javascript:;" class="traffic-delete-other-source">X</a>
														</div>
													</td>									
												</tr>
											<?php endfor;?>
											
										<?php else : ?>
											<tr>
												<td>
													<select <?php if($is_pro_active){ ?>name="general-settings[traffic-source][other-source-option][]"<?php }?> <?php echo !$is_pro_active?"disabled":"" ?> >
														<option value="contain">Contains</option>
														<option value="not_contain">Not contains</option>
													</select>
												</td>
												<td>
													<input type="text" <?php if($is_pro_active){ ?>name="general-settings[traffic-source][other-source-url][]"<?php }?> value="" placeholder="http://www.example.com" <?php echo !$is_pro_active?"disabled":"" ?> />
												</td>
												<td>
													<div class="day-buttons">
														<a href="javascript:;" class="traffic-delete-other-source">X</a>
													</div>
												</td>								
											</tr>
										<?php endif;?>
									</tbody>
								</table>							
							</div>
						</div>
						<?php if(!$is_pro_active) {?>
							<span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span>
						<?php } ?>
					</div>
					<?php if ( $direct_visit == '' && $social_network == '' && $search_engines == '' && $google_ads == '' && empty($other_source_url) ){
						$traffic_class	= 'traffic-add-source';
					} else {
						$traffic_class	= 'traffic-add-other-source';
					}
					?>
					<a href="javascript:void(0);" class="<?php echo $traffic_class;?> create-rule" id="traffic-add-other-source"><?php esc_html_e( "Add Rule", "mystickyelements" );?></a>
					<a href="javascript:void(0);" class="create-rule remove-rule" id="remove-traffic-add-other-source" <?php if ( $direct_visit == '' && $social_network == '' && $search_engines == '' && $google_ads == '' && empty($other_source_url) ):?> style="display:none"<?php endif;?>><?php esc_html_e( "Remove Rules", "mystickyelements" );?></a>
				</div>
			</td>
		</tr>
		
		<!-- END Traffic Source -->
		<?php $countries = array(array("short_name" => "AF", "country_name" => "Afghanistan"), array("short_name" => "AL", "country_name" => "Albania"), array("short_name" => "DZ", "country_name" => "Algeria"), array("short_name" => "AD", "country_name" => "Andorra"), array("short_name" => "AO", "country_name" => "Angola"), array("short_name" => "AI", "country_name" => "Anguilla"), array("short_name" => "AG", "country_name" => "Antigua and Barbuda"), array("short_name" => "AR", "country_name" => "Argentina"), array("short_name" => "AM", "country_name" => "Armenia"), array("short_name" => "AW", "country_name" => "Aruba"), array("short_name" => "AU", "country_name" => "Australia"), array("short_name" => "AT", "country_name" => "Austria"), array("short_name" => "AZ", "country_name" => "Azerbaijan"), array("short_name" => "BS", "country_name" => "Bahamas"), array("short_name" => "BH", "country_name" => "Bahrain"), array("short_name" => "BD", "country_name" => "Bangladesh"), array("short_name" => "BB", "country_name" => "Barbados"), array("short_name" => "BY", "country_name" => "Belarus"), array("short_name" => "BE", "country_name" => "Belgium"), array("short_name" => "BZ", "country_name" => "Belize"), array("short_name" => "BJ", "country_name" => "Benin"), array("short_name" => "BM", "country_name" => "Bermuda"), array("short_name" => "BT", "country_name" => "Bhutan"), array("short_name" => "BO", "country_name" => "Bolivia"), array("short_name" => "BA", "country_name" => "Bosnia and Herzegowina"), array("short_name" => "BW", "country_name" => "Botswana"), array("short_name" => "BV", "country_name" => "Bouvet Island"), array("short_name" => "BR", "country_name" => "Brazil"), array("short_name" => "IO", "country_name" => "British Indian Ocean Territory"), array("short_name" => "BN", "country_name" => "Brunei Darussalam"), array("short_name" => "BG", "country_name" => "Bulgaria"), array("short_name" => "BF", "country_name" => "Burkina Faso"), array("short_name" => "BI", "country_name" => "Burundi"), array("short_name" => "KH", "country_name" => "Cambodia"), array("short_name" => "CM", "country_name" => "Cameroon (Republic of Cameroon)"), array("short_name" => "CA", "country_name" => "Canada"), array("short_name" => "CV", "country_name" => "Cape Verde"), array("short_name" => "KY", "country_name" => "Cayman Islands"), array("short_name" => "CF", "country_name" => "Central African Republic"), array("short_name" => "TD", "country_name" => "Chad"), array("short_name" => "CL", "country_name" => "Chile"), array("short_name" => "CN", "country_name" => "China"), array("short_name" => "CX", "country_name" => "Christmas Island"), array("short_name" => "CC", "country_name" => "Cocos (Keeling) Islands"), array("short_name" => "CO", "country_name" => "Colombia"), array("short_name" => "KM", "country_name" => "Comoros"), array("short_name" => "CG", "country_name" => "Congo"), array("short_name" => "CK", "country_name" => "Cook Islands"), array("short_name" => "CR", "country_name" => "Costa Rica"), array("short_name" => "CI", "country_name" => "Cote D\Ivoire"), array("short_name" => "HR", "country_name" => "Croatia"), array("short_name" => "CU", "country_name" => "Cuba"), array("short_name" => "CY", "country_name" => "Cyprus"), array("short_name" => "CZ", "country_name" => "Czech Republic"), array("short_name" => "DK", "country_name" => "Denmark"), array("short_name" => "DJ", "country_name" => "Djibouti"), array("short_name" => "DM", "country_name" => "Dominica"), array("short_name" => "DO", "country_name" => "Dominican Republic"), array("short_name" => "EC", "country_name" => "Ecuador"), array("short_name" => "EG", "country_name" => "Egypt"), array("short_name" => "SV", "country_name" => "El Salvador"), array("short_name" => "GQ", "country_name" => "Equatorial Guinea"), array("short_name" => "ER", "country_name" => "Eritrea"), array("short_name" => "EE", "country_name" => "Estonia"), array("short_name" => "ET", "country_name" => "Ethiopia"), array("short_name" => "FK", "country_name" => "Falkland Islands (Malvinas)"), array("short_name" => "FO", "country_name" => "Faroe Islands"), array("short_name" => "FJ", "country_name" => "Fiji"), array("short_name" => "FI", "country_name" => "Finland"), array("short_name" => "FR", "country_name" => "France"), array("short_name" => "Me", "country_name" => "Montenegro"), array("short_name" => "GF", "country_name" => "French Guiana"), array("short_name" => "PF", "country_name" => "French Polynesia"), array("short_name" => "TF", "country_name" => "French Southern Territories"), array("short_name" => "GA", "country_name" => "Gabon"), array("short_name" => "GM", "country_name" => "Gambia"), array("short_name" => "GE", "country_name" => "Georgia"), array("short_name" => "DE", "country_name" => "Germany"), array("short_name" => "GH", "country_name" => "Ghana"), array("short_name" => "GI", "country_name" => "Gibraltar"), array("short_name" => "GR", "country_name" => "Greece"), array("short_name" => "GL", "country_name" => "Greenland"), array("short_name" => "GD", "country_name" => "Grenada"), array("short_name" => "GP", "country_name" => "Guadeloupe"), array("short_name" => "GT", "country_name" => "Guatemala"), array("short_name" => "GN", "country_name" => "Guinea"), array("short_name" => "GW", "country_name" => "Guinea bissau"), array("short_name" => "GY", "country_name" => "Guyana"), array("short_name" => "HT", "country_name" => "Haiti"), array("short_name" => "HM", "country_name" => "Heard Island And Mcdonald Islands"), array("short_name" => "HN", "country_name" => "Honduras"), array("short_name" => "HK", "country_name" => "Hong Kong"), array("short_name" => "HU", "country_name" => "Hungary"), array("short_name" => "IS", "country_name" => "Iceland"), array("short_name" => "IN", "country_name" => "India"), array("short_name" => "ID", "country_name" => "Indonesia"), array("short_name" => "IR", "country_name" => "Iran, Islamic Republic Of"), array("short_name" => "IQ", "country_name" => "Iraq"), array("short_name" => "IE", "country_name" => "Ireland"), array("short_name" => "IL", "country_name" => "Israel"), array("short_name" => "IT", "country_name" => "Italy"), array("short_name" => "JM", "country_name" => "Jamaica"), array("short_name" => "JP", "country_name" => "Japan"), array("short_name" => "JO", "country_name" => "Jordan"), array("short_name" => "KZ", "country_name" => "Kazakhstan"), array("short_name" => "KE", "country_name" => "Kenya"), array("short_name" => "KI", "country_name" => "Kiribati"), array("short_name" => "KP", "country_name" => "Korea, Democratic People's Republic Of"), array("short_name" => "KR", "country_name" => "South Korea"), array("short_name" => "KW", "country_name" => "Kuwait"), array("short_name" => "KG", "country_name" => "Kyrgyzstan"), array("short_name" => "LA", "country_name" => "Lao People\s Democratic Republic"), array("short_name" => "LV", "country_name" => "Latvia"), array("short_name" => "LB", "country_name" => "Lebanon"), array("short_name" => "LS", "country_name" => "Lesotho"), array("short_name" => "LR", "country_name" => "Liberia"), array("short_name" => "LY", "country_name" => "Libyan Arab Jamahiriya"), array("short_name" => "LI", "country_name" => "Liechtenstein"), array("short_name" => "LT", "country_name" => "Lithuania"), array("short_name" => "LU", "country_name" => "Luxembourg"), array("short_name" => "MO", "country_name" => "Macao"), array("short_name" => "MK", "country_name" => "Macedonia"), array("short_name" => "MG", "country_name" => "Madagascar"), array("short_name" => "MW", "country_name" => "Malawi"), array("short_name" => "MY", "country_name" => "Malaysia"), array("short_name" => "MV", "country_name" => "Maldives"), array("short_name" => "ML", "country_name" => "Mali"), array("short_name" => "MT", "country_name" => "Malta"), array("short_name" => "MQ", "country_name" => "Martinique"), array("short_name" => "MR", "country_name" => "Mauritania"), array("short_name" => "MU", "country_name" => "Mauritius"), array("short_name" => "YT", "country_name" => "Mayotte"), array("short_name" => "MD", "country_name" => "Moldova"), array("short_name" => "MC", "country_name" => "Monaco"), array("short_name" => "MN", "country_name" => "Mongolia"), array("short_name" => "MS", "country_name" => "Montserrat"), array("short_name" => "MA", "country_name" => "Morocco"), array("short_name" => "MZ", "country_name" => "Mozambique"), array("short_name" => "MM", "country_name" => "Myanmar"), array("short_name" => "NA", "country_name" => "Namibia"), array("short_name" => "NR", "country_name" => "Nauru"), array("short_name" => "NP", "country_name" => "Nepal"), array("short_name" => "NL", "country_name" => "Netherlands"), array("short_name" => "AN", "country_name" => "Netherlands Antilles"), array("short_name" => "NC", "country_name" => "New Caledonia"), array("short_name" => "NZ", "country_name" => "New Zealand"), array("short_name" => "NI", "country_name" => "Nicaragua"), array("short_name" => "NE", "country_name" => "Niger"), array("short_name" => "NG", "country_name" => "Nigeria"), array("short_name" => "NU", "country_name" => "Niue"), array("short_name" => "NF", "country_name" => "Norfolk Island"), array("short_name" => "NO", "country_name" => "Norway"), array("short_name" => "OM", "country_name" => "Oman"), array("short_name" => "PK", "country_name" => "Pakistan"), array("short_name" => "PA", "country_name" => "Panama"), array("short_name" => "PG", "country_name" => "Papua New Guinea"), array("short_name" => "PY", "country_name" => "Paraguay"), array("short_name" => "PE", "country_name" => "Peru"), array("short_name" => "PH", "country_name" => "Philippines"), array("short_name" => "PN", "country_name" => "Pitcairn"), array("short_name" => "PL", "country_name" => "Poland"), array("short_name" => "PT", "country_name" => "Portugal"), array("short_name" => "QA", "country_name" => "Qatar"), array("short_name" => "RE", "country_name" => "Reunion"), array("short_name" => "RO", "country_name" => "Romania"), array("short_name" => "RU", "country_name" => "Russia"), array("short_name" => "RW", "country_name" => "Rwanda"), array("short_name" => "KN", "country_name" => "Saint Kitts and Nevis"), array("short_name" => "LC", "country_name" => "Saint Lucia"), array("short_name" => "VC", "country_name" => "St. Vincent"), array("short_name" => "WS", "country_name" => "Samoa"), array("short_name" => "SM", "country_name" => "San Marino"), array("short_name" => "ST", "country_name" => "Sao Tome and Principe"), array("short_name" => "SA", "country_name" => "Saudi Arabia"), array("short_name" => "SN", "country_name" => "Senegal"), array("short_name" => "SC", "country_name" => "Seychelles"), array("short_name" => "SL", "country_name" => "Sierra Leone"), array("short_name" => "SG", "country_name" => "Singapore"), array("short_name" => "SK", "country_name" => "Slovakia"), array("short_name" => "SI", "country_name" => "Slovenia"), array("short_name" => "SB", "country_name" => "Solomon Islands"), array("short_name" => "SO", "country_name" => "Somalia"), array("short_name" => "ZA", "country_name" => "South Africa"), array("short_name" => "GS", "country_name" => "South Georgia & South Sandwich Islands"), array("short_name" => "ES", "country_name" => "Spain"), array("short_name" => "LK", "country_name" => "Sri Lanka"), array("short_name" => "SH", "country_name" => "Saint Helena"), array("short_name" => "PM", "country_name" => "Saint Pierre And Miquelon"), array("short_name" => "SD", "country_name" => "Sudan"), array("short_name" => "SR", "country_name" => "Suriname"), array("short_name" => "SJ", "country_name" => "Svalbard And Jan Mayen"), array("short_name" => "SZ", "country_name" => "Swaziland"), array("short_name" => "SE", "country_name" => "Sweden"), array("short_name" => "CH", "country_name" => "Switzerland"), array("short_name" => "SY", "country_name" => "Syria"), array("short_name" => "TW", "country_name" => "Taiwan"), array("short_name" => "TJ", "country_name" => "Tajikistan"), array("short_name" => "TZ", "country_name" => "Tanzania, United Republic Of"), array("short_name" => "TH", "country_name" => "Thailand"), array("short_name" => "TG", "country_name" => "Togo"), array("short_name" => "TK", "country_name" => "Tokelau"), array("short_name" => "TO", "country_name" => "Tonga"), array("short_name" => "TT", "country_name" => "Trinidad and Tobago"), array("short_name" => "TN", "country_name" => "Tunisia"), array("short_name" => "TR", "country_name" => "Turkey"), array("short_name" => "TM", "country_name" => "Turkmenistan"), array("short_name" => "TC", "country_name" => "Turks and Caicos Islands"), array("short_name" => "TV", "country_name" => "Tuvalu"), array("short_name" => "UG", "country_name" => "Uganda"), array("short_name" => "UA", "country_name" => "Ukraine"), array("short_name" => "AE", "country_name" => "United Arab Emirates"), array("short_name" => "GB", "country_name" => "United Kingdom"), array("short_name" => "US", "country_name" => "United States"), array("short_name" => "UM", "country_name" => "United States Minor Outlying Islands"), array("short_name" => "UY", "country_name" => "Uruguay"), array("short_name" => "UZ", "country_name" => "Uzbekistan"), array("short_name" => "VU", "country_name" => "Vanuatu"), array("short_name" => "VA", "country_name" => "Holy See (Vatican City State)"), array("short_name" => "VE", "country_name" => "Venezuela"), array("short_name" => "VN", "country_name" => "Vietnam"), array("short_name" => "VG", "country_name" => "Virgin Islands (British)"), array("short_name" => "WF", "country_name" => "Wallis and Futuna Islands"), array("short_name" => "EH", "country_name" => "Western Sahara"), array("short_name" => "YE", "country_name" => "Yemen"), array("short_name" => "ZM", "country_name" => "Zambia"), array("short_name" => "ZW", "country_name" => "Zimbabwe"), array("short_name" => "AX", "country_name" => "Aland Islands"), array("short_name" => "CD", "country_name" => "Congo, The Democratic Republic Of The"), array("short_name" => "CW", "country_name" => "Cura√ßao"), array("short_name" => "GG", "country_name" => "Guernsey"), array("short_name" => "IM", "country_name" => "Isle Of Man"), array("short_name" => "JE", "country_name" => "Jersey"), array("short_name" => "KV", "country_name" => "Kosovo"), array("short_name" => "PS", "country_name" => "Palestinian Territory"), array("short_name" => "BL", "country_name" => "Saint Barth√©lemy"), array("short_name" => "MF", "country_name" => "Saint Martin"), array("short_name" => "RS", "country_name" => "Serbia"), array("short_name" => "SX", "country_name" => "Sint Maarten"), array("short_name" => "TL", "country_name" => "Timor Leste"), array("short_name" => "MX", "country_name" => "Mexico"));
		$selected_countries = (isset($general_settings['countries_list'])) ? $general_settings['countries_list'] : '' ;
		$selected_countries = ( $selected_countries === false || empty($selected_countries) || !is_array($selected_countries) ) ? array() : $selected_countries;
		$count = count($selected_countries);
		$countries_message =  "All countries";
		if($count == 1) {
			$countries_message = "1 country selected";
		} else if($count > 1){
			$countries_message = $count." countries selected";
		}
		?>
		<tr>
			<td>
				<span class="myStickyelements-label" >
					<label for="countries_list"><?php _e( "Country targeting", 'mystickyelements' );?></label>
					<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
						<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
						<p><?php esc_html_e("Target your widget to specific countries. You can create different widgets for different countries", 'mystickyelements'); ?></p>
					</div>
				</span>
				<div class="myStickyelements-inputs myStickyelements-label myStickyelements-country-inputs <?php echo esc_attr($is_pro_active?"is-pro":"not-pro") ?>">
					<button type="button" class="myStickyelements-country-button"><?php echo esc_attr($countries_message) ?></button>
					<div class="myStickyelements-country-list-box">
						<select id="countries_list" name="general-settings[countries_list][]" multiple placeholder="Select Country" class="myStickyelements-country-list <?php echo esc_attr($is_pro_active?"is-pro":"not-pro") ?>" <?php echo !$is_pro_active?"disabled":"" ?>>
							<?php foreach($countries as $country) {
								$selected = in_array($country["short_name"], $selected_countries)?"selected":"";
								?>
								<option <?php echo esc_attr($selected) ?> value="<?php echo esc_attr($country["short_name"]) ?>"><?php echo esc_attr($country["country_name"]) ?></option>
							<?php } ?>
						</select>
					</div>
					<?php if(!$is_pro_active) {?>
						<span class="upgrade-myStickyelements">
							<a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a>
						</span>
					<?php } ?>
				</div>
			</td>
		</tr>									
		<tr>
			<td>
				<span class="myStickyelements-label" ><label for="general-settings-tabs-css"><?php _e( 'Tabs CSS', 'mystickyelements' );?></label></span>

				<?php if(!$is_pro_active) {?><span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span><?php } ?>
				<textarea  <?php echo !$is_pro_active?"disabled":"" ?> name="general-settings[tabs_css]" rows="5" cols="50" id="general-settings-tabs-css" class="code"><?php echo ( isset($general_settings['tabs_css'])) ? stripslashes($general_settings['tabs_css']) : '';?></textarea>
			</td>
		</tr>
	</table>
	<input type="hidden" id="myStickyelements_site_url" value="<?php echo site_url("/") ?>" >
	<div class="myStickyelements-page-options-html" style="display: none">
		<div class="myStickyelements-page-option">
			<div class="url-content">
				<div class="myStickyelements-url-select">
					<select name="general-settings[page_settings][__count__][shown_on]" id="url_shown_on___count___option" <?php echo !$is_pro_active?"disabled":"" ?>>
						<option value="show_on"><?php esc_html_e("Show on", "mystickyelements" );?></option>
						<option value="not_show_on"><?php esc_html_e("Don't show on", "mystickyelements" );?></option>
					</select>
				</div>
				<div class="myStickyelements-url-option">
					<select class="myStickyelements-url-options" name="general-settings[page_settings][__count__][option]" id="url_rules___count___option" <?php echo !$is_pro_active?"disabled":"" ?>>
						<option selected="selected" disabled value=""><?php esc_html_e("Select Rule", "mystickyelements" );?></option>
						<?php foreach($url_options as $key=>$value) {
							echo '<option value="'.$key.'">'.$value.'</option>';
						} ?>
					</select>
				</div>
				<div class="myStickyelements-url-box">
					<span class='myStickyelements-url'><?php echo site_url("/"); ?></span>
				</div>
				<div class="myStickyelements-url-values">
					<input type="text" value="" name="general-settings[page_settings][__count__][value]" id="url_rules___count___value" <?php echo !$is_pro_active?"disabled":"" ?> />
				</div>
				<div class="myStickyelements-url-buttons">
					<a class="myStickyelements-remove-rule" href="javascript:void(0);">x</a>
				</div>
				<div class="clear"></div>
			</div>
			<?php if(!$is_pro_active) {?>
				<span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span>
			<?php } ?>

		</div>
	</div>
</div>
<!-- Days & Hours HTML--->
<div class="myStickyelements-days_hours-options-html" style="display: none">
	<div class="myStickyelements-page-option">
		<div class="url-content">
			<div class="myStickyelements-url-select">
				<select name="general-settings[days-hours][__count__][days]" id="url_shown_on___count___option">
					<?php foreach ($days as $key=>$value) { ?>
						<option value="<?php echo $key; ?>"><?php echo $value; ?></option>
					<?php } ?>
				</select>
			</div>
			<div class="myStickyelements-url-option">
				<label class="myStickyelements-days-hours-label-wrap">
					<span class="myStickyelements-days-hours-label">From</span>
					<input type="text" class=" time-picker ui-timepicker-input"  value="" name="general-settings[days-hours][__count__][start_time]" id="start_time___count__" />
				</label>
			</div>
			<div class="myStickyelements-url-box">
				<label class="myStickyelements-days-hours-label-wrap">
					<span class="myStickyelements-days-hours-label">To</span>
					<input type="text" class=" time-picker ui-timepicker-input"  value="" name="general-settings[days-hours][__count__][end_time]" id="end_time___count__" />
				</label>
			</div>
			<div class="myStickyelements-url-values">
				<label class="myStickyelements-days-hours-label-wrap">
					<span class="myStickyelements-days-hours-label">Time Zone</span>
					<select class=" gmt-data stickyelement-gmt-timezone" name="general-settings[days-hours][__count__][gmt]" id="url_shown_on___count___option">
						<?php echo stickyelement_timezone_choice( '', false );?>
					</select>
				</label>
			</div>
			<div class="myStickyelements-url-buttons">
				<a class="myStickyelements-remove-rule" href="javascript:;">x</a>
			</div>
			<div class="clear"></div>
		</div>
		<?php if(!$is_pro_active) {?>
			<span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span>
		<?php } ?>
	</div>						
</div>




--- END FILE ---

--- FILE: mystickyelements-admin-integration.php ---
<?php
global $wp_version ;

$contact_form = get_option( 'mystickyelements-contact-form' );
$show_mailchimp_integration_popup = get_option( 'mystickyelements_show_mailchimp_integration_popup' );
$show_mailpoet_integration_popup = get_option( 'mystickyelements_show_mailpoet_integration_popup' );

$mailchimp_flg = false;
$mailpoet_flg = false;
$is_integration = -1;

$license_data = MyStickyElementLicense::get_license_data();
$is_pro_active = 0;
if(!empty($license_data)) {
	if($license_data['license'] == "expired" || $license_data['license'] == "valid") {
		$is_pro_active = 1;
	}
}
if( isset($_POST['elements_mc_api_key'])) {
	$mc_api_key = $_POST['elements_mc_api_key'];
	$dataCenter = substr($mc_api_key,strpos($mc_api_key,'-')+1);
	
	$headers = array(
		'Authorization' => 'Basic ' . base64_encode('user:'.$mc_api_key),
		'Content-Type: application/json',
	);
	$data = array(
		'fields' => 'lists', // total_items, _links		
		'count' => 100, // the number of lists to return, default - all
	);
	
	$url = 'https://' . $dataCenter . '.api.mailchimp.com/3.0/lists/?' . http_build_query($data);
	$args = array(
		'method' 		=> 'GET',
		'timeout' 		=> 45,
		'redirection' 	=> 5,
		'httpversion' 	=> '1.0',
		'blocking' 		=> true,
		'user-agent'  	=> 'WordPress/' . $wp_version . '; ' . home_url(),
		'headers'     	=> $headers,		
		'cookies' 		=> array(),
		'sslverify'		=> true,
	);
	$response = wp_remote_get( $url, $args );
	$api_response_body = json_decode( wp_remote_retrieve_body( $response ), true );
	
	if ( isset($api_response_body['lists']) && !empty($api_response_body['lists']) ) {
		update_option( 'elements_mc_api_key', $_POST['elements_mc_api_key']);
		$mailchimp_lists = array();
		foreach( $api_response_body['lists'] as $lists) {
			$mailchimp_lists[] = array('id' => $lists['id'], 'name' => $lists['name']);
		}
		update_option( 'element_mc_lists', $mailchimp_lists);
		$mailchimp_flg = true;
		$is_integration = 1;
	} else {

		update_option( 'elements_mc_api_key', '');
		update_option( 'element_mc_lists', '');
		$mailchimp_flg = false;
		$is_integration = 0;
	}	
}

if ( isset($_POST['mailpoet_connect']) && $_POST['mailpoet_connect'] == 1 ) {
	update_option( 'elements_mailpoet_connect', '1');
	$mailpoet_flg = true;
}

if ( isset($_POST['disconnect_mailchimp']) && $_POST['disconnect_mailchimp'] == 1 ) {
	update_option( 'elements_mc_api_key', '');
	update_option( 'element_mc_lists', '');
}

if ( isset($_POST['disconnect_mailpoet']) && $_POST['disconnect_mailpoet'] == 1 ) {
	update_option( 'elements_mailpoet_connect', '');
}
$elements_mc_api_key = get_option( 'elements_mc_api_key');
$elements_mailpoet_connect = get_option( 'elements_mailpoet_connect');
?>
<div class="mystickyelement-new-widget-wrap">
	<link type="text/css" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins" />	
	<h2 class="text-center mystickyelement-integrate-title-main"><?php esc_html_e( 'Connect your My Sticky Elements form to the following platforms to automatically receive leads', 'mystickyelements' ); ?></h2>
	<div class="mystickyelement-new-widget-row">
		<div class="mystickyelement-features">
			<ul>
				<li>
					<div class="elements-int-container mystickyelement-feature <?php echo ( !$is_pro_active ) ? 'mystickyelement-free' : '';?>">
						<div class="mystickyelement-feature-top">
							<img src="<?php echo MYSTICKYELEMENTS_PRO_URL ?>/images/mailchimp.png" />
						</div>
						<div class="feature-title">Connect your forms to Mailchimp</div>
						<div id="elements-int-container-content feature-description">
							<form method="post" action="" id="elements-mc-form">
								<table width="100%">
									<tr>
										<td colspan="2">
											<?php if($is_pro_active) : ?>
												<input type="text" id="elements-mc-api-key" name="elements_mc_api_key" value="<?php echo (isset($elements_mc_api_key) && $elements_mc_api_key != '') ? substr_replace($elements_mc_api_key,"**********",18,10) : ''; ?>" placeholder="<?php esc_html_e( 'Enter Mailchimp API Key','mystickyelements' );?>" style="width: 100%;background: <?php echo ( isset($elements_mc_api_key) && $elements_mc_api_key != '' ) ? "#F1F5F9" : ""; ?>;" <?php if(isset($elements_mc_api_key) && $elements_mc_api_key != '') : ?> disabled="disabled" <?php endif; ?>>
											<?php endif; ?>
										</td>
									</tr>
									<?php if( $is_integration == 0 ) : ?>
									<tr>
										<td colspan="2">
											<span style="color:red;"><?php esc_html_e('API key is not valid. Please enter a valid key','mystickyelements');?></span>
										</td>
									</tr>
									<?php endif; ?>
									<tr>
										<td class="intergation-buttons-row">
											<p><button class="integrate-element-form button-primary <?php echo ($elements_mc_api_key !='') ? 'btn-connected' : '';?>" <?php if($elements_mc_api_key != ''):?> disabled="disabled" <?php endif; ?>>
												<?php echo ($elements_mc_api_key != '') ? 'Connected' : 'Connect';?></button></p>
										</td>
										<?php if ( isset($elements_mc_api_key ) && $elements_mc_api_key != '' ) :?>
										<td>
											<p><button class="integrate-element-form button-primary btn-disconnected">Disconnect </button></p>
											<input type="hidden" name="disconnect_mailchimp" value ="1" />
										</td>
									<?php endif; ?>
									</tr>
									<?php if ( $elements_mc_api_key == '' ) :?>
									<tr>
										<td>
											<p class="mystickyelement-key-guide-text integration-infotext">
			                                   
			                                    <a href="https://premio.io/help/mystickyelements/how-to-integrate-your-contact-form-with-mailchimp/" target="_blank"><i class="fas fa-info-circle"></i>
													How to create your Mailchimp API key? 
												</a>
											</p>
										</td>
									</tr>
									<?php endif;?>
								</table>
							</form>
						</div>
						<?php if(!$is_pro_active) : ?>
						<div class="mystickyelement-integration-button">
							<a href="<?php echo esc_url(admin_url("admin.php?page=my-sticky-license-key")); ?>" class="new-upgrade-button" target="blank">ACTIVATE YOUR KEY</a>
						</div>
						<?php endif; ?>
					</div>
				</li>
				<li>
					<div class="elements-int-container mystickyelement-feature <?php echo ( !$is_pro_active ) ? 'mystickyelement-free' : '';?>">
						<div class="mystickyelement-feature-top">
							<img src="<?php echo MYSTICKYELEMENTS_PRO_URL ?>/images/mailpoet.png" />
						</div>
						
						<div class="feature-title">Connect your forms to MailPoet</div>
						
						<div id="elements-int-container-content feature-description mailpoet_section">
							<?php
							$plugin = 'mailpoet/mailpoet.php';
							$installed_plugins = get_plugins();	
							if ( isset($installed_plugins[$plugin]) && !is_plugin_active($plugin)) {
					
								if ( ! current_user_can( 'activate_plugins' ) ) {
									return; 
								}
								$activation_url = wp_nonce_url( 'plugins.php?action=activate&amp;plugin=' . $plugin . '&amp;plugin_status=all&amp;paged=1&amp;s', 'activate-plugin_' . $plugin );
								
								$admin_message = '<p class="install-mailpoat-text">&nbsp;</p><p>' . sprintf( '<a href="%s" class="button-primary">%s</a>', $activation_url, esc_html__( 'Connect' ) ) . '</p>';
								
							} elseif ( ! class_exists( '\MailPoet\API\API' ) ) {
								
								$install_url = wp_nonce_url( self_admin_url( 'update.php?action=install-plugin&plugin=mailpoet' ), 'install-plugin_mailpoet' );
								  	
								$admin_message = '<p class="install-mailpoat-text">' . esc_html__( 'Install MailPoet plugin to connect your forms' ) . '</p>';
								
								$admin_message .= '<p>' . sprintf( '<a href="%s" class="button-primary">%s</a>', $install_url, esc_html__( 'Install MailPoet Now' ) ) . '</p>';
							} else {
								$button_disabled = ($elements_mailpoet_connect != "") ? 'disabled="disabled"' : '';
								$connected_btn = ($elements_mailpoet_connect != "") ? 'btn-connected' : '';
								
								$admin_message = '<form method="post" action="" id="elements-mp-form">';
								$admin_message .='<p class="install-mailpoat-text">&nbsp;</p><p style="margin-top:-11px"><button class="integrate-element-form button-primary '.$connected_btn.'" '.$button_disabled.'>
									'. ( ($elements_mailpoet_connect !='') ? 'Connected' : 'Connect' ) .'</button><input type="hidden" name="mailpoet_connect" value="1" /></p>';
								
								$admin_message .= '</form>';
								
								if ( $elements_mailpoet_connect != '' ) {
									$admin_message .= '<form method="post" action="" id="elements-mp-form">';
									$admin_message .='<p style="margin-top: 50px;"><button class="integrate-element-form button-primary btn-disconnected">Disconnect</button></p>';
									$admin_message .= '<input type="hidden" name="disconnect_mailpoet" value ="1" /></form>';
								}
							}
							echo $admin_message;
							?>			
						</div>
						<?php if(!$is_pro_active) : ?>
						<div class="mystickyelement-integration-button">
							<a href="<?php echo esc_url(admin_url("admin.php?page=my-sticky-license-key")); ?>" class="new-upgrade-button" target="blank">ACTIVATE YOUR KEY</a>
						</div>
						<?php endif; ?>
					</div>
				</li>
			</ul>
			<div class="clear clearfix"></div>
		</div>
	</div>	
</div>

<style>
*, ::after, ::before {
    box-sizing: border-box;
}
/*New Widget Page css*/
/* .mystickyelement-new-widget-wrap {
    border-radius: 10px;
    padding: 10px;
    margin: 40px auto 0 auto;
    background-size: auto 100%;
    width: 100%;
    max-width: 776px;
    background: #fff url("../images/bg.png") right bottom no-repeat;
    font-family: 'Poppins';
    line-height: 20px;
} */

/* .mystickyelement-new-widget-wrap h2 {
    font-style: normal;
    font-weight: 600;
    font-size: 20px;
    line-height: 30px;
    color: #1E1E1E;
    margin: 15px 0;
}
.mystickyelement-features ul {
    margin: 0;
    padding: 0;
}
.mystickyelement-features ul li {
    margin: 0;
    width: 33%;
    float: left;
    padding: 10px;
} */
/* .mystickyelement-feature {
    margin: 30px 0 0 0;
    background: #FFFFFF;
    border: 1px solid #605DEC;
    box-sizing: border-box;
    border-radius: 4px;
    padding: 30px 15px 10px 15px;
    min-height: 186px;
    position: relative;
} */
.mystickyelement-feature.mystickyelement-free {
	min-height: 140px;
}
.mystickyelement-feature.second {
    min-height: 155px;
}
/* .feature-title {
    font-family: Poppins;
    font-style: normal;
    font-weight: bold;
    font-size: 13px;
    line-height: 18px;
    color: #1E1E1E;
} */
.feature-description {
    font-family: Poppins;
    font-style: normal;
    font-weight: normal;
    font-size: 13px;
    line-height: 18px;
    color: #1E1E1E;
}
/* a.new-upgrade-button {
    height: 40px;
    background: #605DEC;
    border-radius: 100px;
    border: solid 1px #605DEC;
    display: inline-block;
    text-align: center;
    color: #fff;
    line-height: 40px;
    margin: 0px 0 10px 10px;
    padding: 0 21px;
    text-decoration: none;
    text-transform: uppercase;
} */
a.new-demo-button {
    height: 40px;
    color: #605DEC;
    border: solid 1px #605DEC;
    border-radius: 100px;
    display: inline-block;
    text-align: center;
    background: #fff;
    line-height: 40px;
    margin: 10px 0 10px 10px;
    padding: 0 25px;
    text-decoration: none;
    width: 165px;
}
.mystickyelement-feature.analytics {
    min-height: 115px;
}
/* .mystickyelement-feature-top {
    width: 50px;
    height: 50px;
    border: solid 1px #605dec;
    border-radius: 50%;
    position: absolute;
    left: 0;
    right: 0;
    margin: 0 auto;
    top: -25px;
    background: #fff;
    z-index: 11;
    padding: 10px;
} */
.mystickyelement-feature-top img {
    width: 100%;
    height: auto;
}
/* .integrate-element-form.button-primary.btn-connected{
	background-color: #008000;
} */

.mystickyelement-features ul li:hover .mystickyelement-integration-button{
	display: block;
}
.mystickyelement-integration-button {
	display: none;
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%,-50%);
    z-index: 9;
}

</style>

<?php 
if ( !empty($contact_form) && $show_mailchimp_integration_popup == '' && $mailchimp_flg == 1 ) {
	
	update_option( 'mystickyelements_show_mailchimp_integration_popup', 1 );
	?>
	<div id="myStickyelements-connect-mailchimp" style="display:none;" title="<?php esc_attr_e( 'Connect existing forms', 'mystickyelement-submit-delete' ); ?>">
		<p><?php esc_html_e('Seems like you have existing forms. In order to connect your existing forms to Mailchimp, please go to the widget\'s settings and select "Sends leads to Mailchimp"' ); ?></p>
	</div>
	<style>
	.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset{
		float: none;
		text-align: center;
	}
	.ui-dialog .ui-dialog-titlebar{
		padding: 0px !important;
	}
	#myStickyelements-connect-mailchimp{
		width: 400px !important;
	}
	</style>
	<script>
		( function( $ ) {
			"use strict";
			$(document).ready(function(){
				jQuery( "#myStickyelements-connect-mailchimp" ).dialog({
					resizable: false,
					modal: true,
					draggable: false,
					height: 'auto',
					width: 400,
					buttons: {
						"Got it": {
							click: function () {
								$(this).dialog('close');
							},
							text: 'Got it',
							class: 'purple-btn'
						},												
					}
				});				
			});
		})( jQuery );
	</script>
	<?php
}

if ( !empty($contact_form) && $show_mailpoet_integration_popup == '' && $mailpoet_flg == 1 ) {
	update_option( 'mystickyelements_show_mailpoet_integration_popup', 1 );
	?>
	<div id="myStickyelements-connect-mailpoet" style="display:none;" title="<?php esc_attr_e( 'Connect existing forms', 'mystickyelement-submit-delete' ); ?>">
		<p><?php _e('Seems like you have existing forms. In order to connect your existing forms to MailPoet, please go to the widget\'s settings and select "Sends leads to MailPoet"' ); ?></p>
	</div>
	<style>
	.ui-dialog .ui-dialog-buttonpane .ui-dialog-buttonset{
		float: none;
		text-align: center;
	}
	.ui-dialog .ui-dialog-titlebar{
		padding: 0px !important;
	}
	#myStickyelements-connect-mailpoet{
		width: 400px !important;
	}
	</style>
	<script>
		( function( $ ) {
			"use strict";
			$(document).ready(function(){
				jQuery( "#myStickyelements-connect-mailpoet" ).dialog({
					resizable: false,
					modal: true,
					draggable: false,
					height: 'auto',
					width: 400,
					buttons: {
						"Got it": {
							click: function () {
								$(this).dialog('close');
							},
							text: 'Got it',
							class: 'purple-btn'
						},												
					}
				});				
			});
		})( jQuery );
	</script>
	<?php
}


--- END FILE ---

--- FILE: mystickyelements-duplicate-widget.php ---
<?php 

if(isset($_GET['page']) && $_GET['page'] == "my-sticky-elements-new-widget" && !isset($_GET['copy-from'])) { ?>
    <div class="mystickyelements-popup-form">
        <div class="mystickyelements-popup-overlay"></div>
        <div class="mystickyelements-popup-content">
			<a href="javascript:void(0);" class="mystickyelements-popup-close" onClick="window.history.back()"><svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="10px" height="10px" version="1.1" style="shape-rendering:geometricPrecision; text-rendering:geometricPrecision; image-rendering:optimizeQuality; fill-rule:evenodd; clip-rule:evenodd" viewBox="0 0 2.19 2.19" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xodm="http://www.corel.com/coreldraw/odm/2003"><path class="fil0" d="M1.84 0.06c0.08,-0.08 0.21,-0.08 0.29,0 0.08,0.08 0.08,0.21 0,0.29l-0.75 0.74 0.75 0.75c0.08,0.08 0.08,0.21 0,0.29 -0.08,0.08 -0.21,0.08 -0.29,0l-0.75 -0.75 -0.74 0.75c-0.08,0.08 -0.21,0.08 -0.29,0 -0.08,-0.08 -0.08,-0.21 0,-0.29l0.74 -0.75 -0.74 -0.74c-0.08,-0.08 -0.08,-0.21 0,-0.29 0.08,-0.08 0.21,-0.08 0.29,0l0.74 0.74 0.75 -0.74z"></path></svg></a>
            <div class="popup-title">Create a new widget</div>
            <div class="popup-description">Would you like to load settings from an existing widget?</div>
            <form action="<?php echo admin_url("admin.php") ?>" method="get">
                <div class="select-field">
                    <input type="hidden" name="page" value="my-sticky-elements-new-widget" />
                    <select name="copy-from" >
                        <option value="">No thanks</option>
                        <?php
						$elements_widgets = get_option( 'mystickyelements-widgets' );
						$total_widgets = count($elements_widgets);
                        $menu_text = esc_attr__('Settings', 'mystickyelements');
                        if($total_widgets > 0) {
                            $menu_text = "Settings Widget #1";                            
							$text = $elements_widgets[0];
                            if(!empty($text) && $text != "" && $text != null ) {
                                $menu_text = "Settings " . $text;
                            }
                        } else {
                            $total_widgets = 0;
                        }			
                        echo "<option value='0'>{$menu_text}</option>";                        
                        if (!empty($elements_widgets) && $total_widgets != null && is_numeric($total_widgets) && $total_widgets > 0) {
                            for ($i = 1; $i < $total_widgets; $i++) {
								$widget_title = "Settings ".$elements_widgets[$i];
								echo "<option value='{$i}'>{$widget_title}</option>";
                                
                            }
                        }
                        ?>
                    </select>
                </div>
                <div class="select-field-btn">
                    <button type="submit" class="popup-form-btn">Start Editing</button>
                </div>
            </form>
        </div>
    </div>
<?php } ?>

--- END FILE ---

--- FILE: mystickyelements-contact-leads.php ---
<?php

$path1 = preg_replace('/wp-content(?!.*wp-content).*/','',__DIR__);
include($path1.'wp-load.php');


if (current_user_can('activate_plugins')) {
	
	$file = "mystickyelements_contact_leads.csv";
	$fp = fopen($file, "a")or die("Error Couldn't open $file for writing!");
	
    global $wpdb;
    $contact_lists_table = $wpdb->prefix.'mystickyelement_contact_lists';
    $contact_lists_to_write = $wpdb->get_results( "SELECT * FROM $contact_lists_table");
	$all_data = '';
	foreach ($contact_lists_to_write as $res) {
		$res_ID = $res->ID;
		$res_name = $res->contact_name;
		$res_phone = $res->contact_phone;
		$res_email = $res->contact_email;
		$res_option = $res->contact_option;
		$res_message = $res->contact_message;
		$res_message_date = $res->message_date;
		$widget_element_name = $res->widget_element_name;
		$page_link = $res->page_link;
		$ip_address = $res->ip_address;
		$consent_checkbox = $res->consent_checkbox;
		$custom_fields = json_decode($res->custom_fields, true);

		$current_row = $res_ID.' , '.$widget_element_name.' , '.$res_name.' , '.$res_phone.' , '.$res_email.' , '.$res_option.' , '.$res_message.' , '.$res_message_date. PHP_EOL;
		$all_data = $all_data." ".$current_row . "\r\n";
		$fields = array($res_ID, $widget_element_name, $res_name, $res_phone, $res_email, $res_option, $res_message, $res_message_date, $page_link, $ip_address,$consent_checkbox);
		if ($res->custom_fields != '' && $custom_fields != '' ) {
			$fields = array_merge($fields, $custom_fields );
		}		
		fputcsv($fp, $fields);
	}
	
	
	
	
	
	
	//fwrite($fp, $all_data)or die("Error Couldn't write values to file!"); 
	fclose($fp); 
	
	
	
	if (file_exists($file)) {
		header('Content-Type: application/csv');
		header('Content-Disposition: attachment; filename="' . basename($file) . '"');
		header('Content-Length: ' . filesize($file));
		readfile($file);
		unlink($file);
		exit;
	}

}

--- END FILE ---

--- FILE: recommended-plugins.php ---
<?php
// You may comment this out IF you're sure the function exists.
require_once ABSPATH . 'wp-admin/includes/plugin-install.php';
remove_all_filters('plugins_api');
$plugins_allowedtags = array(
			'a'       => array(
				'href'   => array(),
				'title'  => array(),
				'target' => array(),
			),
			'abbr'    => array( 'title' => array() ),
			'acronym' => array( 'title' => array() ),
			'code'    => array(),
			'pre'     => array(),
			'em'      => array(),
			'strong'  => array(),
			'ul'      => array(),
			'ol'      => array(),
			'li'      => array(),
			'p'       => array(),
			'br'      => array(),
		);

$recommended_plugins = array();
/* Poptin Plugins */
$args = [
    'slug' => 'poptin',
	 'fields' => [
        'short_description' => true,        
        'icons' => true, 
        'reviews'  => false, // excludes all reviews        
    ],
];
$data = plugins_api( 'plugin_information', $args );
if ( $data && ! is_wp_error( $data ) ) {
	$recommended_plugins['poptin'] = $data;
	$recommended_plugins['poptin']->name = 'Poptin: Beautiful Pop Ups and Embedded Inline Contact Forms for Your Website';
	$recommended_plugins['poptin']->short_description = 'Pop ups and contact forms builder for your website. Get more sales, leads, and subscribers with beautiful popups & inline forms templates, no coding skills required';
}

/* Chaty Plugins */
$args = [
    'slug' => 'chaty',
	 'fields' => [
        'short_description' => true,
        'icons' => true, 
        'reviews'  => false, // excludes all reviews
    ],
];
$data = plugins_api( 'plugin_information', $args );
if ( $data && ! is_wp_error( $data ) ) {
	$recommended_plugins['chaty'] = $data;
	$recommended_plugins['chaty']->name = 'Chaty: WhatsApp, Facebook Messenger, and Many Other Chat Buttons For Your Website';
	$recommended_plugins['chaty']->short_description = 'Let your visitors contact you via Facebook Messenger, Whatsapp, Telegram, Viber, Email, Phone call, SMS and more with customizable chat & call bututons';
}

/* Folders Plugins */
$args = [
    'slug' => 'folders',
	 'fields' => [
        'short_description' => true,
        'icons' => true, 
        'reviews'  => false, // excludes all reviews
    ],
];
$data = plugins_api( 'plugin_information', $args );
if ( $data && ! is_wp_error( $data ) ) {
	$recommended_plugins['folders'] = $data;
	$recommended_plugins['folders']->name = 'Folders: Organize Your Media Library, Posts, Pages, and Custom posts Using Drag and Drop';
	$recommended_plugins['folders']->short_description = 'Folders is a powerful WordPress plugin that will help you quickly and easily organize and manage your Media library files, Pages, Posts, and Custom Posts in folders';
}

/* Stars Ttestimonials Plugins */
$args = [
    'slug' => 'stars-testimonials-with-slider-and-masonry-grid',
	 'fields' => [
        'short_description' => true,
        'icons' => true, 
        'reviews'  => false, // excludes all reviews
    ],
];
$data = plugins_api( 'plugin_information', $args );
if ( $data && ! is_wp_error( $data ) ) {
	$recommended_plugins['stars-testimonials'] = $data;
	$recommended_plugins['stars-testimonials']->name = 'Stars Testimonials: Responsive Testimonials, Social Proof, and Customer Reviews';
	$recommended_plugins['stars-testimonials']->short_description = 'Simple but yet powerful testimonial WordPress plugin for your website. Display responsive website testimonials and customer reviews with ease and increase conversion rate';
}


?>
<div class="wrap mystickyelement-wrap recommended-plugins">
	<h2>
		<?php _e('Try out our recommended plugins', 'mystickyelements'); ?>		
		<div class="mystickyelement-contact-form-leads-btn">
			<a href="#" class="create-rule recommeded-plugins-hide"><?php _e('Hide From Menu', 'mystickyelements');?></a>
		</div>
	</h2>
</div>
<div class="wrap recommended-plugins">
	<div class="wp-list-table widefat plugin-install">
		<div class="the-list">
			<?php
			foreach ( (array) $recommended_plugins as $plugin ) {
				if ( is_object( $plugin ) ) {
					$plugin = (array) $plugin;
				}

				// Display the group heading if there is one.
				if ( isset( $plugin['group'] ) && $plugin['group'] != $group ) {
					if ( isset( $this->groups[ $plugin['group'] ] ) ) {
						$group_name = $this->groups[ $plugin['group'] ];
						if ( isset( $plugins_group_titles[ $group_name ] ) ) {
							$group_name = $plugins_group_titles[ $group_name ];
						}
					} else {
						$group_name = $plugin['group'];
					}

					// Starting a new group, close off the divs of the last one.
					if ( ! empty( $group ) ) {
						echo '</div></div>';
					}

					echo '<div class="plugin-group"><h3>' . esc_html( $group_name ) . '</h3>';
					// Needs an extra wrapping div for nth-child selectors to work.
					echo '<div class="plugin-items">';

					$group = $plugin['group'];
				}
				$title = wp_kses( $plugin['name'], $plugins_allowedtags );

				// Remove any HTML from the description.
				$description = strip_tags( $plugin['short_description'] );
				$version     = wp_kses( $plugin['version'], $plugins_allowedtags );

				$name = strip_tags( $title . ' ' . $version );

				$author = wp_kses( $plugin['author'], $plugins_allowedtags );
				if ( ! empty( $author ) ) {
					/* translators: %s: Plugin author. */
					$author = ' <cite>' . sprintf( __( 'By %s' ), $author ) . '</cite>';
				}

				$requires_php = isset( $plugin['requires_php'] ) ? $plugin['requires_php'] : null;
				$requires_wp  = isset( $plugin['requires'] ) ? $plugin['requires'] : null;

				$compatible_php = is_php_version_compatible( $requires_php );
				$compatible_wp  = is_wp_version_compatible( $requires_wp );
				$tested_wp      = ( empty( $plugin['tested'] ) || version_compare( get_bloginfo( 'version' ), $plugin['tested'], '<=' ) );

				$action_links = array();

				if ( current_user_can( 'install_plugins' ) || current_user_can( 'update_plugins' ) ) {
					$status = install_plugin_install_status( $plugin );

					switch ( $status['status'] ) {
						case 'install':
							if ( $status['url'] ) {
								if ( $compatible_php && $compatible_wp ) {
									$action_links[] = sprintf(
										'<a class="install-now button" data-slug="%s" href="%s" aria-label="%s" data-name="%s">%s</a>',
										esc_attr( $plugin['slug'] ),
										esc_url( $status['url'] ),
										/* translators: %s: Plugin name and version. */
										esc_attr( sprintf( _x( 'Install %s now', 'plugin' ), $name ) ),
										esc_attr( $name ),
										__( 'Install Now' )
									);
								} else {
									$action_links[] = sprintf(
										'<button type="button" class="button button-disabled" disabled="disabled">%s</button>',
										_x( 'Cannot Install', 'plugin' )
									);
								}
							}
							break;

						case 'update_available':
							if ( $status['url'] ) {
								if ( $compatible_php && $compatible_wp ) {
									$action_links[] = sprintf(
										'<a class="update-now button aria-button-if-js" data-plugin="%s" data-slug="%s" href="%s" aria-label="%s" data-name="%s">%s</a>',
										esc_attr( $status['file'] ),
										esc_attr( $plugin['slug'] ),
										esc_url( $status['url'] ),
										/* translators: %s: Plugin name and version. */
										esc_attr( sprintf( _x( 'Update %s now', 'plugin' ), $name ) ),
										esc_attr( $name ),
										__( 'Update Now' )
									);
								} else {
									$action_links[] = sprintf(
										'<button type="button" class="button button-disabled" disabled="disabled">%s</button>',
										_x( 'Cannot Update', 'plugin' )
									);
								}
							}
							break;

						case 'latest_installed':
						case 'newer_installed':
							if ( is_plugin_active( $status['file'] ) ) {
								$action_links[] = sprintf(
									'<button type="button" class="button button-disabled" disabled="disabled">%s</button>',
									_x( 'Active', 'plugin' )
								);
							} elseif ( current_user_can( 'activate_plugin', $status['file'] ) ) {
								$button_text = __( 'Activate' );
								/* translators: %s: Plugin name. */
								$button_label = _x( 'Activate %s', 'plugin' );
								$activate_url = add_query_arg(
									array(
										'_wpnonce' => wp_create_nonce( 'activate-plugin_' . $status['file'] ),
										'action'   => 'activate',
										'plugin'   => $status['file'],
									),
									network_admin_url( 'plugins.php' )
								);

								if ( is_network_admin() ) {
									$button_text = __( 'Network Activate' );
									/* translators: %s: Plugin name. */
									$button_label = _x( 'Network Activate %s', 'plugin' );
									$activate_url = add_query_arg( array( 'networkwide' => 1 ), $activate_url );
								}

								$action_links[] = sprintf(
									'<a href="%1$s" class="button activate-now" aria-label="%2$s">%3$s</a>',
									esc_url( $activate_url ),
									esc_attr( sprintf( $button_label, $plugin['name'] ) ),
									$button_text
								);
							} else {
								$action_links[] = sprintf(
									'<button type="button" class="button button-disabled" disabled="disabled">%s</button>',
									_x( 'Installed', 'plugin' )
								);
							}
							break;
					}
				}

				$details_link = self_admin_url(
					'plugin-install.php?tab=plugin-information&amp;plugin=' . $plugin['slug'] .
					'&amp;TB_iframe=true&amp;width=600&amp;height=550'
				);

				$action_links[] = sprintf(
					'<a href="%s" class="thickbox open-plugin-details-modal" aria-label="%s" data-title="%s">%s</a>',
					esc_url( $details_link ),
					/* translators: %s: Plugin name and version. */
					esc_attr( sprintf( __( 'More information about %s' ), $name ) ),
					esc_attr( $name ),
					__( 'More Details' )
				);

				if ( ! empty( $plugin['icons']['svg'] ) ) {
					$plugin_icon_url = $plugin['icons']['svg'];
				} elseif ( ! empty( $plugin['icons']['2x'] ) ) {
					$plugin_icon_url = $plugin['icons']['2x'];
				} elseif ( ! empty( $plugin['icons']['1x'] ) ) {
					$plugin_icon_url = $plugin['icons']['1x'];
				} else {
					$plugin_icon_url = $plugin['icons']['default'];
				}

				/**
				 * Filters the install action links for a plugin.
				 *
				 * @since 2.7.0
				 *
				 * @param string[] $action_links An array of plugin action links. Defaults are links to Details and Install Now.
				 * @param array    $plugin       The plugin currently being listed.
				 */
				$action_links = apply_filters( 'plugin_install_action_links', $action_links, $plugin );

				$last_updated_timestamp = strtotime( $plugin['last_updated'] );
				?>
			<div class="plugin-card plugin-card-<?php echo sanitize_html_class( $plugin['slug'] ); ?>">
				<?php
				if ( ! $compatible_php || ! $compatible_wp ) {
					echo '<div class="notice inline notice-error notice-alt"><p>';
					if ( ! $compatible_php && ! $compatible_wp ) {
						_e( 'This plugin doesn&#8217;t work with your versions of WordPress and PHP.' );
						if ( current_user_can( 'update_core' ) && current_user_can( 'update_php' ) ) {
							printf(
								/* translators: 1: URL to WordPress Updates screen, 2: URL to Update PHP page. */
								' ' . __( '<a href="%1$s">Please update WordPress</a>, and then <a href="%2$s">learn more about updating PHP</a>.' ),
								self_admin_url( 'update-core.php' ),
								esc_url( wp_get_update_php_url() )
							);
							wp_update_php_annotation( '</p><p><em>', '</em>' );
						} elseif ( current_user_can( 'update_core' ) ) {
							printf(
								/* translators: %s: URL to WordPress Updates screen. */
								' ' . __( '<a href="%s">Please update WordPress</a>.' ),
								self_admin_url( 'update-core.php' )
							);
						} elseif ( current_user_can( 'update_php' ) ) {
							printf(
								/* translators: %s: URL to Update PHP page. */
								' ' . __( '<a href="%s">Learn more about updating PHP</a>.' ),
								esc_url( wp_get_update_php_url() )
							);
							wp_update_php_annotation( '</p><p><em>', '</em>' );
						}
					} elseif ( ! $compatible_wp ) {
						_e( 'This plugin doesn&#8217;t work with your version of WordPress.' );
						if ( current_user_can( 'update_core' ) ) {
							printf(
								/* translators: %s: URL to WordPress Updates screen. */
								' ' . __( '<a href="%s">Please update WordPress</a>.' ),
								self_admin_url( 'update-core.php' )
							);
						}
					} elseif ( ! $compatible_php ) {
						_e( 'This plugin doesn&#8217;t work with your version of PHP.' );
						if ( current_user_can( 'update_php' ) ) {
							printf(
								/* translators: %s: URL to Update PHP page. */
								' ' . __( '<a href="%s">Learn more about updating PHP</a>.' ),
								esc_url( wp_get_update_php_url() )
							);
							wp_update_php_annotation( '</p><p><em>', '</em>' );
						}
					}
					echo '</p></div>';
				}
				?>
				<div class="plugin-card-top">
					<div class="name column-name">
						<h3>
							<a href="<?php echo esc_url( $details_link ); ?>" class="thickbox open-plugin-details-modal">
							<?php echo $title; ?>
							<img src="<?php echo esc_attr( $plugin_icon_url ); ?>" class="plugin-icon" alt="" />
							</a>
						</h3>
					</div>
					<div class="action-links">
						<?php
						if ( $action_links ) {
							echo '<ul class="plugin-action-buttons"><li>' . implode( '</li><li>', $action_links ) . '</li></ul>';
						}
						?>
					</div>
					<div class="desc column-description">
						<p><?php echo $description; ?></p>
						<p class="authors"><?php echo $author; ?></p>
					</div>
				</div>
				<div class="plugin-card-bottom">
					<div class="vers column-rating">
						<?php
						wp_star_rating(
							array(
								'rating' => $plugin['rating'],
								'type'   => 'percent',
								'number' => $plugin['num_ratings'],
							)
						);
						?>
						<span class="num-ratings" aria-hidden="true">(<?php echo number_format_i18n( $plugin['num_ratings'] ); ?>)</span>
					</div>
					<div class="column-updated">
						<strong><?php _e( 'Last Updated:' ); ?></strong>
						<?php
							/* translators: %s: Human-readable time difference. */
							printf( __( '%s ago' ), human_time_diff( $last_updated_timestamp ) );
						?>
					</div>
					<div class="column-downloaded">
						<?php
						if ( $plugin['active_installs'] >= 1000000 ) {
							$active_installs_millions = floor( $plugin['active_installs'] / 1000000 );
							$active_installs_text     = sprintf(
								/* translators: %s: Number of millions. */
								_nx( '%s+ Million', '%s+ Million', $active_installs_millions, 'Active plugin installations' ),
								number_format_i18n( $active_installs_millions )
							);
						} elseif ( 0 == $plugin['active_installs'] ) {
							$active_installs_text = _x( 'Less Than 10', 'Active plugin installations' );
						} else {
							$active_installs_text = number_format_i18n( $plugin['active_installs'] ) . '+';
						}
						/* translators: %s: Number of installations. */
						printf( __( '%s Active Installations' ), $active_installs_text );
						?>
					</div>
					<div class="column-compatibility">
						<?php
						if ( ! $tested_wp ) {
							echo '<span class="compatibility-untested">' . __( 'Untested with your version of WordPress' ) . '</span>';
						} elseif ( ! $compatible_wp ) {
							echo '<span class="compatibility-incompatible">' . __( '<strong>Incompatible</strong> with your version of WordPress' ) . '</span>';
						} else {
							echo '<span class="compatibility-compatible">' . __( '<strong>Compatible</strong> with your version of WordPress' ) . '</span>';
						}
						?>
					</div>
				</div>
			</div>
			<?php
		} ?>
		</div>
	</div>
	<div id="hide-recommeded-plugins" style="display:none;" title="<?php _e('Are you sure?','mystickyelements');?>">
		<p><?php _e( "If you hide the recommended plugins page from your menu, it won't appear there again. Are you sure you'd like to do it?", 'mystickyelements');?></p>
	</div>
	
</div>
<script>
( function( $ ) {
	"use strict";
	$(document).ready(function(){
		$( '.recommeded-plugins-hide' ).on( 'click', 	function(event){
			event.preventDefault();
			$( "#hide-recommeded-plugins" ).dialog({
				resizable: false,
				modal: true,
				draggable: false,
				height: 'auto',
				width: 400,
				open: function (event, ui) {
					$(".ui-widget-overlay").on( 'click', function () {
						$('#hide-recommeded-plugins').dialog('close');
					});
				},
				buttons: {
					"Hide it": {
						click: function () {										
							window.location = "<?php echo admin_url('admin.php?page=my-sticky-elements-settings&hide_mserecommended_plugin=1');?>";
						},
						text: 'Hide it',
						class: 'btn red-btn'
					},
					"Keep it": {
						click: function () {
							$(this).dialog('close');
						},
						text: 'Keep it',
						class: 'btn alt gray-btn'
					},
				}
			});	
		});
	});
})( jQuery );
</script>


--- END FILE ---

--- FILE: js/mystickyelements-admin.js ---
( function( $ ) {
	"use strict";
	$(document).ready(function(){
		/* Apply Wp Color Picker */
		var myOptions = {
			change: function(event, ui){
				var color_id = $(this).attr('id');
				var slug = $(this).data('slug');
				var soical_icon = $(this).data('soical-icon');

				var color_code = ui.color.toString();
				
				if ( color_id === 'tab_background_color'){
					$('.mystickyelements-contact-form .mystickyelements-social-icon').css('background-color', color_code );
				}
				if ( color_id === 'tab_text_color'){
					$('.mystickyelements-contact-form .mystickyelements-social-icon').css('color', color_code );
				}

				if ( color_id === 'minimize_tab_background_color'){
					$('span.mystickyelements-minimize').css('background-color', color_code );
				}

				if ( typeof slug !== 'undefined' ){
					$('.mystickyelements-social-icon.social-' + slug ).css('background', color_code );
					social_icon_live_preview_color_css();
				}

				if ( typeof soical_icon !== 'undefined' ){
					if ( soical_icon == 'line' ) {
						$('.mystickyelements-social-icon.social-' + soical_icon + ' svg .fil1' ).css('fill', color_code );
						//$('.social-channels-item .social-channel-input-box-section .social-' + soical_icon + ' svg .fil1' ).css('fill', color_code );
					} else if (  soical_icon == 'qzone' ) {
						$('.mystickyelements-social-icon.social-' + soical_icon + ' svg .fil2' ).css('fill', color_code );
					} else {
						$('.mystickyelements-social-icon.social-' + soical_icon + ' i' ).css('color', color_code );
					}
				}
			}
	    };
		$('.mystickyelement-color').wpColorPicker(myOptions);

		if ( $( 'input#redirect_after_submission' ).prop("checked") == true ) {
			$('.myStickyelements-redirect-new-tab').show();
		}

		$( 'input#redirect_after_submission' ).on( 'click', function(){
			if( $(this).prop("checked") == true ){
				$('.myStickyelements-redirect-new-tab').show();
			} else {
				$('.myStickyelements-redirect-new-tab').hide();
			}
		});

		if ( $( "#contact-form-send-leads option:selected" ).val() === 'mail' || $( 'input#send_leads_mail' ).prop("checked") == true ) {
			$('#contact-form-send-mail').show();
			$('#contact-form-sendr-name').show();
			$('#contact-form-mail-subject-line').show();
		}

		$( 'input#send_leads_mail' ).on( 'click', function(){
			if( $(this).prop("checked") == true ){
				$('#contact-form-send-mail').show();
				$('#contact-form-sendr-name').show();
				$('#contact-form-mail-subject-line').show();
			} else {
				$('#contact-form-send-mail').hide();
				$('#contact-form-sendr-name').hide();
				$('#contact-form-mail-subject-line').hide();
			}
		});
		$('#contact-form-send-leads').on( 'change', function() {
			if ( $(this).val() === 'mail' ) {
				$('#contact-form-send-mail').show();
				$('#contact-form-mail-subject-line').show();
			} else {
				$('#contact-form-send-mail').hide();
				$('#contact-form-mail-subject-line').hide();
			}
		});

		if (  $( 'input#consent_checkbox' ).prop("checked") == true ) {
			$('#contact-form-consent_checkbox').show();
		}

		$( 'input#consent_checkbox' ).on( 'click', function(){
			if( $(this).prop("checked") == true ){
				$('#contact-form-consent_checkbox').show();
			} else {
				$('#contact-form-consent_checkbox').hide();
			}
		});

		$(document).on("change", "input[name='contact-form[direction]']", function(){
			if($(this).val() == "RTL") {
				$(".mystickyelements-fixed").addClass("is-rtl");
			} else {
				$(".mystickyelements-fixed").removeClass("is-rtl");
			}
		});

		$( '#myStickyelements-contact-form-close' ).on( 'click', function() {
			if( $(this).prop("checked") == true ){
				$( '#contact-form-close-after' ).show();
			}else {
				$( '#contact-form-close-after' ).hide();
			}
		});
		$( '#myStickyelements-contact-form-enabled' ).on( 'click', function() {
			if( $(this).prop("checked") == true ){
				
				$(".turn-off-message").css('display','none');
				$(".contact-form-description").css('display','block');
				$( '#myStickyelements-preview-contact' ).show();
				$( '.mystickyelements-contact-form' ).removeClass( 'mystickyelements-contact-form-hide' );
			}else {
				$('#contactform-status-popup').show();
				$('#mystickyelement-contact-popup-overlay').show();
				$('.mystickyelements-disable-content-wrap').hide();
			}
			myStickyelements_mobile_count();
			mystickyelements_disable_section( 'mystickyelements-tab-contact-form', 'myStickyelements-contact-form-enabled' );
		});

		$('.button-contact-popup-disable').on('click',function(){
			$( '#myStickyelements-preview-contact' ).hide();
			$( '.mystickyelements-contact-form' ).addClass( 'mystickyelements-contact-form-hide' );
			$(".turn-off-message").css('display','block');
			$(".contact-form-description").css('display','none');
			$('#contactform-status-popup').hide();
			$('#mystickyelement-contact-popup-overlay').hide();
		});

		$(document).on('click','.button-contact-popup-keep',function(){
			var popup_from = 'contact-form';
			$(".turn-off-message").css('display','none');
			$(".contact-form-description").css('display','block');
			$( '#myStickyelements-preview-contact' ).show();
			$( '.mystickyelements-contact-form' ).removeClass( 'mystickyelements-contact-form-hide' );
			$('#contactform-status-popup').hide();	
			$('#mystickyelement-contact-popup-overlay').hide();

			$('#myStickyelements-contact-form-enabled').prop('checked',true);
			var parent_class = 'mystickyelements-tab-contact-form';
			$( '#' + parent_class + ' .mystickyelements-disable-wrap' ).removeClass( 'mystickyelements-disable' );
			$( '#' + parent_class + ' .mystickyelements-disable-wrap .myStickyelements-social-channels-info' ).show();
			$( '#' + parent_class + ' .mystickyelements-disable-content-wrap' ).hide();
		});

		$('#mystickyelement-contact-popup-overlay').on('click',function(){
			$(".turn-off-message").css('display','none');
			$(".contact-form-description").css('display','block');
			$( '#myStickyelements-preview-contact' ).show();
			$( '.mystickyelements-contact-form' ).removeClass( 'mystickyelements-contact-form-hide' );
			$('#contactform-status-popup').hide();	
			$('#mystickyelement-contact-popup-overlay').hide();

			$('#myStickyelements-contact-form-enabled').prop('checked',true);
			var parent_class = 'mystickyelements-tab-contact-form';
			$( '#' + parent_class + ' .mystickyelements-disable-wrap' ).removeClass( 'mystickyelements-disable' );
			$( '#' + parent_class + ' .mystickyelements-disable-wrap .myStickyelements-social-channels-info' ).show();
			$( '#' + parent_class + ' .mystickyelements-disable-content-wrap' ).hide();
		});

		/* Social Chanel Privew */
		$(document).on( "click", ".social-channel-view-desktop"  , function(e){
			var social_channel_tab_desktop = $(this).data( 'social-channel-view' );
			if($(this).prop("checked") == false ){
				$('ul.myStickyelements-preview-ul li.mystickyelements-social-' + social_channel_tab_desktop).removeClass('element-desktop-on');
			} else {
				$('ul.myStickyelements-preview-ul li.mystickyelements-social-' + social_channel_tab_desktop).addClass('element-desktop-on');
			}
			mystickyelements_border_radius();
		});
		$(document).on( "click", ".social-channel-view-mobile"  , function(e){
			var social_channel_tab_mobile = $(this).data( 'social-channel-view' );
			if($(this).prop("checked") == false ){
				$('ul.myStickyelements-preview-ul li.mystickyelements-social-' + social_channel_tab_mobile).removeClass('element-mobile-on');
			} else {
				$('ul.myStickyelements-preview-ul li.mystickyelements-social-' + social_channel_tab_mobile).addClass('element-mobile-on');
			}
			mystickyelements_border_radius();
		});

		/* Append Social Channels tab */
		//$(".social-channel").on( "click", function(){
		$(document).on( "click" , ".social-channel",function(){	
			var social_channel = $(this).data( 'social-channel' );
			/* Remove Social Channel */
			if( social_channel.indexOf('custom') != -1 ){
				$(this).parent().parent().remove();		    
			} 

			if($(this).prop("checked") == false){
				$('.social-channels-item[data-slug=' + social_channel +']').remove();
				$('.social-channel[data-social-channel=' + social_channel + ' ]').prop("checked", false);
				mysticky_social_channel_order();

				 /* remove from preview  */
				$('ul.myStickyelements-preview-ul li.mystickyelements-social-' + social_channel).remove();
				social_icon_live_preview_color_css();
				mystickyelements_border_radius();
            }
			
			if(jQuery(this).prev().hasClass('social-checked-active')){
				jQuery(this).prev().removeClass('social-checked-active');
			}else{
				jQuery(this).prev().addClass('social-checked-active');	
			}

			/* When user add more than 2 then return and display upgrade now message.  */
			if( $(".social-channel-popover").length ) {				
				var len = $(".myStickyelements-social-channels-lists input[name^='social-channels']:checked").length;
				if ( ( $('.social-channels-item').length >= 2 || len > 2 ) && jQuery(this).prev().hasClass('social-checked-active')) {
					jQuery(this).prev().removeClass('social-checked-active');
					$('.social-channel[data-social-channel=' + social_channel + ' ]').prop("checked", false);
					$('.social-channel-popover').show().effect('shake', {times: 4}, 1200);
					$('body,html').animate({ scrollTop:  $(".social-channel-popover").offset().top - 200 }, 800);
					return;
				}
			}
			
			/* Add  Social Channel */
			 if( $(this).prop("checked") == true ){
                jQuery.ajax({
					url: ajaxurl,
					type:'post',
					data: 'action=mystickyelement-social-tab&social_channel=' + social_channel +'&is_ajax=true&wpnonce=' + mystickyelements.ajax_nonce,
					success: function( data ){
						$('.social-channels-tab').append(data);
						$('.mystickyelement-color').wpColorPicker(myOptions);
						mysticky_social_channel_order();
						mystickyelements_border_radius();
						social_icon_live_preview_color_css();
						//$('#mystickyelements-preview-description').show();
						$('.social-channel-fontawesome-icon').select2({
													allowClear: true,
													templateSelection: stickyelement_iconformat,
													templateResult: stickyelement_iconformat,
													allowHtml: true
												});
					},
				});
			}
			social_channel_order();
		}); 
		social_channel_order();
		
		jQuery(document).on('click','.social-channel-popover .premio-upgrade-dismiss-btn',function(e){
			$('.social-channel-popover').hide();			
		});
		
		/* Set social channel order */
		function social_channel_order() {
			var social_channel_order = 1;
			$('.myStickyelements-social-channels-lists li input.social-channel:checked').each(function(){
				$(this).parent().parent().css( 'order', social_channel_order++);
			});
			
			$(".myStickyelements-social-channels-lists li input.social-channel:not(:checked)").each(function () {
				$(this).parent().parent().css( 'order', social_channel_order++);
			});
		}
		
		var custom_channel_length = $('#myStickyelements-custom-channel-lenght').val();
		var custom_shortcode_length = $('#myStickyelements-custom-shortcode-lenght').val();
		
		jQuery(document).on('click','#myStickyelements-add-custom-social',function(e){
			e.preventDefault();
			custom_channel_length++;
			/* When user add more than 2 then return and display upgrade now message.  */
			var flag = morethen_channel_validation( 'custom_channel' );
			if(flag == false){
				return;
			}
			mystickyelement_social_tab_ajax( 'custom_channel' , custom_channel_length );
			$('#myStickyelements-custom-channel-lenght').val( custom_channel_length );
			
			var social_list = '<li data-search="custom_channel_'+custom_channel_length+'"><label><span class="social-channels-list social-custom_channel_'+custom_channel_length+' social-checked-active" style="background-color: #7761DF;"><i class="fas fa-cloud-upload-alt"></i></span><input type="checkbox" data-social-channel="custom_channel_'+custom_channel_length+'" class="social-channel" name="social-channels[custom_channel_'+custom_channel_length+']" value="1" checked="checked" > </label><span class="social-tooltip-popup">Custom Channel</span></li>';

			$('.myStickyelements-social-channels-lists').append( social_list );
			$('.social-custom_channel_'+custom_channel_length+' span').addClass('social-checked-active');
			social_channel_order();
			$("html, body").animate({ scrollTop: 50 }, "slow");

		});
		
		
		
		jQuery(document).on('click','#myStickyelements-add-custom-shortcode',function(e){
			e.preventDefault();
			custom_shortcode_length++; 
			/* When user add more than 2 then return and display upgrade now message.  */
			var flag = morethen_channel_validation( 'custom_shortcode' );
			if(flag == false){
				return;
			}
			mystickyelement_social_tab_ajax( 'custom_shortcode' , custom_shortcode_length );
			$('#myStickyelements-custom-shortcode-lenght').val(custom_shortcode_length);

			var shortcode_list = '<li data-search="custom_shortcode_'+custom_shortcode_length+'"><label><span class="social-channels-list social-custom_shortcode_'+custom_shortcode_length+' social-checked-active" style="background-color: #7761DF;"><i class="fas fa-code"></i></span><input type="checkbox" data-social-channel="custom_shortcode_'+custom_shortcode_length+'" class="social-channel" name="social-channels[custom_shortcode_'+custom_shortcode_length+']" value="1" checked="checked" ></input> </label><span class="social-tooltip-popup">Custom Shortcode</span></li>';
			$('.myStickyelements-social-channels-lists').append( shortcode_list );
			social_channel_order();
			$("html, body").animate({ scrollTop: 50 }, "slow");
		});
		
		function morethen_channel_validation( social_channel ) {
			/* When user add more than 2 then return and display upgrade now message.  */
			if( $(".social-channel-popover").length ) {				
				var len = $(".myStickyelements-social-channels-lists input[name^='social-channels']:checked").length;
				if ( $('.social-channels-item').length >= 2 || len > 2 ) {
					$('.social-channel[data-social-channel='+ social_channel +']').prop("checked", false);
					$('.social-channel-popover').show().effect('shake', {times: 4}, 1200);
					$('body,html').animate({ scrollTop:  $(".social-channel-popover").offset().top - 200 }, 800);
					return false;
				}
			}
		}
		
		function mystickyelement_social_tab_ajax( social_channel , channel_key ){
			
			
			jQuery.ajax({
				url: ajaxurl,
				type:'post',
				data: 'action=mystickyelement-social-tab&social_channel=' + social_channel + '&channel_key=' + channel_key + '&is_ajax=true&wpnonce=' + mystickyelements.ajax_nonce,
				success: function( data ){
					$('.social-channels-tab').append(data);
					$('.mystickyelement-color').wpColorPicker(myOptions);
					mysticky_social_channel_order();
					mystickyelements_border_radius();
					social_icon_live_preview_color_css();
					$('.social-channel-fontawesome-icon').select2({
												allowClear: true,
												templateSelection: stickyelement_iconformat,
												templateResult: stickyelement_iconformat,
												allowHtml: true
											});
				},
			});
			
		}

		/* Social Channel Delete */
		$(document).on( "click", '.social-channel-close,.close-tooltip .tooltiptext a' , function(e){
			e.preventDefault();
			var chanel_name = $(this).data('slug');
			$('.social-channels-item[data-slug=' + chanel_name +']').slideUp("slow",function(){
				$(this).remove();});
			$('.social-channel[data-social-channel=' + chanel_name + ' ]').prop("checked", false);
			$('.social-channel[data-social-channel=' + chanel_name + ' ]').prev().removeClass('social-checked-active');
			mysticky_social_channel_order();
			mystickyelements_border_radius();
			
			
			
			/* remove from preview */
			$('ul.myStickyelements-preview-ul li.mystickyelements-social-' + chanel_name).remove();
			social_icon_live_preview_color_css();
			
			/* remove custom channel from ul li list*/
			if( chanel_name.indexOf('custom') != -1 ){
				$('.social-channel').each(function(){
					var social_channel = $(this).data( 'social-channel' );
					if( chanel_name == social_channel ){
						$(this).parent().parent().remove();	
					}
				});	
			}
			
			social_channel_order();
		});

		jQuery('.social-channels-tab').sortable({
			items:'.social-channels-item',
			placeholder: "mystickyelements-state-highlight social-channels-item",
			handle: ".mystickyelements-move-handle",
			cursor:'move',
			scrollSensitivity:40,
			stop:function(event,ui){
				mysticky_social_channel_order();
				mystickyelements_border_radius();
			}
		});
		$(document).on( "click", '.myStickyelements-channel-view .social-setting' , function(e){			
			var chanel_name = $(this).data('slug');			
			$('.social-channels-item[data-slug=' + chanel_name +'] .social-channel-setting').slideToggle();
		});


		/* Media Upload */
		$(document).on( "click", '.social-custom-icon-upload-button' , function(e){
			e.preventDefault();
			var social_channel = $(this).data('slug');
			var image = wp.media({
					title: 'Upload Image',
						// mutiple: true if you want to upload multiple files at once
						multiple: false
					}).open()
				.on('select', function(e){
					// This will return the selected image from the Media Uploader, the result is an object
					var uploaded_image = image.state().get('selection').first();
					// We convert uploaded_image to a JSON object to make accessing it easier
					// Output to the console uploaded_image
					var image_url = uploaded_image.toJSON().url;
					$('#social-channel-' + social_channel + '-custom-icon').val(image_url);
					$('#social-channel-' + social_channel + '-icon').show();
					$('#social-channel-' + social_channel + '-icon').parent().addClass( 'myStickyelements-custom-image-select' );
					$('#social-channel-' + social_channel + '-custom-icon-img').attr( 'src', image_url);
					var $social_icon_text = $('#social-' + social_channel + '-icon_text').val();
					var $social_icon_text_size = $('#social-' + social_channel + '-icon_text_size').val();
					var social_tooltip_text = social_channel.replace( '_', ' ' );
					if( $social_icon_text != '' ) {
						var $social_icon_text_size_style = 'display: block;font-size: '+ $social_icon_text_size + 'px;';
					} else {
						var $social_icon_text_size_style = 'display: none;font-size: '+ $social_icon_text_size + 'px;';
					}
					if( $( 'input[name="social-channels-tab[' + social_channel + '][stretch_custom_icon]"]' ).prop("checked") == true ) {
						var stretch_custom_class = 'mystickyelements-stretch-custom-img';
					} else {
						var stretch_custom_class = '';
					}
					$('#mystickyelements-' + social_channel + '-custom-icon').prop("selectedIndex", 0).trigger('change');
					$('ul.myStickyelements-preview-ul li span.social-' + social_channel + ' i').hide();
					$('ul.myStickyelements-preview-ul li span.social-' + social_channel + ' img').remove();
					$('ul.myStickyelements-preview-ul li span.social-' + social_channel + ' .mystickyelements-icon-below-text').remove();
					$('ul.myStickyelements-preview-ul li span.social-' + social_channel).append( '<img class="' + stretch_custom_class + '" src="' + image_url + '" width="40" height="40"/><span class="mystickyelements-icon-below-text" style="'+ $social_icon_text_size_style +'">'+ $social_icon_text +'</span>' );

					$('.social-channels-item .social-channel-input-box-section .social-' + social_channel + ' i').hide();
					$('.social-channels-item .social-channel-input-box-section .social-' + social_channel ).append('<img src="' + image_url + '" width="25" height="25"/>');
					if( $( 'input[name="social-channels-tab[' + social_channel + '][stretch_custom_icon]"]' ).prop("checked") == true ) {
						$( '.social-' + social_channel + ' img' ).addClass('mystickyelements-stretch-custom-img');
					} else {
						$( '.social-' + social_channel + ' img' ).removeClass('mystickyelements-stretch-custom-img');
					}
			});
		});
		$(document).on( "click", '.social-channel-icon-close' , function(e){
			var chanel_name = $(this).data('slug');
			$('#social-channel-' + chanel_name + '-custom-icon').val('');
			$('#social-channel-' + chanel_name + '-icon').hide();
			$('#social-channel-' + chanel_name + '-icon').parent().removeClass( 'myStickyelements-custom-image-select' );
			$('#social-channel-' + chanel_name + '-custom-icon-img').attr( 'src', '');
			$('ul.myStickyelements-preview-ul li span.social-' + chanel_name + ' i').show();
			$('ul.myStickyelements-preview-ul li span.social-' + chanel_name + ' img').remove();
			$('.social-channels-item .social-channel-input-box-section .social-' + chanel_name ).append( '<i class="fas fa-cloud-upload-alt"></i>' );
			$('ul.myStickyelements-preview-ul li span.social-' + chanel_name ).append( '<i class="fas fa-cloud-upload-alt"></i>' );
			$('.social-channels-item .social-channel-input-box-section .social-' + chanel_name + ' i').show();
			$('.social-channels-item .social-channel-input-box-section .social-' + chanel_name + ' img').remove();
		});

		$(document).on( "click", '.myStickyelements-stretch-icon-wrap input[type="checkbox"]' , function(e){
			var chanel_name = $(this).data('slug');
			$( '.social-' + chanel_name + ' img' ).toggleClass('mystickyelements-stretch-custom-img');
		});

		$('.social-channel-icon').each( function(){
			if ( $(this).children('img').attr('src') !='' ){
				$(this).show();
				$(this).parent().addClass( 'myStickyelements-custom-image-select' );
			}
		});

		/*  Delete Contact Lead*/
		jQuery(".mystickyelement-delete-entry").on( 'click', function(){
			var deleterowid = $( this ).attr( "data-delete" );
			var confirm_delete = window.confirm("Are you sure you want to delete Record with ID# "+deleterowid);
			if (confirm_delete == true) {
				jQuery.ajax({
					type: 'POST',
					url: ajaxurl,
					data: {"action": "mystickyelement_delete_db_record","ID": deleterowid, delete_nonce: jQuery("#delete_nonce").val(),"wpnonce": mystickyelements.ajax_nonce},
					success: function(data){
						location.href = window.location.href;
					},
					error: function(XMLHttpRequest, textStatus, errorThrown) {
						alert("Status: " + textStatus); alert("Error: " + errorThrown);
					}
				});
			}
			return false;
		});

		jQuery("#mystickyelement_delete_all_leads").on( 'click', function(){
			var confirm_delete = window.confirm("Are you sure you want to delete all Record from the database?");
			if (confirm_delete == true) {
				jQuery.ajax({
					type: 'POST',
					url: ajaxurl,
					data: {"action": "mystickyelement_delete_db_record", 'all_leads': 1 , delete_nonce: jQuery("#delete_nonce").val(),"wpnonce": mystickyelements.ajax_nonce},
					success: function(data){
						location.href = window.location.href;
					},
					error: function(XMLHttpRequest, textStatus, errorThrown) {
						alert("Status: " + textStatus); alert("Error: " + errorThrown);
					}
				});
			}
			// Prevents default submission of the form after clicking on the submit button.
			return false;
		});

		/* Desktop Position */
		jQuery("input[name='general-settings[position]'").on( 'click', function(){
			if ( $(this).val() === 'left'){
				$('.myStickyelements-preview-screen .mystickyelements-fixed').addClass('mystickyelements-position-left');
				$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-bottom');
				$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-right');

				$('span.mystickyelements-minimize').removeClass('minimize-position-right');
				$('span.mystickyelements-minimize').removeClass('minimize-position-bottom');
				$('span.mystickyelements-minimize').addClass('minimize-position-left');
				$( '.mystickyelements-minimize.minimize-position-left' ).html('&larr;');

				$( '.myStickyelements-position-on-screen-wrap' ).hide();
				$( '.myStickyelements-position-desktop-wrap' ).show();
			}
			if ( $(this).val() === 'right'){
				$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-left');
				$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-bottom');
				$('.myStickyelements-preview-screen .mystickyelements-fixed').addClass('mystickyelements-position-right');

				$('span.mystickyelements-minimize').removeClass('minimize-position-left');
				$('span.mystickyelements-minimize').removeClass('minimize-position-bottom');
				$('span.mystickyelements-minimize').addClass('minimize-position-right');
				$( '.mystickyelements-minimize.minimize-position-right' ).html('&rarr;');

				$( '.myStickyelements-position-on-screen-wrap' ).hide();
				$( '.myStickyelements-position-desktop-wrap' ).show();
			}
			if ( $(this).val() === 'bottom'){
				$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-left');
				$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-right');
				$('.myStickyelements-preview-screen .mystickyelements-fixed').addClass('mystickyelements-position-bottom');

				$('span.mystickyelements-minimize').removeClass('minimize-position-left');
				$('span.mystickyelements-minimize').removeClass('minimize-position-right');
				$('span.mystickyelements-minimize').addClass('minimize-position-bottom');
				$( '.mystickyelements-minimize.minimize-position-bottom' ).html('&darr;');

				$( '.myStickyelements-position-on-screen-wrap' ).show();

				$( '.myStickyelements-position-desktop-wrap' ).hide();
			}
			mystickyelements_border_radius();
		});

		/* Mobile Position */
		jQuery("input[name='general-settings[position_mobile]'").on( 'click', function(){
			if ( $(this).val() === 'left' || $(this).val() === 'right'){
				jQuery( '.myStickyelements-position-mobile-wrap' ).show();
			}
			if ( $(this).val() === 'bottom' || $(this).val() === 'top'){
				jQuery( '.myStickyelements-position-mobile-wrap' ).hide();
			}
			if( $( '.myStickyelements-preview-screen' ).hasClass( 'myStickyelements-preview-mobile-screen' ) == true ) {
				if ( $(this).val() === 'left'){
					$('.myStickyelements-preview-screen .mystickyelements-fixed').addClass('mystickyelements-position-mobile-left');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-right');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-bottom');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-top');

					$('span.mystickyelements-minimize').removeClass('minimize-position-mobile-right');
					$('span.mystickyelements-minimize').removeClass('minimize-position-mobile-bottom');
					$('span.mystickyelements-minimize').removeClass('minimize-position-mobile-top');
					$('span.mystickyelements-minimize').addClass('minimize-position-mobile-left');

					jQuery( '#myStickyelements_mobile_templete_desc' ).hide();

				}
				if ( $(this).val() === 'right'){
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-left');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').addClass('mystickyelements-position-mobile-right');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-bottom');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-top');

					$('span.mystickyelements-minimize').removeClass('minimize-position-mobile-left');
					$('span.mystickyelements-minimize').removeClass('minimize-position-mobile-bottom');
					$('span.mystickyelements-minimize').removeClass('minimize-position-mobile-top');
					$('span.mystickyelements-minimize').addClass('minimize-position-mobile-right');

					jQuery( '#myStickyelements_mobile_templete_desc' ).hide();
				}
				if ( $(this).val() === 'bottom'){
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-left');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-right');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-top');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').addClass('mystickyelements-position-mobile-bottom');

					$('span.mystickyelements-minimize').removeClass('minimize-position-mobile-left');
					$('span.mystickyelements-minimize').removeClass('minimize-position-mobile-right');
					$('span.mystickyelements-minimize').removeClass('minimize-position-mobile-top');
					$('span.mystickyelements-minimize').addClass('minimize-position-mobile-bottom');

					if (jQuery('#myStickyelements-inputs-templete option:selected').val() != 'default') {
						jQuery( '#myStickyelements_mobile_templete_desc' ).show();
						$('#myStickyelements_mobile_templete_desc').fadeOut(500);
						$('#myStickyelements_mobile_templete_desc').fadeIn(500);
					} else {
						jQuery( '#myStickyelements_mobile_templete_desc' ).hide();
					}
				}
				if ( $(this).val() === 'top'){
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-left');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-right');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-bottom');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').addClass('mystickyelements-position-mobile-top');

					$('span.mystickyelements-minimize').removeClass('minimize-position-mobile-left');
					$('span.mystickyelements-minimize').removeClass('minimize-position-mobile-right');
					$('span.mystickyelements-minimize').removeClass('minimize-position-mobile-bottom');
					$('span.mystickyelements-minimize').addClass('minimize-position-mobile-top');

					if (jQuery('#myStickyelements-inputs-templete option:selected').val() != 'default') {
						jQuery( '#myStickyelements_mobile_templete_desc' ).show();
						$('#myStickyelements_mobile_templete_desc').fadeOut(500);
						$('#myStickyelements_mobile_templete_desc').fadeIn(500);
					} else {
						jQuery( '#myStickyelements_mobile_templete_desc' ).hide();
					}
				}
			}
			mystickyelements_border_radius();
		});
		/*Icon text live preivew*/
		$(document).on( "keyup", '.myStickyelements-icon-text-input' , function(e){
			var myStickyelements_icon_text = $( this ).val();
			var myStickyelements_icon_social = $( this ).data( 'icontext' );
			if( jQuery("#myStickyelements-inputs-templete").val() == 'default' ) {
				$( '.social-' + myStickyelements_icon_social + ' .mystickyelements-icon-below-text' ).show();
			}
			$( '.social-' + myStickyelements_icon_social + ' .mystickyelements-icon-below-text' ).text( myStickyelements_icon_text );
			if( myStickyelements_icon_text == '' ) {
				$( '.social-' + myStickyelements_icon_social + ' .mystickyelements-icon-below-text' ).hide();
			}

		} );
		/*Icon text size live preivew*/
		$(document).on( "keyup", '.myStickyelements-icon-text-size' , function(e){
			var myStickyelements_icon_text_size = $( this ).val();
			var myStickyelements_icon_social = $( this ).data( 'icontextsize' );
			$( '.social-' + myStickyelements_icon_social + ' .mystickyelements-icon-below-text' ).css( 'font-size', myStickyelements_icon_text_size + 'px' );
			if( myStickyelements_icon_text_size == 0 ) {
				$( '.social-' + myStickyelements_icon_social + ' .mystickyelements-icon-below-text' ).css( 'font-size', '' );
			}
		} );
		/*Contact text live preivew*/
		$(document).on( "keyup", '[name="contact-form[text_in_tab]"]' , function(e){
			var myStickyelements_text_in_tab = $( this ).val();
			$( '.mystickyelements-contact-form .mystickyelements-social-icon' ).html( '<i class="far fa-envelope"></i> ' + myStickyelements_text_in_tab );
		} );

		jQuery(".myStickyelements-preview-window ul li").on( 'click', function(){

			$('.myStickyelements-preview-window ul li').removeClass('preview-active');
			if ( $(this).hasClass('preview-desktop') === true ) {
				$(this).addClass('preview-active');
				$('.myStickyelements-preview-screen').removeClass('myStickyelements-preview-mobile-screen');

				$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-left');
				$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-right');
				$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-bottom');
				$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-top');

				jQuery( '#myStickyelements_mobile_templete_desc' ).hide();

				if ( jQuery( 'input[name="contact-form[desktop]"]' ).prop( 'checked' ) == true ) {
					jQuery( '#myStickyelements-preview-contact' ).addClass( 'element-desktop-on' );
				} else {
					jQuery( '#myStickyelements-preview-contact' ).removeClass( 'element-desktop-on' );
				}
			}
			if ( $(this).hasClass('preview-mobile') === true ) {
				$(this).addClass('preview-active');
				$('.myStickyelements-preview-screen').addClass('myStickyelements-preview-mobile-screen');
				$("input[name='general-settings[position_mobile]']:checked").val()
				if ( $("input[name='general-settings[position_mobile]']:checked").val() === 'left'){
					$('.myStickyelements-preview-screen .mystickyelements-fixed').addClass('mystickyelements-position-mobile-left');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-right');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-bottom');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-top');
				}
				if ( $("input[name='general-settings[position_mobile]']:checked").val() === 'right'){
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-left');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').addClass('mystickyelements-position-mobile-right');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-bottom');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-top');
				}
				if ( $("input[name='general-settings[position_mobile]']:checked").val() === 'bottom'){
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-left');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-right');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-top');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').addClass('mystickyelements-position-mobile-bottom');
				}
				if ( $("input[name='general-settings[position_mobile]']:checked").val() === 'top'){
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-left');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-right');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').removeClass('mystickyelements-position-mobile-bottom');
					$('.myStickyelements-preview-screen .mystickyelements-fixed').addClass('mystickyelements-position-mobile-top');
				}

				if ( jQuery( "#myStickyelements-inputs-templete option:selected" ).val() != 'default' && ( jQuery('input[name="general-settings[position_mobile]"]:checked').val() == 'bottom' || jQuery('input[name="general-settings[position_mobile]"]:checked').val() == 'top' ) ) {
					jQuery( '#myStickyelements_mobile_templete_desc' ).show();
					$('#myStickyelements_mobile_templete_desc').fadeOut(500);
					$('#myStickyelements_mobile_templete_desc').fadeIn(500);
				} else {
					jQuery( '#myStickyelements_mobile_templete_desc' ).hide();
				}

				if ( jQuery( 'input[name="contact-form[mobile]"]' ).prop( 'checked' ) == true && $( '#myStickyelements-contact-form-enabled' ).prop("checked") == true ) {
					jQuery( '#myStickyelements-preview-contact' ).addClass( 'element-mobile-on' );
				} else {
					jQuery( '#myStickyelements-preview-contact' ).removeClass( 'element-desktop-on' );
					jQuery( '#myStickyelements-preview-contact' ).removeClass( 'element-mobile-on' );
				}
			}
			mystickyelements_border_radius();
		});

		function mysticky_social_channel_order(){
			var social_count = 1;
			$('.social-channels-item').each( function(){
				/* remove from preview */
				$('ul.myStickyelements-preview-ul li.mystickyelements-social-' + $(this).data('slug')).remove();
			});

			$('.social-channels-item').each( function(){
				var social_channel = $(this).data('slug');
				social_count = ("0" + social_count).slice(-2);
				$('#social-' + social_channel  + '-number').html(social_count);
				social_count++;

				var $social_icon = $('.social-channel-input-box-section .social-'+social_channel).html();
				var $social_custom_icon = $('.social-channel-setting #social-channel-'+ social_channel + '-icon img').attr( 'src');

				var $social_custom_fontawe_icon = $('#mystickyelements-'+ social_channel + '-custom-icon').val();
				if ( typeof $social_custom_icon !== 'undefined' && $social_custom_fontawe_icon !== '') {
					$social_icon = '<i class="' + $social_custom_fontawe_icon + '"></i>';
				}else if ( typeof $social_custom_icon !== 'undefined' && $social_custom_icon !== '' ) {
					$social_icon = '<img src="' + $social_custom_icon + '"/>';
				}

				var $social_bg_color = $('#social-' + social_channel + '-bg_color').val();
				var $social_icon_color = $('#social-' + social_channel + '-icon_color').val();
				var $social_icon_text = $('#social-' + social_channel + '-icon_text').val();
				var $social_icon_text_size = $('#social-' + social_channel + '-icon_text_size').val();
				if( $social_icon_text != '' ) {
					var $social_icon_text_size_style = 'display: block;font-size: '+ $social_icon_text_size + 'px;';
				} else {
					var $social_icon_text_size_style = 'display: none;font-size: '+ $social_icon_text_size + 'px;';
				}

				if( $('#social_channel_' + social_channel + '_desktop').prop("checked") == true ){
					var social_channel_desktop_visible = ' element-desktop-on';
				}
				else {
					var social_channel_desktop_visible = '';
				}

				if( $('#social_channel_' + social_channel + '_mobile').prop("checked") == true ){
					var social_channel_mobile_visible = ' element-mobile-on';
				}else {
					var social_channel_mobile_visible = '';
				}
				
				var social_channel_data = '<li id="mystickyelements-social-' + social_channel + '" class="mystickyelements-social-' + social_channel + '' + social_channel_desktop_visible + '' + social_channel_mobile_visible + ' mystickyelements-social-preview "><span class="mystickyelements-social-icon social-' + social_channel + '" style="background: ' +$social_bg_color + '; color: '+ $social_icon_color + '">' + $social_icon + '<span class="mystickyelements-icon-below-text" style="'+ $social_icon_text_size_style +'">'+ $social_icon_text +'</span></span>';

				if ( social_channel == 'line') {
					social_channel_data += '<style>.mystickyelements-social-icon.social-'+ social_channel +' svg .fil1{fill: '+ $social_icon_color+'}</style>';
				}
				if ( social_channel == 'qzone') {
					social_channel_data += '<style>.mystickyelements-social-icon.social-'+ social_channel +' svg .fil2{fill: '+ $social_icon_color+'}</style>';
				}
				social_channel_data +='</li>';

				$('ul.myStickyelements-preview-ul').append(social_channel_data);

			});

			setTimeout(function(){
				myStickyelements_mobile_count();
			}, 500);
		}
		myStickyelements_mobile_count();
		function myStickyelements_mobile_count () {
			if( $( 'input[name="contact-form[desktop]"]' ).prop("checked") == true && $( '#myStickyelements-contact-form-enabled' ).prop("checked") == true ){
				jQuery( '#myStickyelements-preview-contact' ).addClass( 'element-desktop-on' );
			} else {
				jQuery( '#myStickyelements-preview-contact' ).removeClass( 'element-desktop-on' );
				jQuery( '#myStickyelements-preview-contact' ).removeClass( 'element-desktop-on' );
			}
			if( $( 'input[name="contact-form[mobile]"]' ).prop("checked") == true && $( '#myStickyelements-contact-form-enabled' ).prop("checked") == true ){
				jQuery( '#myStickyelements-preview-contact' ).addClass( 'element-mobile-on' );
			} else {
				jQuery( '#myStickyelements-preview-contact' ).removeClass( 'element-mobile-on' );
			}

			var mobile_bottom = 0;
			var $j = 0;
			if( $(this).hasClass('element-mobile-on') && $j != 4 ) {
				$(this).addClass('mystickyelements-show-last-element');
				$j++;
			} else {
				$(this).removeClass('mystickyelements-show-last-element');
			}
			$('.mystickyelements-fixed ul li').each( function () {
				if ( $(this).hasClass('element-mobile-on') ){
					mobile_bottom++;
				}
			});
			$(".myStickyelements-preview-tab .mystickyelements-fixed").removeClass (function (index, className) {
				return (className.match (/(^|\s)mystickyelements-bottom-social-channel-\S+/g) || []).join(' ');
			});
			$(".myStickyelements-preview-tab .mystickyelements-fixed").removeClass (function (index, className) {
				return (className.match (/(^|\s)mystickyelements-top-social-channel-\S+/g) || []).join(' ');
			});
			$( '.myStickyelements-preview-tab .mystickyelements-fixed' ).addClass( 'mystickyelements-bottom-social-channel-' + mobile_bottom );
			$( '.myStickyelements-preview-tab .mystickyelements-fixed' ).addClass( 'mystickyelements-top-social-channel-' + mobile_bottom );
		}

		/* Sortable Contact Form Fields */
		jQuery( '#mystickyelements-contact-form-fields' ).sortable({
			items:'.mystickyelements-option-field',
			handle: ".mystickyelements-move-handle",
			cursor:'move',
			scrollSensitivity:40,
			placeholder: "mystickyelements-state-highlight",
			helper:function(e,ui){
				ui.children().each(function(){
					jQuery(this).width(jQuery(this).width());
				});
				ui.css('left', '0');
				return ui;
			},
			start:function(event,ui){
				ui.item.css('background-color','#f9fcfc');
			},
			stop:function(event,ui){
				ui.item.removeAttr('style');
			}
		});

		$( "#mystickyelements-contact-form-fields" ).disableSelection();


		/* Open Contact form Dropdown Option popup */
		$( '.contact-form-dropdown-popup' ).on( 'click', function () {
			$( '.contact-form-dropdown-open' ).css('display','block');
			$( 'body' ).addClass( 'contact-form-popup-open' );
		});
		$( '.contact-form-dropdown-open .contact-form-dropdfown-close' ).on( 'click', function () {
			$( '.contact-form-dropdown-open' ).hide();
			$( 'body' ).removeClass( 'contact-form-popup-open' );
		});

		$( document ).on( 'mouseup', function( event ) {
			if ( !$( event.target ).closest( ".myStickyelements-contact-form-field-option .contact-form-field-open,.mystickyelements-add-custom-fields a, .contact-form-field-popup,.contact-form-dropdown-popup, .contact-form-dropdown-open, .myStickyelements-setting-wrap .contact-form-field-open, .contact-form-setting-popup-open" ).length ) {
				$( '.contact-form-field-open' ).hide();
				$( '.contact-form-dropdown-open' ).hide();
				$( 'body' ).removeClass( 'contact-form-popup-open' );
			}				
		});

		/* Add Dropdown Option */
		$( '.add-dropdown-option' ).on( 'click', function () {
			$( this ).parent().parent( '.contact-form-dropdown-option' ).append( '<div class="option-value-field ui-sortable-handle"><div class="move-icon"></div><input type="text" name="contact-form[dropdown-option][]" value=""/><span class="delete-dropdown-option"><i class="fas fa-times"></i></span></div>' );
		});
		/* Delete Dropdown Option */
		$(document).on( "click", '.delete-dropdown-option' , function(e){
			$(this).closest('div').remove();
		});

		/* Open Contact form Field Option popup */
		$(document).on( "click", '.contact-form-field-popup' , function(e){
			$( '#' + $(this).data( 'id' ) ).show();
			$( 'body' ).addClass( 'contact-form-popup-open' );
		});

		$(document).on( "click", '.contact-form-field-open .contact-form-dropdfown-close' , function(e){
			$( '.contact-form-field-open' ).hide();
			$( 'body' ).removeClass( 'contact-form-popup-open' );
		});

		$(document).on( "click", '.myStickyelements-contact-form-field-option .contact-form-field-open .contact-form-dropdfown-close' , function(e){
			$( '.myStickyelements-contact-form-field-option .contact-form-field-open' ).remove();
		});

		$(document).on( "change", '.contact-form-field-select input[type="radio"]' , function(e){
			
			var contact_form_field_select = $( this ).val();
			var contact_form_field_data = $( this ).data( 'field' );
			if( contact_form_field_select != 'iplog' && contact_form_field_select != 'recaptcha' && contact_form_field_select != 'textblock' ){
				
				var append_field = "<div class='mystickyelements-customfields mystickyelements-option-field contact-form-option myStickyelements-icon-wrap mystickyelements-enable_"+contact_form_field_data+"'><span class='mystickyelement-field-hide-content'>Field is hidden.<label for='enable_"+contact_form_field_data+"'><a>Show the field</a></label></span><div class='mystickyelements-move-handle'></div><div class='sticky-col-1'><input type='hidden' class='contact-fields' name='contact-field[][custom_fields][]' value='"+contact_form_field_data+"'><label class='text_label' id='custom_field_label"+contact_form_field_data+"'>Custom Text</label><i class='fas fa-pencil-alt stickyelement-edit'></i><input type='text' name='contact-form[custom_fields]["+contact_form_field_data+"][custom_field_name]' value='Custom Text' class='stickyelement-edit-field'/></div><div class='sticky-col-2'><div class='mystickyelements-reqired-wrap'><input type='text' name='contact-form[custom_fields]["+contact_form_field_data+"][custom_field_value]' value='' placeholder='Enter Text'><input type='hidden' name='contact-form[custom_fields]["+contact_form_field_data+"][field_dropdown]' value='"+contact_form_field_select+"' /></div><div class='mystickyelements-action'><ul><li><label  class='myStickyelements-visible-icon mystickyelements-custom-fields-tooltip'><input type='checkbox' id='enable_"+contact_form_field_data+"' name='contact-form[custom_fields]["+contact_form_field_data+"][custom_field]' value='1' checked='checked'  /><span class='visible-icon'><p class='show-field-tooltip'>Show Field</p><p class='hide-field-tooltip'>Hide Field</p></span></label></li><li><span class='custom-stickyelement-delete'><i class='fas fa-trash-alt stickyelement-delete'></i></span></li><li><label for='"+contact_form_field_data+"_require'>Required</label><label class='myStickyelements-switch'><input type='checkbox' id='"+contact_form_field_data+"_require' class='required' name='contact-form["+contact_form_field_data+"]' value='1'checked='checked'/><span class='slider round'></span></label></li><li><div id='setting_label"+contact_form_field_data+"' class='myStickyelements-setting-label' style='display: none;'><span class='contact-form-field-popup contact-form-popup-setting'><i class='fas fa-cog'></i> Settings</span></div><div id='contact_form_field_open"+contact_form_field_data+"' class='contact-form-field-open contact-form-setting-popup-open' style='display: none;'><div id='contact_form_custom_dropdown"+contact_form_field_data+"' class='contact-form-dropdown-main'><input type='text' name='contact-form[custom_fields]["+contact_form_field_data+"][dropdown-placeholder]' class='contact-form-dropdown-select' value='- Select -' placeholder='Select...'/><div class='contact-form-dropdown-option'><div class='option-value-field'><span class='move-icon'></span><input type='text' name='contact-form[custom_fields]["+contact_form_field_data+"][dropdown-option][]' value=''/><span class='add-customfield-dropdown-option' data-field='"+contact_form_field_data+"'>Add</span></div></div><input type='submit' name='submit' class='button button-primary btn-dropdown-save' value='Save'></div><span class='contact-form-dropdfown-close'><i class='fas fa-times'></i></span></div></li></ul><div class='mystickyelements-hide-field-guide'><p>The field is hidden and won\‚Äôt show.</p></div></div></div></div>";
				
				$( append_field ).insertBefore( ".myStickyelements-consent-main-field" );

				if( contact_form_field_select == 'dropdown' ) {
					$( '#setting_label' + contact_form_field_data ).show();
				} else {
					$( '#setting_label' + contact_form_field_data ).hide();
				}
				if( contact_form_field_select != 'textarea' && contact_form_field_select != 'dropdown' && contact_form_field_select != 'textblock' ) {
					if( contact_form_field_select == 'text' ){
						var custom_field_placeholder = 'Enter your message';
					} else if( contact_form_field_select == 'number' ) {
						var custom_field_placeholder = 'Enter a number';
					} else if( contact_form_field_select == 'url' ) {
						var custom_field_placeholder = 'Enter your website';
					} else if( contact_form_field_select == 'date' ) {
						var custom_field_placeholder = 'mm/dd/yyyy';
					}
					var textbox = $( document.createElement('input') ).attr({
						'name': 'contact-form[custom_fields][' + contact_form_field_data + '][custom_field_value]',
						'placeholder': custom_field_placeholder,
						'type': 'text'
					});
					$( '[name="contact-form[custom_fields][' + contact_form_field_data + '][custom_field_value]"]' ).replaceWith( textbox );
					if( contact_form_field_select == 'file' ) {
						var fileupload = $( document.createElement('input') ).attr({
							'name': 'contact-form[custom_fields][' + contact_form_field_data + '][custom_field_value]',
							'placeholder': custom_field_placeholder,
							'type': 'file',
							'style': 'pointer-events: none;'
						});
						$( '[name="contact-form[custom_fields][' + contact_form_field_data + '][custom_field_value]"]' ).replaceWith( fileupload );
						$( '[name="contact-form[custom_fields][' + contact_form_field_data + '][custom_field_name]"] + .myStickyelements-country-tooltip' ).show();
						$( '[name="contact-form[custom_fields][' + contact_form_field_data + '][custom_field_value]"] + i' ).hide();
					} else {
						$( '[name="contact-form[custom_fields][' + contact_form_field_data + '][custom_field_name]"] + .myStickyelements-country-tooltip' ).hide();
					}
				} else if( contact_form_field_select == 'textarea' || contact_form_field_select == 'textblock' ) {
					var textareabox = $( document.createElement('textarea') ).attr({
						'name': 'contact-form[custom_fields][' + contact_form_field_data + '][custom_field_value]',
						'placeholder': 'Enter your message',
						'rows': '5',
						'cols': '50'
					});
					$( '[name="contact-form[custom_fields][' + contact_form_field_data + '][custom_field_value]"]' ).replaceWith( textareabox );
				} else {
					var selectbox = $( document.createElement('select') ).attr({
						'name': 'contact-form[custom_fields][' + contact_form_field_data + '][custom_field_value]',
						'placeholder': 'Select'
					});
					$( '[name="contact-form[custom_fields][' + contact_form_field_data + '][custom_field_value]"]' ).replaceWith( selectbox );
					$( '[name="contact-form[custom_fields]['+contact_form_field_data+'][custom_field_value]"] + i' ).hide();
				}

				if( contact_form_field_select == 'number' ) {
					var custom_field_text_label = 'Custom Number';
				}else if ( contact_form_field_select == 'url' ) {
					var custom_field_text_label = 'Custom Website';
				}else if ( contact_form_field_select == 'textarea' ) {
					var custom_field_text_label = 'Custom Text Area';
				}else if ( contact_form_field_select == 'textblock' ) {
					var custom_field_text_label = 'Custom Text Block';
				}else if ( contact_form_field_select == 'date' ) {
					var custom_field_text_label = 'Custom Date';
				}else if ( contact_form_field_select == 'dropdown' ) {
					var custom_field_text_label = 'Custom Dropdown';
				}else if ( contact_form_field_select == 'file' ) {
					var custom_field_text_label = 'Custom File Upload';
				}else {
					var custom_field_text_label = 'Custom Text';
				}
				$('#custom_field_label'+contact_form_field_data).text( custom_field_text_label );
				$( '[name="contact-form[custom_fields][' + contact_form_field_data + '][custom_field_name]"]' ).val( custom_field_text_label );
			} else if( contact_form_field_select == 'iplog' ) {
				
				var append_field = "<div id= 'mystickyelements-option-field-iplog' class='mystickyelements-option-field-iplog mystickyelements-option-field contact-form-option myStickyelements-icon-wrap mystickyelements-iplog-field'><div class='mystickyelements-move-handle'></div><div class='sticky-col-1'><input type='hidden' class='contact-fields' name='contact-form[iplog]' value='iplog' /><span class='mystickyelements-custom-fields-tooltip'><a href='javascript:void(0);' class='mystickyelements-tooltip mystickyelements-new-custom-btn'><i class='fas fa-info'></i></a><p>When enabled, the plugin will log the IP address of each contact form submission</p></span><label class='text_label'>Enable IP address log</label></div><div class='sticky-col-2'><div class='mystickyelements-reqired-wrap'><label class='myStickyelements-switch'><input type='checkbox' name='contact-form[iplog_checkbox]' id='iplog_checkbox' value='yes' checked/><span class='slider round'></span></label><input type='hidden' name='contact-form[custom_fields]["+contact_form_field_data+"][iplog]' value='"+contact_form_field_select+"' /></div><div class='mystickyelements-action'><ul><li><span class='iplog-delete'><i class='fas fa-trash-alt stickyelement-iplog-delete'></i></span></li></ul></div></div></div><div id='setting_label"+contact_form_field_data+"' class='myStickyelements-setting-label' style='display: none;'>";
				
				$( append_field ).insertAfter( ".myStickyelements-consent-main-field" );
				
			} else if( contact_form_field_select == 'recaptcha' ) {
				
				var append_field = "<div id='mystickyelements-option-field-recaptcha' class='mystickyelements-option-field contact-form-option myStickyelements-icon-wrap mystickyelements-recaptcha-field mystickyelements-recaptcha_checkbox hide_field'><span class='mystickyelement-field-hide-content'>Field is hidden.<label for='recaptcha_checkbox'><a>Show the field</a></label></span><div class='mystickyelements-move-handle'></div><div class='sticky-col-1'><div class='mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip'><a href='javascript:void(0);' class='mystickyelements-tooltip mystickyelements-new-custom-btn'><i class='fas fa-info'></i></a><p><a href='https://www.google.com/recaptcha/admin/create' target='_blank'>Click here</a> to add your website. (Either select reCAPTCHA v2 or v3). After adding your website you'll get your site key and secret key</p></div><input type='hidden' class='contact-fields' name='contact-form[recaptcha]' value='recaptcha' /><label class='text_label'>reCAPTCHA</label></div><div class='sticky-col-2'><div class='mystickyelements-reqired-wrap recaptcha-content' style='margin-bottom:20px;'><div class='recaptcha-type-input'><span style='display: inline-block;'>reCAPTCHA Type</span>&nbsp;&nbsp;<div class='mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip' ><a href='javascript:void(0);' class='mystickyelements-tooltip mystickyelements-new-custom-btn'><i class='fas fa-info'></i></a><p>Choose between Google's reCAPTCHA v2 or v3</p></div>&nbsp;&nbsp;<span class='captch_type_buttons'>  <label class='col-1 recaptcha-btn' for='captcha-v2'><input type='radio' id='captcha-v2'name='contact-form[recaptcha_type]' value='v2'><span> reCAPTCHA v2</span></label><label class='col-2 recaptcha-btn' for='captcha-v3'><input type='radio' id='captcha-v3' name='contact-form[recaptcha_type]' value='v3' checked='checked'><span> reCAPTCHA v3 </span></label></span></div><div class='recapcha-input-field'><div class='mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip' ><a href='javascript:void(0);' class='mystickyelements-tooltip mystickyelements-new-custom-btn'><i class='fas fa-info'></i></a><p>Click COPY SITE KEY from Google reCAPTCHA and paste it here<img src='"+ mystickyelements.mystickyelement_pro_url +"images/site-key.png' /></p></div>&nbsp;&nbsp;<input type='text' id='recaptcha_site_key' name='contact-form[recaptcha_site_key]' value='' placeholder='Enter your reCAPTCHA site key' /></div></div><div class='mystickyelements-reqired-wrap'><div class='mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip' ><a href='javascript:void(0);' class='mystickyelements-tooltip mystickyelements-new-custom-btn'><i class='fas fa-info'></i></a><p>Click the COPY SECRET KEY from Google reCAPTCHA and paste it here.<img src='" +mystickyelements.mystickyelement_pro_url + "images/secret-key.png' /></p></div>&nbsp;&nbsp;<input type='text' id='recaptcha_secrete_key' name='contact-form[recaptcha_secrete_key]' value='' placeholder='Enter your reCAPTCHA secret key' /></div><div class='mystickyelements-reqired-wrap' style='margin-top:20px;'><div class='mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip' ><a href='javascript:void(0);' class='mystickyelements-tooltip mystickyelements-new-custom-btn'><i class='fas fa-info'></i></a><p>You're allowed to hide the reCAPTCHA badge from the bottom of your website as long as you comply with <a href='https://developers.google.com/recaptcha/docs/faq#id-like-to-hide-the-recaptcha-badge.-what-is-allowed' target='_blank'>these guidelines</a></p></div>&nbsp;&nbsp;<label><input type='checkbox' name='contact-form[invisible_recaptcha_checkbox]' id='invisible_recaptcha_checkbox' value='yes'  />&nbsp;Hide reCAPTCHA badge&nbsp; &nbsp;</label></div><div class='mystickyelements-action'><ul><li><label  class='myStickyelements-visible-icon mystickyelements-custom-fields-tooltip'><input type='checkbox' name='contact-form[recaptcha_checkbox]' id='recaptcha_checkbox' value='yes' /><span class='visible-icon'><p class='show-field-tooltip'>Show Field</p><p class='hide-field-tooltip'>Hide Field</p></span></label></li><li><span class='recaptcha-delete'><i class='fas fa-trash-alt stickyelement-recaptcha-delete'></i></span></li></ul><div class='mystickyelements-hide-field-guide'><p>The field is hidden and won\‚Äôt show.</p></div></div></div></div>";
				
				$( append_field ).insertAfter( ".myStickyelements-consent-main-field" );
				
			} else if( contact_form_field_select == 'textblock' ) {
				$( '.mystickyelements-textblock-main-field' ).addClass( 'mystickyelements-textblock-open' );
				$( 'input[name="contact-form[textblock]"]' ).val( 'textblock' );
				$('html, body').animate({scrollTop : 0},700);
			}
			$( '.myStickyelements-contact-form-field-option .contact-form-field-open' ).remove();
			$( 'body' ).removeClass( 'contact-form-popup-open' );
		} );

		$(document).on( "click", '.stickyelement-iplog-delete' , function(e){
			$( '#mystickyelements-option-field-iplog' ).remove();
		} );
		
		$(document).on( "click", '.stickyelement-recaptcha-delete' , function(e){			
			$( '#mystickyelements-option-field-recaptcha' ).remove();
		} );
		
		$(document).on( "click", '.stickyelement-textblock-delete' , function(e){
			$( '#mystickyelements-option-field-textblock' ).remove();
		} );

		/*  Sortable Dropdown Option Value field*/
		jQuery( '.contact-form-dropdown-option' ).sortable({
			items:'.option-value-field',
			placeholder: "mystickyelements-state-highlight option-value-field",
			cursor:'move',
			scrollSensitivity:40,
			helper:function(e,ui){
				ui.children().each(function(){
					jQuery(this).width(jQuery(this).width());
				});
				ui.css('left', '0');
				return ui;
			},
			start:function(event,ui){
				ui.item.css('background-color','#EFF6F6');
			},
			stop:function(event,ui){
				ui.item.removeAttr('style');
			}
		});

		if ( $( '#myStickyelements-minimize-tab' ).prop("checked") != true ) {
			$( '.myStickyelements-minimize-tab .wp-picker-container' ).hide();
			$( '.myStickyelements-minimized' ).hide();
		}

		if ( $( '#myStickyelements-contact-form-enabled' ).prop("checked") != true ) {
			$('.myStickyelements-contact-form-field-hide').hide();
			myStickyelements_mobile_count();
			$(".turn-off-message").css('display','block');
			$(".contact-form-description").css('display','none');
		}
		else{
			$(".turn-off-message").css('display','none');
			$(".contact-form-description").css('display','block');
		}

		$( document ).on( 'click', '.myStickyelements-visible-icon input[type="checkbox"]', function() {
			var visible_id = $(this).attr('id');
			if( $(this).prop("checked") == true ){
				$( '.mystickyelements-' + visible_id ).removeClass( 'hide_field' );
			}else {
				$( '.mystickyelements-' + visible_id ).addClass( 'hide_field' );
			}
		});

		if ( $( '#myStickyelements-social-channels-enabled' ).prop("checked") != true ) {
			$('.social-disable-info').css('display','block');
			$('.mystickyelements-disable-wrap').addClass('mystickyelements-disable');
			$('.mystickyelements-disable-wrap .myStickyelements-social-channels-info').hide();
			$('.mystickyelements-disable-content-wrap').css('display','block');
			$('.mystickyelements-social-preview').hide();
			$('#myStickyelements-preview-contact').addClass('mystickyelements-contact-last');
			$(".myStickyelements-preview-tab .mystickyelements-fixed").removeClass (function (index, className) {
				return (className.match (/(^|\s)mystickyelements-bottom-social-channel-\S+/g) || []).join(' ');
			});
			$(".myStickyelements-preview-tab .mystickyelements-fixed").removeClass (function (index, className) {
				return (className.match (/(^|\s)mystickyelements-top-social-channel-\S+/g) || []).join(' ');
			});
			$( '.myStickyelements-preview-tab .mystickyelements-fixed' ).addClass( 'mystickyelements-bottom-social-channel-1' );
			$( '.myStickyelements-preview-tab .mystickyelements-fixed' ).addClass( 'mystickyelements-top-social-channel-1' );
		}else{
			
			$('.mystickyelements-disable-wrap').remove('mystickyelements-disable');
			$('.mystickyelements-disable-wrap .myStickyelements-social-channels-info').show();
			$('.mystickyelements-disable-content-wrap').css('display','none');
			$('.social-disable-info').css('display','none');
		}

		$( 'input[name="contact-form[desktop]"]' ).on( 'click', function(){
			if( $(this).prop("checked") == true ){
				jQuery( '#myStickyelements-preview-contact' ).addClass( 'element-desktop-on' );
			} else {
				jQuery( '#myStickyelements-preview-contact' ).removeClass( 'element-desktop-on' );
			}
		});
		$( 'input[name="contact-form[mobile]"]' ).on( 'click', function(){
			if( $(this).prop("checked") == true ){
				jQuery( '#myStickyelements-preview-contact' ).addClass( 'element-mobile-on' );
				myStickyelements_mobile_count();
			} else {
				jQuery( '#myStickyelements-preview-contact' ).removeClass( 'element-mobile-on' );
				myStickyelements_mobile_count();
			}
		});

		$( '#myStickyelements-minimize-tab' ).on( 'click', function () {
			if( $(this).prop("checked") == true ){
				$( '.myStickyelements-minimize-tab .wp-picker-container' ).show();
				$( '.myStickyelements-minimized' ).show();
				var position = $( 'input[name="general-settings[position]"]:checked' ).val();
				var position_arrow = '';
				if (position == 'left'){
					position_arrow = '&larr;';
				} else {
					position_arrow = '&rarr;';
				}
				var backgroud_color = $( '#minimize_tab_background_color' ).val();

				var minimize_content = "<li class='mystickyelements-minimize'><span class='mystickyelements-minimize minimize-position-"+ position +"' style='background: "+ backgroud_color +"'>"+position_arrow+"</span></li>";
				$( '.myStickyelements-preview-tab ul.myStickyelements-preview-ul li.mystickyelements-minimize' ).remove();
				$( ".myStickyelements-preview-tab ul.myStickyelements-preview-ul" ).prepend( minimize_content );
				$( '.myStickyelements-preview-tab ul.myStickyelements-preview-ul' ).removeClass( 'remove-minimize' );
			} else {
				$( '.myStickyelements-minimize-tab .wp-picker-container' ).hide();
				$( '.myStickyelements-minimized' ).hide();
				$( '.myStickyelements-preview-tab ul.myStickyelements-preview-ul li.mystickyelements-minimize' ).remove();
				$( '.myStickyelements-preview-tab ul.myStickyelements-preview-ul' ).addClass( 'remove-minimize' );
			}
			mystickyelements_border_radius();
		});

		$( '#myStickyelements-contact-form-enabled' ).on( 'click', function () {
			$('.myStickyelements-contact-form-field-hide').toggle();
		});

		$( '#myStickyelements-social-channels-enabled' ).on( 'click', function () {
			
				if ($(this).prop("checked") != true) {
					$('#socialform-status-popup').show();	
					$('#mystickyelement-social-popup-overlay').show();
					
				} else {
					$('.mystickyelements-social-preview').toggle();
					$('#myStickyelements-preview-contact').toggleClass('mystickyelements-contact-last');
					$('.social-disable-info').css('display','none');
					myStickyelements_mobile_count();
				}
				mystickyelements_disable_section( 'mystickyelements-tab-social-media', 'myStickyelements-social-channels-enabled' );
		});

		var expanded = false;

		$( '#mystickyelement-multiselectbox' ).on( 'click', function () {
			var checkboxes = document.getElementById("checkboxes");
			if (!expanded) {
				checkboxes.style.display = "block";
				expanded = true;
			} else {
				checkboxes.style.display = "none";
				expanded = false;
			}
		});

		var total_page_option = 0;
		var page_option_content = "";
		total_page_option   = $( '.myStickyelements-page-option' ).length;
	    page_option_content = $( '.myStickyelements-page-options-html' ).html();
	    $( '.myStickyelements-page-options-html' ).remove();
		$( '#remove-page-rules' ).on( 'click', function(){
			$('#myStickyelements-page-options .myStickyelements-page-option').remove();
			$('#remove-page-rules').hide();
			$( this ).prev().show();
		});
	    $( '#create-rule' ).on( 'click', function(){			
			
			$('#remove-page-rules').show();
	        var append_html = page_option_content.replace(/__count__/g, total_page_option, page_option_content);
	        total_page_option++;
	        $( '.myStickyelements-page-options' ).append( append_html );
	        $( '.myStickyelements-page-options .myStickyelements-page-option' ).removeClass( 'last' );
	        $( '.myStickyelements-page-options .myStickyelements-page-option:last' ).addClass( 'last' );

			if( $( '.myStickyelements-page-option .upgrade-myStickyelements' ).length > 0 ) {
				$( this ).hide();
			}
			
			$(".stickyelement-gmt-timezone").select2({ dropdownCssClass: "stickyelement-gmt-timezone" });

			var topPos = jQuery(".show-on-apper").offset().top - jQuery(window).scrollTop() - 700;
			topPos = Math.abs(topPos);
			var finalpos = $( '.mystickyelements-wrap' ).position().top + topPos;
			jQuery(".myStickyelements-preview-tab").css("margin-top", ((-1)*finalpos)+"px");

			mystickyelements_page_rule_width();
		
	    });
		if( $( '.myStickyelements-page-option' ).length && $( '#mystickyelements-display-settings' ).hasClass( 'active' ) ) {
			mystickyelements_page_rule_width();
		}

	    $( document ).on( 'click', '.myStickyelements-remove-rule', function() {
			$( this ).closest( '.myStickyelements-page-option' ).remove();
	        $( '.myStickyelements-page-options .myStickyelements-page-option' ).removeClass( 'last' );
	        $( '.myStickyelements-page-options .myStickyelements-page-option:last' ).addClass( 'last' );

			/*equal Show on Pages and Days and Hours width*/
			
			$(".stickyelement-gmt-timezone").select2({ dropdownCssClass: "stickyelement-gmt-timezone" });
	    });
		/* Add Days & Hours Rules */

		/*equal Show on Pages and Days and Hours width*/
		//var show_page_width = $( '#myStickyelements-page-options .myStickyelements-page-option' ).width();
		//$( '#myStickyelements-days-hours-options .myStickyelements-page-option' ).width( show_page_width );

		$(".ui-timepicker-input.timepicker_time").timepicker({
			showLeadingZero: true
		});
		$(".stickyelement-gmt-timezone.gmt-timezone").select2({ dropdownCssClass: "stickyelement-gmt-timezone" });

		var total_days_hours_option = 0;
		var days_hours_option_content = "";
		total_days_hours_option   = $( '.myStickyelements-days-hours-options .myStickyelements-page-option' ).length;		
	    days_hours_option_content = $( '.myStickyelements-days_hours-options-html' ).html();
		$( '.myStickyelements-days_hours-options-html' ).remove();
		
		$( '#remove-data-and-time-rule' ).on( 'click', function(){
			$('#myStickyelements-days-hours-options .myStickyelements-page-option').remove();
			$('#remove-data-and-time-rule').hide();
			$( this ).prev().show();
		});
		$( '#create-data-and-time-rule' ).on('click', function() {
			$('#remove-data-and-time-rule').show();
			var append_html = days_hours_option_content.replace(/__count__/g, total_days_hours_option, days_hours_option_content);
	        total_days_hours_option++;

			$( '.myStickyelements-days-hours-options' ).append( append_html );
	        $( '.myStickyelements-days-hours-options .myStickyelements-page-option' ).removeClass( 'last' );
	        $( '.myStickyelements-days-hours-options .myStickyelements-page-option:last' ).addClass( 'last' );

			if( $( '.myStickyelements-days-hours-options .upgrade-myStickyelements' ).length > 0 ) {
				$( this ).hide();
			}

			$(".ui-timepicker-input").timepicker({
				showLeadingZero: true
			});

			/*equal Show on Pages and Days and Hours width*/
			//var show_page_width = $( '#myStickyelements-page-options .myStickyelements-page-option' ).width();
			//$( '#myStickyelements-days-hours-options .myStickyelements-page-option' ).width( show_page_width );
			$(".stickyelement-gmt-timezone").select2({ dropdownCssClass: "stickyelement-gmt-timezone" });

			var topPos = jQuery(".show-on-apper").offset().top - jQuery(window).scrollTop() - 700;
			topPos = Math.abs(topPos);
			var finalpos = $( '.mystickyelements-wrap' ).position().top + topPos;
			jQuery(".myStickyelements-preview-tab").css("margin-top", ((-1)*finalpos)+"px");
			
			var window_width = $( window ).width();			
			var dir = $("html").attr("dir");
			if (dir === 'rtl') {				
				var adminmenuwrap = $( '#adminmenuwrap' ).width();
				var more_setting_rows_width = ( $( '.more-setting-rows' ).width() - $( '.myStickyelements-show-on-right' ).width() );
				var remain_width = window_width - more_setting_rows_width - adminmenuwrap - 60;
				$( '.myStickyelements-days-hours-options' ).width( remain_width );	
			
			} else {
				var show_right_pos = $( '.myStickyelements-show-on-right' ).offset().left;
				var remain_width = window_width - show_right_pos - 20;
				$( '.myStickyelements-days-hours-options' ).width( remain_width );	
			}
		});

		/* Traffic Source*/
		$( '#remove-traffic-add-other-source' ).on( 'click', function(){
			$('#myStickyelements-direct-traffic-source').prop('checked','');
			$('#myStickyelements-social-network-traffic-source').prop('checked','');
			$('#myStickyelements-search-engines-traffic-source').prop('checked','');
			$('#myStickyelements-google-ads-traffic-source').prop('checked','');
			$('#custom-traffic-source-lists tbody tr').not(':first').remove();
			$('#remove-traffic-add-other-source').hide();
			$('.traffic-source-option').hide();
			$('#remove-traffic-add-other-source').hide();
			$( this ).prev().show();
		});
		
		$('#custom-traffic-source-lists tbody tr:first .traffic-delete-other-source').hide();
		var other_source = false;
		$('#traffic-add-other-source.traffic-add-source').on('click', function(event){
			event.preventDefault();
			$('#remove-traffic-add-other-source').show();
			$('.traffic-source-option').show();
			$('#traffic-add-other-source').removeClass('traffic-add-source');
			$('#traffic-add-other-source').addClass('traffic-add-other-source');
			$('#traffic-add-other-source').addClass('traffic-not-other-source');
			if( $( '.myStickyelements-traffic-source-inputs .upgrade-myStickyelements' ).length > 0 ) {
				$( this ).hide();
			}
		});
		
		$(document).on('click','#traffic-add-other-source', function(event){
			event.preventDefault();

			if ( other_source === false && $(this).hasClass('traffic-not-other-source')) {
				$(this).removeClass('traffic-not-other-source');
				other_source = true;
				return;
			}
			var $tableBody = $('#custom-traffic-source-lists').find("tbody"),
			$trLast = $tableBody.find("tr:last"),
			$trNew = $trLast.clone();
			$trNew.find('input').val('');
			$trLast.after($trNew);

			$('.traffic-delete-other-source').show();
			$('#custom-traffic-source-lists tbody tr:first .traffic-delete-other-source').hide();
		});
		$(document).on('click','.traffic-delete-other-source', function(event){
			event.preventDefault();
			$(this).parent().parent().parent().remove();

		});


		check_for_preview_pos();
		$(window).on( 'scroll', function(){
			check_for_preview_pos();
		});

		$( document ).on( 'change', '.myStickyelements-url-options', function() {
			var current_val = jQuery( this ).val();
			var myStickyelements_siteURL = jQuery( '#myStickyelements_site_url' ).val();
			var myStickyelements_newURL  = myStickyelements_siteURL;
			if( current_val == 'page_has_url' ) {
				myStickyelements_newURL = myStickyelements_siteURL;
			} else if( current_val == 'page_contains' ) {
				myStickyelements_newURL = myStickyelements_siteURL + '%s%';
			} else if( current_val == 'page_start_with' ) {
				myStickyelements_newURL = myStickyelements_siteURL + 's%';
			} else if( current_val == 'page_end_with' ) {
				myStickyelements_newURL = myStickyelements_siteURL + '%s';
			}
			$( this ).closest( '.url-content' ).find( '.myStickyelements-url' ).text( myStickyelements_newURL );

			/*equal Show on Pages and Days and Hours width*/
			//var show_page_width = $( '#myStickyelements-page-options .myStickyelements-page-option' ).width();
			//$( '#myStickyelements-days-hours-options .myStickyelements-page-option' ).width( show_page_width );
			$(".stickyelement-gmt-timezone").select2({ dropdownCssClass: "stickyelement-gmt-timezone" });
		});

		/* Date: 2019-08-19 Add Custom Fields */
		var customfields = $('#myStickyelements-custom-fields-length').val();
		var custom_field = ( typeof customfields !== 'undefined') ? customfields : 1;
		
		$(document).on( "click", '.mystickyelements-add-custom-fields a' , function(e){
			e.preventDefault();
			var length = $( '.mystickyelements-customfields').length;
			
			if ( length >= 6) {
				$( '#mystickyelements-contact-form-fields .mystickyelements-custom-field-limit' ).remove();
				var field = "<div class='mystickyelements-custom-field-limit'><div class='social-channel-popover'><p class='description'>You can add up to 6 custom fields</p></div></div>";
				$( '#mystickyelements-contact-form-fields' ).append(field);
				$('.social-channel-popover').show().effect('shake', { times: 3 }, 600);
			} else {
				
				var is_active = $(this).data("isactive");
				var active_url_page = $(this).data("active-page-url");
				
				var  free_version_div = ( is_active == 0 ) ? 'mystickyelements-free-version' : '';
				
				var upgrad_div = '<div class="upgrade-myStickyelements-link"><a href="'+active_url_page+'" target="_blank"><i class="fas fa-lock"></i>ACTIVATE YOUR KEY</a><p style="color: #000;">What can you do with the custom fields? </p><a href="https://premio.io/help/mystickyelements/how-to-add-custom-fields-to-your-contact-form/?utm_source=mseplugin" target="_blank">Show me the guide </a></div>';
				
				if( is_active == 1 ){
					upgrad_div='';
				}
				var field = "<div id='contact_form_field_open"+custom_field+"' class='contact-form-field-open contact-form-setting-popup-open'><div class='contact-form-popup-label'><h3>Add A New Field</h3><div class='contact-form-field-select-wrap "+free_version_div+"'><label class='contact-form-field-select'><input type='radio' value='text' data-field='"+custom_field+"' name='contact-form[custom_fields]["+custom_field+"][field_dropdown]' /><span><i class='fas fa-edit'></i>Text</span></label><label class='contact-form-field-select'><input type='radio' value='textarea' data-field='"+custom_field+"' name='contact-form[custom_fields]["+custom_field+"][field_dropdown]' /><span><i class='fas fa-align-justify'></i>Text Area</span></label><label class='contact-form-field-select'><input type='radio' value='number' data-field='"+custom_field+"' name='contact-form[custom_fields]["+custom_field+"][field_dropdown]' /><span><i class='fas fa-phone'></i>Number</span></label><label class='contact-form-field-select'><input type='radio' value='date' data-field='"+custom_field+"' name='contact-form[custom_fields]["+custom_field+"][field_dropdown]' /><span><i class='fas fa-calendar-week'></i>Date</span></label><label class='contact-form-field-select'><input type='radio' value='url' data-field='"+custom_field+"' name='contact-form[custom_fields]["+custom_field+"][field_dropdown]' /><span><i class='fas fa-link'></i>Website</span></label><label class='contact-form-field-select'><input type='radio' value='dropdown' data-field='"+custom_field+"' name='contact-form[custom_fields]["+custom_field+"][field_dropdown]' /><span><i class='fas fa-caret-down'></i>Dropdown</span>	</label><label class='contact-form-field-select'><input type='radio' value='file' data-field='"+custom_field+"' name='contact-form[custom_fields]["+custom_field+"][field_dropdown]' /><span><i class='fas fa-file-upload'></i>File Upload</span>	</label><label class='contact-form-field-select contact-form-field-iplog' style='display: none'><input type='radio' value='iplog' data-field='"+custom_field+"' name='contact-form[custom_fields]["+custom_field+"][field_dropdown]' /><span><i class='fas fa-tools'></i>IP Log</span></label><label class='contact-form-field-select contact-form-field-recaptcha' style='display: none'><input type='radio' value='recaptcha' data-field='"+custom_field+"' name='contact-form[custom_fields]["+custom_field+"][field_dropdown]' /><span><i class='fas fa-tools'></i>reCAPTCHA</span></label><label class='contact-form-field-select contact-form-field-textblock' style='display: none'><input type='radio' value='textblock' data-field='"+custom_field+"' name='contact-form[custom_fields]["+custom_field+"][field_dropdown]' /><span><i class='far fa-newspaper'></i>Text Block</span></label>"+upgrad_div+"</div></div><div id='contact_form_custom_dropdown"+custom_field+"' class='contact-form-dropdown-main' style='display: none;'><input type='text' name='contact-form[custom_fields]["+custom_field+"][dropdown-placeholder]' class='contact-form-dropdown-select' value='' placeholder='Select...'/><div class='contact-form-dropdown-option'><div class='option-value-field'><span class='move-icon'></span><input type='text' name='contact-form[custom_fields]["+custom_field+"][dropdown-option][]' value=''/><span class='add-customfield-dropdown-option' data-field='"+custom_field+"'>Add</span></div></div><input type='submit' name='submit' class='button button-primary' value='Save'></div><span class='contact-form-dropdfown-close'><i class='fas fa-times'></i></span></div>";
				
				$( '.myStickyelements-contact-form-field-option' ).append(field);
				$( 'body' ).addClass( 'contact-form-popup-open' );

				if( jQuery( '.mystickyelements-iplog-field' ).length ){
					jQuery( '.contact-form-field-iplog' ).hide();
				} else {
					jQuery( '.contact-form-field-iplog' ).show();
				}

				if( jQuery( '.mystickyelements-recaptcha-field' ).length ){
					jQuery( '.contact-form-field-recaptcha' ).hide();
				} else {
					jQuery( '.contact-form-field-recaptcha' ).show();
				}

				if( jQuery( '.mystickyelements-textblock-main-field' ).hasClass( 'mystickyelements-textblock-open' ) ){
					jQuery( '.contact-form-field-textblock' ).hide();
				} else {
					jQuery( '.contact-form-field-textblock' ).show();
				}

				jQuery( '.contact-form-dropdown-option' ).sortable({
					items:'.option-value-field',
					placeholder: "mystickyelements-state-highlight option-value-field",
					cursor:'move',
					scrollSensitivity:40,
					helper:function(e,ui){
						ui.children().each(function(){
							jQuery(this).width(jQuery(this).width());
						});
						ui.css('left', '0');
						return ui;
					},
					start:function(event,ui){
						ui.item.css('background-color','#EFF6F6');
					},
					stop:function(event,ui){
						ui.item.removeAttr('style');
					}
				});
				custom_field++;
			}
		});
		
		if( jQuery( '.mystickyelements-iplog-field' ).length ){
			jQuery( '.contact-form-field-iplog' ).hide();
		} else {
			jQuery( '.contact-form-field-iplog' ).show();
		}

		if( jQuery( '.mystickyelements-recaptcha-field' ).length ){
			jQuery( '.contact-form-field-recaptcha' ).hide();
		} else {
			jQuery( '.contact-form-field-recaptcha' ).show();
		}

		if( jQuery( '.mystickyelements-textblock-main-field' ).hasClass( 'mystickyelements-textblock-open' ) ){
			jQuery( '.contact-form-field-textblock' ).hide();
		} else {
			jQuery( '.contact-form-field-textblock' ).show();
		}
		/* Add Dropdown Option */
		$(document).on( "click", '.add-customfield-dropdown-option' , function(e){
			var dropdown_custom_field = $( this ).data( 'field' );
			$( '.contact-form-dropdown-option' ).append( '<div class="option-value-field ui-sortable-handle"><div class="move-icon"></div><input type="text" name="contact-form[custom_fields]['+dropdown_custom_field+'][dropdown-option][]" value=""/><span class="delete-dropdown-option"><i class="fas fa-times"></i></span></div>' );
		});
		/* Delete Custom Field */
		$(document).on( "click", 'i.stickyelement-delete' , function(e){
			
			$(this).parent().parent().parent().parent().parent().parent().remove();
			$( '#mystickyelements-contact-form-fields .mystickyelements-custom-field-limit' ).remove();
			
			
		});

		/* Edit Custom field Name */
		$(document).on( "click", '.stickyelement-edit' , function(e){
			$(this).hide();
			$(this).prev().hide();
			$(this).next().show();
			$(this).next().select();
		});

		$(document).on( "blur", 'input[type="text"].stickyelement-edit-field' , function(e){
			if ($.trim(this.value) == ''){
				this.value = (this.defaultValue ? this.defaultValue : '');
			} else {
				$(this).prev().prev().html(this.value);
			}

			$(this).hide();
			$(this).prev().show();
			$(this).prev().prev().show();
		 });


		$(document).on( "keypress", 'input[type="text"].stickyelement-edit-field' , function(e){
			if (event.keyCode == '13') {
				if ($.trim(this.value) == '') {
					this.value = (this.defaultValue ? this.defaultValue : '');
				} else {
					$(this).prev().prev().html(this.value);
				}
				$(this).hide();
				$(this).prev().show();
				$(this).prev().prev().show();
				return false;
			}
		});

		$("#myStickyelements-inputs-position-on-screen").on( 'change', function() {
			$(".myStickyelements-preview-tab .mystickyelements-fixed").removeClass (function (index, className) {
				return (className.match (/(^|\s)mystickyelements-position-screen-\S+/g) || []).join(' ');
			});
			$( '.myStickyelements-preview-tab .mystickyelements-fixed' ).addClass( 'mystickyelements-position-screen-' + $(this).val() );
		});
		$("#myStickyelements-widget-size").on( 'change', function() {
			$(".myStickyelements-preview-tab .mystickyelements-fixed").removeClass (function (index, className) {
				return (className.match (/(^|\s)mystickyelements-size-\S+/g) || []).join(' ');
			});
			$( '.myStickyelements-preview-tab .mystickyelements-fixed' ).addClass( 'mystickyelements-size-' + $(this).val() );
		});
		$("#myStickyelements-widget-mobile-size").on( 'change', function() {
			$(".myStickyelements-preview-tab .mystickyelements-fixed").removeClass (function (index, className) {
				return (className.match (/(^|\s)mystickyelements-mobile-size-\S+/g) || []).join(' ');
			});
			$( '.myStickyelements-preview-tab .mystickyelements-fixed' ).addClass( 'mystickyelements-mobile-size-' + $(this).val() );
		});

		$("#myStickyelements-entry-effect").on( 'change', function() {
			$(".myStickyelements-preview-tab .mystickyelements-fixed").removeClass('entry-effect');
			$(".myStickyelements-preview-tab .mystickyelements-fixed").removeClass (function (index, className) {
				return (className.match (/(^|\s)mystickyelements-entry-effect-\S+/g) || []).join(' ');
			});
			$( '.myStickyelements-preview-tab .mystickyelements-fixed' ).addClass( 'mystickyelements-entry-effect-' + $(this).val() );
			setTimeout( function(){
				$(".myStickyelements-preview-tab .mystickyelements-fixed").addClass('entry-effect');
			}, 1000 );

		});

		$("#myStickyelements-inputs-templete").on( 'change', function() {
			$(".myStickyelements-preview-tab .mystickyelements-fixed").removeClass (function (index, className) {
				return (className.match (/(^|\s)mystickyelements-templates-\S+/g) || []).join(' ');
			});
			$( '.myStickyelements-preview-tab .mystickyelements-fixed' ).addClass( 'mystickyelements-templates-' + $(this).val() );
			social_icon_live_preview_color_css();

			if ( jQuery(this).val() != 'default' && jQuery( '.preview-mobile' ).hasClass('preview-active') == true ) {
				jQuery( '#myStickyelements_mobile_templete_desc' ).show();
				$('#myStickyelements_mobile_templete_desc').fadeOut(500);
				$('#myStickyelements_mobile_templete_desc').fadeIn(500);
			} else {
				jQuery( '#myStickyelements_mobile_templete_desc' ).hide();
			}
			if( jQuery( this ).val() != 'default' ) {
				$( '.mystickyelements-icon-below-text' ).hide();
			} else {
				$( '.mystickyelements-icon-below-text' ).show();
				$( '.myStickyelements-preview-ul li' ).each( function(){
					if ( $( this ).find( '.mystickyelements-icon-below-text' ).is(':empty') ){
					  $( this ).find( '.mystickyelements-icon-below-text' ).hide();
					}
				} );
			}
		});

		$( '.mystickyelements-fixed' ).addClass( 'entry-effect' );

		/* FontAwesome icon formate in select2 */
		function stickyelement_iconformat(icon) {
			var originalOption = icon.element;
			return $('<span><i class="' + icon.text + '"></i> ' + icon.text + '</span>');
		}

		$('.social-channel-fontawesome-icon').select2({
													allowClear: true,
													templateSelection: stickyelement_iconformat,
													templateResult: stickyelement_iconformat,
													allowHtml: true
												});
		$(document).on( "change", ".social-channel-fontawesome-icon" , function(e){
			//~ $('.social-channel-icon-close').trigger('click');
			var social_channel = $(this).data('slug');
			var social_tooltip_text = social_channel.replace( '_', ' ' );
			$('ul.myStickyelements-preview-ul li span.social-' + social_channel).html('<i class="' + $(this).val() + '"></i> ');
			$('.social-channels-item .social-channel-input-box-section .social-' + social_channel ).html('<i class="' + $(this).val() + '"></i><span class="social-tooltip-popup">' + social_tooltip_text + '</span>');
			if($(this).val() != '') {
				$('#social-channel-' + social_channel + '-custom-icon').val('');
				$('#social-channel-' + social_channel + '-icon').hide();
				$('#social-channel-' + social_channel + '-custom-icon-img').attr( 'src', '');
				$('#social-channel-' + social_channel + '-icon').parent().removeClass( 'myStickyelements-custom-image-select' );
			}
			mystickyelements_border_radius();
		});
		mystickyelements_border_radius();

		/*Confirm dialog*/
		$( '.mystickyelements-wrap p.submit input#submit' ).on( 'click', function(e){
			var icon_below_text_apper = 0;
			var mystickyelement_save_confirm_status = $( 'input#mystickyelement_save_confirm_status' ).val();
			$( '.mystickyelements-fixed ul li' ).each( function(){
				var icon_below_text_val = $( this ).find( '.mystickyelements-icon-below-text' ).text();
				if ( icon_below_text_val != '' ){
				  icon_below_text_apper = 1;
				  return false;
				}
			} );
			if ( jQuery("#myStickyelements-inputs-templete").val() != 'default' && icon_below_text_apper && mystickyelement_save_confirm_status == '' ) {
				e.preventDefault();
				$( "#mystickyelement-save-confirm" ).dialog({
					resizable: false,
					modal: true,
					draggable: false,
					height: 'auto',
					width: 600,
					buttons: {
						"Publish": {
							click:function () {
								$( 'input#mystickyelement_save_confirm_status' ).val('1');
								$( '.mystickyelement-wrap p.submit input#submit' ).trigger('click');
								$( this ).dialog('close');
							},
							text: 'Publish',
	                    	class: 'purple-btn'
						},
						"Keep Editing": {
							 click:function () {
								$( this ).dialog( 'close' );
							},
							text: 'Keep Editing',
	                    	class: 'gray-btn'
						}
					}
				});
			}
			//return false;
		} );

		/*social search*/
		$( ".myStickyelements-social-search-wrap input" ).on( "keyup", function() {
			var search_value = $( this ).val().toLowerCase();			
			$( ".myStickyelements-social-channels-lists li" ).filter(function() {
			  $( this ).toggle( $( this ).data( "search" ).toLowerCase().indexOf( search_value ) > -1 );
			});

			if( search_value.length == 0 ){
				$(".myStickyelements-social-channels-lists-section").animate({height:'190'});
			}
		});

		/*country select*/
		if(jQuery(".myStickyelements-country-list.is-pro").length) {
            jQuery(".myStickyelements-country-list.is-pro").select2({
                placeholder: "Select country",
                allowClear: false,
                closeOnSelect: false
            });
            $('.myStickyelements-country-list.is-pro').on('select2:open', function (e) {
                if(jQuery(".select2-results__options").length) {
                    jQuery(".country-action-btns").remove();
                    jQuery(".select2-results__options").before("<div class='country-action-btns'><a class='select-all-country' href='javascript:;'>Select All</a> | <a class='remove-all-country' href='javascript:;'>Deselect All</a></div>");
                }
            });

            jQuery(document).on("click", ".select-all-country", function(e){
                e.stopPropagation();
                jQuery(".myStickyelements-country-list.is-pro option").each(function(){                    
                    jQuery(this).prop('selected', true);					
                });
                jQuery('.myStickyelements-country-list.is-pro').trigger("change");
                $('.myStickyelements-country-list.is-pro').select2('close');

                var countryCount = parseInt($('.myStickyelements-country-list.is-pro option:selected').length);
                if(countryCount == 0) {
                    $(".myStickyelements-country-button").text("All countries");
                } else if(countryCount == 1) {
                    $(".myStickyelements-country-button").text("1 country selected");
                } else {
                    $(".myStickyelements-country-button").text(countryCount+" countries selected");
                }
            });

            jQuery(document).on("click", ".remove-all-country", function(e){
                e.stopPropagation();
				jQuery(".myStickyelements-country-list.is-pro option").each(function(){                    
					jQuery(this).prop('selected', false);					
                });
				
                jQuery('.myStickyelements-country-list.is-pro').trigger("change");
                
				$('.myStickyelements-country-list.is-pro').select2('close');
                
				var countryCount = parseInt($('.myStickyelements-country-list.is-pro option:selected').length);
                if(countryCount == 0) {
                    $(".myStickyelements-country-button").text("All countries");
                } else if(countryCount == 1) {
                    $(".myStickyelements-country-button").text("1 country selected");
                } else {
                    $(".myStickyelements-country-button").text(countryCount+" countries selected");
                }
            });

            jQuery( document ).on( "click", ".myStickyelements-country-button", function(e){
	            if(!jQuery(".myStickyelements-country-list-box").hasClass("active")) {
	                jQuery(".myStickyelements-country-list-box").addClass("active");
	                $('.myStickyelements-country-list.is-pro').select2('open');
	            } else {
	                jQuery(".myStickyelements-country-list-box").removeClass("active");
	            }
	        });

	        $('.myStickyelements-country-list.is-pro').on('select2:close', function (e) {
                jQuery(".myStickyelements-country-list-box").removeClass("active");
            });

            $('.myStickyelements-country-list.is-pro').on('select2:select', function (e) {
                var countryCount = parseInt($('.myStickyelements-country-list.is-pro option:selected').length);
                if(countryCount == 0) {
                    $(".myStickyelements-country-button").text("All countries");
                } else if(countryCount == 1) {
                    $(".myStickyelements-country-button").text("1 country selected");
                } else {
                    $(".myStickyelements-country-button").text(countryCount+" countries selected");
                }
            });

            $('.myStickyelements-country-list.is-pro').on('select2:unselect', function (e) {
                var countryCount = parseInt($('.myStickyelements-country-list.is-pro option:selected').length);
                if(countryCount == 0) {
                    $(".myStickyelements-country-button").text("All countries");
                } else if(countryCount == 1) {
                    $(".myStickyelements-country-button").text("1 country selected");
                } else {
                    $(".myStickyelements-country-button").text(countryCount+" countries selected");
                }
            });
        }
		$(document).on('click',function(e){   //try to turn off popup
			var click = $(e.target);
			if (click.hasClass('mystickyelements-popup-form')) {
				click.hide();
			}
		});
		$(document).on( "change", ".social-custom-channel-type" , function(e){
			var csc_name = $(this).val();
			var csc_id 	 = $(this).data('id');
			var csc_slug 	 = $(this).data('slug');
			var csc_option = $('option:selected', this).data('social-channel');

			$('#' + csc_id + ' .social-channel-input-box-section .social-channels-list').addClass('custom-channel-type-list');
			$('#' + csc_id + ' .social-channel-input-box-section .social-channels-list').removeClass (function (index, className) {
				return (className.match (/(^|\s)social-\S+/g) || []).join(' ');
			});
			$('#' + csc_id + ' .social-channel-input-box-section .custom-channel-type-list').addClass('social-channels-list');
			$('#' + csc_id + ' .social-channel-input-box-section .custom-channel-type-list').addClass(csc_slug);
			$('#' + csc_id + ' .social-channel-input-box-section .social-channels-list').addClass('social-'+ csc_name);
			
			$('#' + csc_id + ' .social-channel-input-box-section .social-channels-list').css( 'background', csc_option.background_color);
			$('.mystickyelements-social-icon.' + csc_slug ).css('background', csc_option.background_color );
			$('.mystickyelements-social-icon.' + csc_slug +' i').removeClass();
			$('.mystickyelements-social-icon.' + csc_slug +' i').addClass(csc_option.class);
			$('.mystickyelements-social-icon.' + csc_slug ).addClass('social-'+ csc_name);

			$('#' + csc_id + ' .social-channel-input-box-section .social-channels-list i').removeClass();
			$('#' + csc_id + ' .social-channel-input-box-section .social-channels-list i').addClass(csc_option.class);


			$('#' + csc_id + ' .social-channel-input-box-section .social-channels-list .social-tooltip-popup').text(csc_option.hover_text);

			$('#' + csc_id + ' .social-channel-input-box-section input[type="text"]').attr('placeholder',csc_option.placeholder);

			$('#' + csc_id + ' .social-channel-setting .myStickyelements-on-hover-text input[type="text"]').val(csc_option.hover_text);
			$('#' + csc_id + ' .social-channel-setting .myStickyelements-background-color input[type="text"].mystickyelement-color.wp-color-picker').val(csc_option.background_color);

			$('#' + csc_id + ' .social-channel-setting .myStickyelements-background-color .button.wp-color-result').css('background-color',csc_option.background_color);

			/* Hide*/
			if ( csc_name == 'custom' ) {
				//$('#' + csc_id + ' .social-channel-setting .myStickyelements-custom-tab').show();
				$('#' + csc_id + ' .myStickyelements-custom-icon-image').show();
			} else {
				//$('#' + csc_id + ' .social-channel-setting .myStickyelements-custom-tab').hide();
				$('#' + csc_id + ' .myStickyelements-custom-icon-image').hide();
			}

			if (csc_option.is_pre_set_message == 1) {
				$('#' + csc_id + ' .social-channel-setting .myStickyelements-custom-pre-message').show();
			} else {
				$('#' + csc_id + ' .social-channel-setting .myStickyelements-custom-pre-message').hide();
			}

		});

		$( '.mystickyelements-turnit-on' ).on( 'click', function () {
			var mystickyelements_turnit = $( this ).data( 'turnit' );
			$( '#' + mystickyelements_turnit ).trigger( 'click' );
		});
		
		$( '#success-popup-overlay' ).on( 'click', function(){
			
			var url = $(this).data('id');
			$( '.stickyelement-action-popup-open' ).hide();
			$( this ).hide();
			location.href = url
		});
		
		if ( jQuery("input[name='general-settings[open_tabs_when]']:checked").val() == "click" ) {
			$('#mystickyelements-tab-hover-bebahvior').hide();
			$('#mystickyelements-tab-flyout').show();	
		}else{
			$('#mystickyelements-tab-hover-bebahvior').show();
			$('#mystickyelements-tab-flyout').hide();
		}

		//hide_more_channel_list();
		$(document).on( "click", '#myStickyelements-more-social' , function(e){
			e.preventDefault();
			//$(this).slideToggle();
			$( this ).toggleClass( 'more-less-btn-change' );
			$( '.myStickyelements-social-channels-lists' ).toggleClass( 'more-less-channel-change' );

			if( $( '.myStickyelements-social-channels-lists' ).hasClass( 'more-less-channel-change' ) ) {
				 var ulHeight = $(".myStickyelements-social-channels-lists").height() + 30;	
				 $(".myStickyelements-social-channels-lists-section").animate({height:ulHeight});	
			} else {
				$(".myStickyelements-social-channels-lists-section").animate({height:'210'});
			}

			if( $( this ).hasClass( 'more-less-btn-change' ) ) {
				$( '.mystickyelement-more-less-channel a span' ).text( 'Show Less Channels' );
			} else {
				$( '.mystickyelement-more-less-channel a span' ).text( 'Show More Channels' );
			}
		} );
	});

	function hide_more_channel_list() {
		jQuery( '.myStickyelements-social-channels-lists li' ).each( function(){
			var order_css = jQuery( this ).css( 'order' );
			if( order_css > 20 ) {
				jQuery( this ).hide();
				
			}
		} );
	}
	$( window ).on('load',function () {

	    $( '.myStickyelements-url-options' ).each( function(){
	        $( this ).trigger( 'change' );
	    })
		$('.more-setting-rows').css('display','none');
		$('#submit').css('display','none');
		
		var widget_status = $('.mystickyelements-preivew-below-sec').data('id');
		if(widget_status == 'my-sticky-elements-new-widget'){
			$('.preview-publish').hide();
			$('#save_view').hide();
			$('.save-button').hide();
		}
		else{
			$('.preview-publish').html( 'Save' );
			$('.preview-publish').val('Save');
		}
	});
	
	function check_for_preview_pos() {
		
		if($( '.mystickyelements-tabs-wrap' ).length != 0 ){
			var tab_pos_top = $( '.mystickyelements-tabs-wrap' ).offset().top;
			if( jQuery(window).scrollTop() > 80 ) {
				jQuery(".myStickyelements-preview-tab").css("top", "120px");
				jQuery( '.mystickyelements-tabs' ).addClass( 'mystickyelements-tab-sticky' );
				var tab_height = jQuery( '.mystickyelements-tabs' ).outerHeight( true );
				jQuery( '.mystickyelements-form' ).css( 'padding-top', tab_height );
				jQuery( '.mystickyelements-tabs span.mystickyelements-tabs-subheading' ).hide();
			} else {
				jQuery(".myStickyelements-preview-tab").css("top", tab_pos_top + "px");
				jQuery( '.mystickyelements-tabs' ).removeClass( 'mystickyelements-tab-sticky' );
				jQuery( '.mystickyelements-form' ).css( 'padding-top', '' );
				jQuery( '.mystickyelements-tabs span.mystickyelements-tabs-subheading' ).show();
			}

			if(jQuery(".show-on-apper").length && jQuery(".myStickyelements-preview-tab").length && jQuery( '#mystickyelements-display-settings' ).hasClass( 'active' )) {
				var widget_title = 0;
				if ( jQuery('.myStickyelements-widget-title').length){
					widget_title = jQuery(".show-on-apper").outerHeight() + 10;
				}

				var topPos = jQuery(".show-on-apper").offset().top - jQuery(window).scrollTop() - 700;
				if (topPos < 0 && $( ".myStickyelements-page-option" ).length) {
					topPos = Math.abs(topPos);
					var finalpos = $( '.mystickyelements-wrap' ).position().top + topPos;
					jQuery(".myStickyelements-preview-tab").css("margin-top", ((-1)*finalpos)+"px");
				} else {
					jQuery(".myStickyelements-preview-tab").css("margin-top", "0");
				}
			} else {
				jQuery(".myStickyelements-preview-tab").css("margin-top", "0");
			}
			if(jQuery(".show-on-apper-main").length && ! $( ".myStickyelements-page-option" ).length) {
				var widget_title = 0;
				if ( jQuery('.myStickyelements-widget-title').length){
					widget_title = jQuery(".show-on-apper-main").outerHeight() + 10;
				}

				var topPos = jQuery(".show-on-apper-main").offset().top - jQuery(window).scrollTop() - 700;
				if (topPos < 0) {
					topPos = Math.abs(topPos);
					var finalpos = $( '.mystickyelements-wrap' ).position().top + topPos;
					jQuery(".myStickyelements-preview-tab").css("margin-top", ((-1)*finalpos)+"px");
				} else {
					jQuery(".myStickyelements-preview-tab").css("margin-top", "0");
				}
			}	
		}
		
	}

	function social_icon_live_preview_color_css() {
		$('.myStickyelements-preview-ul li.mystickyelements-social-preview').each( function () {
			var current_icon_color = $(this).find('span.mystickyelements-social-icon').get(0).style.backgroundColor;
			var all_icon_class = this.className;
			var current_icon_class = all_icon_class.split(' ');

			var preview_css = '.myStickyelements-preview-screen:not(.myStickyelements-preview-mobile-screen) .mystickyelements-templates-diamond li:not(.mystickyelements-contact-form).'+ current_icon_class[0] +' span.mystickyelements-social-icon::before{background: '+ current_icon_color +'}';
			var preview_css = preview_css + '.myStickyelements-preview-screen.myStickyelements-preview-mobile-screen .mystickyelements-templates-diamond li:not(.mystickyelements-contact-form).'+ current_icon_class[0] +' span.mystickyelements-social-icon::before{background: '+ current_icon_color +'}';
			var preview_css = preview_css + '.myStickyelements-preview-mobile-screen .mystickyelements-position-mobile-bottom.mystickyelements-templates-diamond li:not(.mystickyelements-contact-form).'+ current_icon_class[0] +' span.mystickyelements-social-icon{background: '+ current_icon_color +' !important}';
			var preview_css = preview_css + '.myStickyelements-preview-mobile-screen .mystickyelements-position-mobile-top.mystickyelements-templates-diamond li:not(.mystickyelements-contact-form).'+ current_icon_class[0] +' span.mystickyelements-social-icon{background: '+ current_icon_color +' !important}';

			var preview_css = preview_css + '.myStickyelements-preview-screen:not(.myStickyelements-preview-mobile-screen) .mystickyelements-templates-triangle li:not(.mystickyelements-contact-form).'+ current_icon_class[0] +' span.mystickyelements-social-icon::before{background: '+ current_icon_color +'}';
			var preview_css = preview_css + '.myStickyelements-preview-screen.myStickyelements-preview-mobile-screen .mystickyelements-templates-triangle li:not(.mystickyelements-contact-form).'+ current_icon_class[0] +' span.mystickyelements-social-icon::before{background: '+ current_icon_color +'}';
			var preview_css = preview_css + '.myStickyelements-preview-mobile-screen .mystickyelements-position-mobile-bottom.mystickyelements-templates-triangle li:not(.mystickyelements-contact-form).'+ current_icon_class[0] +' span.mystickyelements-social-icon{background: '+ current_icon_color +' !important}';
			var preview_css = preview_css + '.myStickyelements-preview-mobile-screen .mystickyelements-position-mobile-top.mystickyelements-templates-triangle li:not(.mystickyelements-contact-form).'+ current_icon_class[0] +' span.mystickyelements-social-icon{background: '+ current_icon_color +' !important}';

			var preview_css = preview_css + '.myStickyelements-preview-screen:not(.myStickyelements-preview-mobile-screen) .mystickyelements-position-left.mystickyelements-templates-arrow li:not(.mystickyelements-contact-form).'+ current_icon_class[0] +' span.mystickyelements-social-icon::before{border-left-color: '+ current_icon_color +'}';
			var preview_css = preview_css + '.myStickyelements-preview-screen:not(.myStickyelements-preview-mobile-screen) .mystickyelements-position-right.mystickyelements-templates-arrow li:not(.mystickyelements-contact-form).'+ current_icon_class[0] +' span.mystickyelements-social-icon::before{border-right-color: '+ current_icon_color +'}';
			var preview_css = preview_css + '.myStickyelements-preview-screen:not(.myStickyelements-preview-mobile-screen) .mystickyelements-position-bottom.mystickyelements-templates-arrow li:not(.mystickyelements-contact-form).'+ current_icon_class[0] +' span.mystickyelements-social-icon::before{border-bottom-color: '+ current_icon_color +'}';

			var preview_css = preview_css + '.myStickyelements-preview-screen.myStickyelements-preview-mobile-screen .mystickyelements-position-mobile-left.mystickyelements-templates-arrow li:not(.mystickyelements-contact-form).'+ current_icon_class[0] +' span.mystickyelements-social-icon::before{border-left-color: '+ current_icon_color +'}';
			var preview_css = preview_css + '.myStickyelements-preview-screen.myStickyelements-preview-mobile-screen .mystickyelements-position-mobile-right.mystickyelements-templates-arrow li:not(.mystickyelements-contact-form).'+ current_icon_class[0] +' span.mystickyelements-social-icon::before{border-right-color: '+ current_icon_color +'}';

			if ( current_icon_class[0] == 'insagram' ) {
				var preview_css = preview_css + '.myStickyelements-preview-screen:not(.myStickyelements-preview-mobile-screen) .mystickyelements-templates-arrow li:not(.mystickyelements-contact-form).'+ current_icon_class[0] +' span.mystickyelements-social-icon::before{background: '+ current_icon_color +'}';
				var preview_css = preview_css + '.myStickyelements-preview-screen.myStickyelements-preview-mobile-screen .mystickyelements-templates-arrow li:not(.mystickyelements-contact-form).'+ current_icon_class[0] +' span.mystickyelements-social-icon::before{background: '+ current_icon_color +'}';
			}
			$('head').append('<style type="text/css"> '+ preview_css +' </style>');
		});
	}

	/* Date: 2019-07-26 */
	var location_href = window.location.href;
	if ( window.location.href.indexOf('page=my-sticky-elements&widget=') > -1 ) {
		$( '#toplevel_page_my-sticky-elements .wp-submenu.wp-submenu-wrap li').each(function(){
			var element_href  =  $(this).find('a').attr( 'href' );
			if ( typeof element_href !== 'undefined' ) {
				$(this).removeClass('current');
				if ( window.location.href.indexOf(element_href) > -1 && element_href.indexOf( '&widget=' ) > -1 ) {
					$(this).addClass('current');
				}
			}
		});
	}

	$(".mystickyelement-delete").on( 'click', function() {
		return window.confirm("Are you sure you want to delete this widget?");
	});
	/* END Date: 2019-07-26 */
	
	/*font family Privew*/
	$( document ).on( 'change' , '.form-fonts' , function(){	
		var font_val = $(this).val();
		var selected = $("option:selected", this);
		$( '.sfba-google-font' ).remove();
		if(font_val == 'System Stack' ) {
			font_val = '-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif';
		}
		$( 'head' ).append( '<link href="https://fonts.googleapis.com/css?family='+ font_val +':400,600,700" rel="stylesheet" type="text/css" class="sfba-google-font">' );
		$( '.myStickyelements-preview-ul .mystickyelements-social-icon' ).css( 'font-family',font_val );
		
		
		if (selected.parent()[0].label == "Google Fonts") {
			$(".load-google-fonts-enabled").show();
			$("input[name='general-settings[load_google_fonts]']").prop("checked",true);
			$("input[name='general-settings[is_select_google_fonts]']").val("1");
		}else{
			$(".load-google-fonts-enabled").hide();
			//$("input[name='general-settings[load_google_fonts]']").prop("checked",false);
			$("input[name='general-settings[is_select_google_fonts]']").val("0");
		}
		
		
	} );
	
	
	$(document).on("click","#mystickyelement-disable-loadfonts",function(){
		$("input[name='general-settings[load_google_fonts]']").prop('checked',false);
		$("#myStickyelements-load-google-fonts-enable").removeAttr('checked');
		$("#mystickyelements-load-google-enable-popup").hide();
		$("#mystickyelement-load-google-popup-overlay").hide();
	});
	
	$(document).on("click","#mystickyelement-button-keep-loadfonts",function(){
		$("input[name='general-settings[load_google_fonts]']").prop('checked',true);
		$("#mystickyelements-load-google-enable-popup").hide();
		$("#mystickyelement-load-google-popup-overlay").hide();
	});
	
	$(document).on("change","input[name='general-settings[load_google_fonts]']",function(){
		if(!$(this).prop('checked')){
			$("#mystickyelements-load-google-enable-popup").show();
			$("#mystickyelement-load-google-popup-overlay").show();
			$(this).prop('checked',false)
		}else{
			$(this).prop('checked',true)
		}
	});
	
	$(document).on("click","#mystickyelement-load-google-popup-overlay",function(){
		$("#mystickyelements-load-google-enable-popup").hide();
		$("#mystickyelement-load-google-popup-overlay").hide();
		$("input[name='general-settings[load_google_fonts]']").prop('checked',true);
	});
	function mystickyelements_border_radius(){
		var position_device = '';
		var social_id = '';
		var $i = 0;
		var second_social_id = '';
		var $flg = false;

		if( $(".myStickyelements-preview-screen" ).hasClass( "myStickyelements-preview-mobile-screen" ) ){
			position_device = 'mobile-';
		}
		var $mobile_bottom = 0;
		var $j = 0;
		$('.mystickyelements-fixed ul li').each( function () {
			$('.mystickyelements-position-' + position_device + 'left #' + $(this).attr('id') + ' .mystickyelements-social-icon').css('border-radius','');
			$('.mystickyelements-position-' + position_device + 'right #' + $(this).attr('id') + ' .mystickyelements-social-icon').css('border-radius','');
			$('.mystickyelements-position-' + position_device + 'bottom #' + $(this).attr('id') + ' .mystickyelements-social-icon').css('border-radius','');

			if( $(this).hasClass('element-mobile-on') && $j != 4 ) {
				$(this).addClass('mystickyelements-show-last-element');
				$j++;
			} else {
				$(this).removeClass('mystickyelements-show-last-element');
			}

			/* Check First LI */
			if ( $i == 1 ){
				if ( !$(".myStickyelements-preview-screen" ).hasClass( "myStickyelements-preview-mobile-screen" ) &&  !$(this).hasClass('element-desktop-on')){
					$flg = true;
				}
				if ( $(".myStickyelements-preview-screen" ).hasClass( "myStickyelements-preview-mobile-screen" ) &&  !$(this).hasClass('element-mobile-on')){
					$flg = true;
				}
			}
			if( $(".myStickyelements-preview-screen" ).hasClass( "myStickyelements-preview-mobile-screen" ) ) {
				second_social_id == '';
			}
			if( second_social_id == '' ) {
				//if ( $i == 1 && $flg === true) {
				if ( $flg === true ) {
					if ( !$(".myStickyelements-preview-screen" ).hasClass( "myStickyelements-preview-mobile-screen" ) && $(this).hasClass('element-desktop-on') ){
						second_social_id = $(this).attr('id');
					}
					if ( $(".myStickyelements-preview-screen" ).hasClass( "myStickyelements-preview-mobile-screen" ) && $(this).hasClass('element-mobile-on') ){
						second_social_id = $(this).attr('id');
					}
				}
			}
			if ( !$(".myStickyelements-preview-screen" ).hasClass( "myStickyelements-preview-mobile-screen" ) &&  $(this).hasClass('element-desktop-on')){
				social_id = $(this).attr('id');
			}
			if ( $(".myStickyelements-preview-screen" ).hasClass( "myStickyelements-preview-mobile-screen" ) &&  $(this).hasClass('element-mobile-on')){
				social_id = $(this).attr('id');
				$mobile_bottom++;
			}
			$i++;
		});
		$(".myStickyelements-preview-tab .mystickyelements-fixed").removeClass (function (index, className) {
			return (className.match (/(^|\s)mystickyelements-bottom-social-channel-\S+/g) || []).join(' ');
		});
		$(".myStickyelements-preview-tab .mystickyelements-fixed").removeClass (function (index, className) {
			return (className.match (/(^|\s)mystickyelements-top-social-channel-\S+/g) || []).join(' ');
		});
		$( '.mystickyelements-fixed.mystickyelements-position-mobile-bottom').addClass( 'mystickyelements-bottom-social-channel-' + $mobile_bottom );
		$( '.mystickyelements-fixed.mystickyelements-position-mobile-top').addClass( 'mystickyelements-top-social-channel-' + $mobile_bottom );
		if ( social_id != ''  ) {
			$('.mystickyelements-fixed').show();
			if ( social_id === 'myStickyelements-preview-contact' ){
				$('.mystickyelements-position-' + position_device + 'left #' + social_id + ' .mystickyelements-social-icon').css('border-bottom-left-radius', '10px' );
				$('.mystickyelements-position-' + position_device + 'right #' + social_id + ' .mystickyelements-social-icon').css('border-top-left-radius', '10px' );
				$('.mystickyelements-position-' + position_device + 'bottom #' + social_id + ' .mystickyelements-social-icon').css('border-top-right-radius', '10px' );

				if( $( 'li.mystickyelements-minimize' ).length !== 1 ){
					$('.mystickyelements-position-' + position_device + 'left #' + social_id + ' .mystickyelements-social-icon').css('border-bottom-right-radius', '10px' );
					$('.mystickyelements-position-' + position_device + 'right #' + social_id + ' .mystickyelements-social-icon').css('border-top-right-radius', '10px' );
				}
			} else if ( social_id !== 'myStickyelements-preview-contact') {
				if ( $i=== 1 ) {
					$('.mystickyelements-position-' + position_device + 'left #' + social_id + ' .mystickyelements-social-icon').css('border-radius', '0 10px 10px 0' );
					$('.mystickyelements-position' + position_device + '-right #' + social_id + ' .mystickyelements-social-icon').css('border-radius', '10px 0 0 10px' );
				} else {
					$('.mystickyelements-position-' + position_device + 'left #' + social_id + ' .mystickyelements-social-icon').css( 'border-bottom-right-radius', '10px' );
					$('.mystickyelements-position-' + position_device + 'right #' + social_id + ' .mystickyelements-social-icon').css( 'border-bottom-left-radius', '10px' );
					$('.mystickyelements-position-' + position_device + 'bottom #' + social_id + ' .mystickyelements-social-icon').css( 'border-top-right-radius', '10px' );
				}
			}
		} else {
			$('.mystickyelement-credit').hide();
			$('.mystickyelements-fixed').hide();
		}
		if ( second_social_id != '' && second_social_id !== 'myStickyelements-preview-contact' && $( 'li.mystickyelements-minimize' ).length !== 1  ) {
			$('.mystickyelements-position-' + position_device + 'left #' + second_social_id + ' .mystickyelements-social-icon').css('border-top-right-radius', '10px' );
			$('.mystickyelements-position-' + position_device + 'right #' + second_social_id + ' .mystickyelements-social-icon').css('border-top-left-radius', '10px' );
			$('.mystickyelements-position-' + position_device + 'bottom #' + second_social_id + ' .mystickyelements-social-icon').css('border-top-left-radius', '10px' );
		}
	}

	function mystickyelements_page_rule_width() {
		var dir = $("html").attr("dir");
		var window_width = $( window ).width();
		if (dir === 'rtl') {				
			//var show_right_pos = $( '.myStickyelements-show-on-right' ).offset().left;
			
			var adminmenuwrap = $( '#adminmenuwrap' ).width();
			var more_setting_rows_width = ( $( '.more-setting-rows' ).width() - $( '.myStickyelements-show-on-right' ).width() );
			var remain_width = window_width - more_setting_rows_width - adminmenuwrap - 60;
			$( '.myStickyelements-page-options' ).width( remain_width );
			$( '.myStickyelements-days-hours-options' ).width( remain_width );				
		
		} else {
			var show_right_pos = $( '.myStickyelements-show-on-right' ).offset().left;
			var remain_width = window_width - show_right_pos - 20;
			$( '.myStickyelements-page-options' ).width( remain_width );
			$( '.myStickyelements-days-hours-options' ).width( remain_width );	
		}
	}
	
	
	/* mysticky tab click */
		
	$(document).ready(function(){
		
		jQuery( '#mystickyelements-contact-form,#mystickyelements-social-media, #mystickyelements-display-settings' ).on( 'click', function(e) {
			e.preventDefault();
			var curent_tab = $('.mystickyelements-tab.active').data( 'tab-id');
			var next_tab = $(this).data( 'tab-id');
			var widget_status = $('.mystickyelements-preivew-below-sec').data('id');
			if ( curent_tab == next_tab) {
				return false;
			}
			
			if( widget_status == 'my-sticky-elements-new-widget' && next_tab=='mystickyelements-tab-display-settings' ){
				if ( $( '#myStickyelements-social-channels-enabled' ).prop("checked") == true ) {
					var is_links_empty = 0;
					jQuery('.mystickyelement-social-links-input').each(function(index, value) {
						if( jQuery(this).val() == '' ){
							is_links_empty = 1;
							return;	
						}
					});
					if( is_links_empty == 1 && jQuery(this).data("tab-triger") != "yes"){
						jQuery('.mystickyelements-missing-link-popup, #mystickyelement-missing-link-overlay').show();
						jQuery('.mystickyelement-dolater-widget-btn').attr('data-popupfrom', 'tab_button');
						return false;	
					}
				}
				
				$('#btn-next').hide();
				$('#next-button-prev').hide();
				$('#submit').show();
				$('.preview-publish').show();
				$('.preview-publish').html( 'Publish' );
				$('.preview-publish').val('Publish');
				$('#save_view').show();
				$('.save-button').show();
				$( '#mystickyelements-contact-form').addClass('completed');
				$( '#mystickyelements-social-media').addClass('completed');
			}else if( widget_status == 'my-sticky-elements-new-widget' &&  next_tab != 'mystickyelements-tab-display-settings' ){

				$('#btn-next').show();
				$('#next-button-prev').show();
				$('#submit').hide();
				$('.preview-publish').hide();
				$('.preview-publish').html( 'Save' );
				$('.preview-publish').val('Save');
				$('#save_view').hide();
				$('.save-button').hide();
				if( next_tab == 'mystickyelements-tab-social-media' ) {
					$( '#mystickyelements-contact-form').addClass('completed');
					$( '#mystickyelements-social-media').removeClass('completed');
				} else if( next_tab == 'mystickyelements-tab-contact-form' ) {
					$( '#mystickyelements-contact-form').removeClass('completed');
					$( '#mystickyelements-social-media').removeClass('completed');
				}
			}else if( widget_status=='' && next_tab == 'mystickyelements-tab-display-settings' ){
				if ( $( '#myStickyelements-social-channels-enabled' ).prop("checked") == true ) {
					var is_links_empty = 0;
					jQuery('.mystickyelement-social-links-input').each(function(index, value) {
						if( jQuery(this).val() == '' ){
							
							is_links_empty = 1;
							return;	
						}
					});
					if( is_links_empty == 1 && jQuery(this).data("tab-triger") != "yes"){
						jQuery('.mystickyelements-missing-link-popup, #mystickyelement-missing-link-overlay').show();
						jQuery('.mystickyelement-dolater-widget-btn').attr('data-popupfrom', 'tab_button');
						return false;	
					}
				}
				
	
				$('#btn-next').hide();
				$('#next-button-prev').hide();
				$('#submit').show();
				$('.preview-publish').show();
				$('.preview-publish').html( 'Publish' );
				$('.preview-publish').val('Publish');
				$('#save_view').show();
				$('.save-button').show();
				$( '#mystickyelements-contact-form').addClass('completed');
				$( '#mystickyelements-social-media').addClass('completed');
			}else{
				$('#btn-next').show();
				$('#next-button-prev').show();
				$('#submit').hide();
				$('.preview-publish').show();
				$('.preview-publish').html( 'Save' );
				$('.preview-publish').val('Save');
				$('#save_view').show();
				$('.save-button').show();
				if( next_tab=='mystickyelements-tab-social-media' ) {
					$( '#mystickyelements-contact-form').addClass('completed');
					$( '#mystickyelements-social-media').removeClass('completed');
				} else if( next_tab=='mystickyelements-tab-contact-form' ) {
					$( '#mystickyelements-contact-form').removeClass('completed');
					$( '#mystickyelements-social-media').removeClass('completed');
				}
			}
			
			if( next_tab=='mystickyelements-tab-contact-form' ){
				$('#btn-prev').hide();
			}else{
				$('#btn-prev').show();
			}
			
			$( '.mystickyelements-tab').removeClass( 'active');
			$(this).addClass('active');
			$( '#' + next_tab).show();
			$( '#' + curent_tab).hide();

			if( next_tab=='mystickyelements-tab-display-settings' ){
				mystickyelements_page_rule_width();
			}
		});
		mystickyelements_disable_section( 'mystickyelements-tab-contact-form', 'myStickyelements-contact-form-enabled' );

		
		if( $('#mystickyelements-contact-form').data('tab-index') == 'mystickyelements-contact-form' ){
			$( '#mystickyelements-contact-form' ).trigger( 'click');
		}else if($('#mystickyelements-social-media').data('tab-index') == 'mystickyelements-social-media' ){
			$( '#mystickyelements-social-media' ).trigger( 'click');
		}else{
			jQuery('#mystickyelements-display-settings').attr('data-tab-triger','yes');
			$( '#mystickyelements-display-settings' ).trigger( 'click');	
		}
		
		
		$('#btn-more').on('click',function(event){
			event.preventDefault();
			$('.more-setting-rows').slideDown();	
			$('#btn-less').show();
			$(this).hide();
		});
		
		$('#btn-less').on('click',function(event){
			event.preventDefault();
			$('.more-setting-rows').hide();	
			$('#btn-more').show();
			$(this).hide();
		});

		$( '#btn-prev' ).on( 'click' , function( event ){
			
			event.preventDefault();
			var curent_tab = $( '.mystickyelements-tab.active' ).data( 'tab-id');
			var next_tab = '';
			var widget_status = $('.mystickyelements-preivew-below-sec').data('id');
			
			$( '.mystickyelements-tab' ).removeClass( 'active' );
			if( curent_tab == 'mystickyelements-tab-display-settings' ){
			 	next_tab = 'mystickyelements-tab-social-media';
				$( '#mystickyelements-social-media' ).addClass( 'active' );
				$( '#mystickyelements-social-media').removeClass('completed');
				$( '#submit').hide();
				$( this ).show();
				$( '#next-button-prev' ).show();
				$( '#btn-next' ).show();
				$('.preview-publish').html( 'Save' );
				$('.preview-publish').val('Save');
				
			}else if(curent_tab == 'mystickyelements-tab-social-media'){
				next_tab = 'mystickyelements-tab-contact-form';
				$( '#mystickyelements-contact-form').addClass('active');
				$( '#mystickyelements-contact-form').removeClass('completed');
				$('.preview-publish').html( 'Save' );
				$('.preview-publish').val('Save');
				$(this).hide();
			}
			
			if( widget_status == 'my-sticky-elements-new-widget' && curent_tab == 'mystickyelements-tab-display-settings' ){
				$('.preview-publish').hide();
				$('#save_view').hide();
				$('.save-button').hide();
			}else if( widget_status == 'my-sticky-elements-new-widget' && curent_tab == 'mystickyelements-tab-social-media' ){
				$('.preview-publish').hide();
				$('#save_view').hide();
				$('.save-button').hide();
			}
			
			if ( curent_tab == next_tab) {
				return false;
			}
			
			$( '#' + next_tab).show();
			$( '#' + curent_tab).hide();
			
			$("html, body").animate({ scrollTop: 0 }, "slow");
		});
		
		$( '#btn-next' ).on( 'click' , function(event){
			
			event.preventDefault();
			var curent_tab = $('.mystickyelements-tab.active').data( 'tab-id');
			var next_tab = '';
			var widget_status = $('.mystickyelements-preivew-below-sec').data('id');
			$( '.mystickyelements-tab').removeClass( 'active');
			
			if(curent_tab == 'mystickyelements-tab-contact-form'){
			 	next_tab = 'mystickyelements-tab-social-media';
				$( '#mystickyelements-social-media').addClass('active');
				$( '#mystickyelements-contact-form').addClass('completed');
				$('#submit').hide();
				$(this).show();
				$('#next-button-prev').show();
				$('.preview-publish').html( 'Save' );
				$('.preview-publish').val('Save');
				$( '#btn-prev' ).show();
				$('.preview-publish').show();
				$('#save_view').show();
				$('.save-button').show();
				
				if( widget_status == 'my-sticky-elements-new-widget' ){
					$('.preview-publish').hide();
					$('#save_view').hide();
					$('.save-button').hide();
				}
			}
			else if(curent_tab == 'mystickyelements-tab-social-media'){
				if ( $( '#myStickyelements-social-channels-enabled' ).prop("checked") == true ) {
					var is_links_empty = 0;
					jQuery('.mystickyelement-social-links-input').each(function(index, value) {
						if( jQuery(this).val() == '' ){
							is_links_empty = 1;
							return;	
						}
					});
				}
				if( is_links_empty == 1 && jQuery(this).data("tab-triger") != "yes" ){
					jQuery('.mystickyelement-dolater-widget-btn').attr('data-popupfrom', 'next_button');
					if ( $( '#myStickyelements-social-channels-enabled' ).prop("checked") == true ) {
						jQuery('.mystickyelements-missing-link-popup, #mystickyelement-missing-link-overlay').show();
					}
					$( '#mystickyelements-social-media').addClass('active');
					$( '#mystickyelements-contact-form').addClass('completed');
					return false;
				}else{
					next_tab = 'mystickyelements-tab-display-settings';
					$( '#mystickyelements-display-settings').addClass('active');
					$( '#mystickyelements-contact-form').addClass('completed');
					$( '#mystickyelements-social-media').addClass('completed');
					$(this).hide();
					$('#next-button-prev').hide();
					$('#submit').show();
					$('.preview-publish').show();
					$('.preview-publish').html( 'Publish' );
					$('.preview-publish').val('Publish');
					$('#save_view').show();
					$('.save-button').show();
				}
			}
			
			if ( curent_tab == next_tab) {
				return false;
			}
			
			$( '#' + next_tab).show();
			$( '#' + curent_tab).hide();
			
			$("html, body").animate({ scrollTop: 0 }, "slow");

			if( next_tab=='mystickyelements-tab-display-settings' ){
				mystickyelements_page_rule_width();
			}
		});
		
		$('#next-button-prev').on('click',function(event){
			event.preventDefault();
			var curent_tab = $('.mystickyelements-tab.active').data( 'tab-id');
			var widget_status = $('.mystickyelements-preivew-below-sec').data('id');
			var next_tab = '';
			
			$( '.mystickyelements-tab').removeClass( 'active');
			if(curent_tab == 'mystickyelements-tab-contact-form'){
			 	next_tab = 'mystickyelements-tab-social-media';
				$( '#mystickyelements-social-media').addClass('active');
				$( '#mystickyelements-contact-form').addClass('completed');
				$('#submit').hide();
				$(this).show();
				$( '#btn-prev' ).show();
				$('.preview-publish').show();
				$('.preview-publish').html( 'Save' );
				$('.preview-publish').val('Save');
				$('#save_view').show();
				$('.save-button').show();
				
				if( widget_status == 'my-sticky-elements-new-widget' && next_tab == 'mystickyelements-tab-social-media' ){
					$('.preview-publish').hide();
					$('#save_view').hide();
					$('.save-button').hide();
				}
			}else if(curent_tab == 'mystickyelements-tab-social-media'){
				if ( $( '#myStickyelements-social-channels-enabled' ).prop("checked") == true ) {
					var is_links_empty = 0;
					jQuery('.mystickyelement-social-links-input').each(function(index, value) {
						if( jQuery(this).val() == '' ){
							is_links_empty = 1;
							return;	
						}
					});
				}
				if( is_links_empty == 1 && jQuery(this).data("tab-triger") != "yes" ){
					jQuery('.mystickyelement-dolater-widget-btn').attr('data-popupfrom', 'next_preview_button');
					if ( $( '#myStickyelements-social-channels-enabled' ).prop("checked") == true ) {
						jQuery('.mystickyelements-missing-link-popup, #mystickyelement-missing-link-overlay').show();
					}
					$( '#mystickyelements-social-media').addClass('active');
					$( '#mystickyelements-contact-form').addClass('completed');
					return false;
				}else{
					next_tab = 'mystickyelements-tab-display-settings';
					$( '#mystickyelements-display-settings').addClass('active');
					$( '#mystickyelements-contact-form').addClass('completed');
					$( '#mystickyelements-social-media').addClass('completed');
					$(this).hide();
					$('#btn-next').hide();
					$('#submit').show();
					$('.preview-publish').show();
					$('.preview-publish').html( 'Publish' );
					$('.preview-publish').val('Publish');
					$('#save_view').show();
					$('.save-button').show();
				}
			}
			
			if ( curent_tab == next_tab) {
				return false;
			}
			
			$( '#' + next_tab).show();
			$( '#' + curent_tab).hide();
			
			$("html, body").animate({ scrollTop: 0 }, "slow");

			if( next_tab=='mystickyelements-tab-display-settings' ){
				mystickyelements_page_rule_width();
			}
			
		});
		
		if ( $(".settings-save-toast").length !== 0) {
			setTimeout(function() { 
				$(".settings-save-toast").hide(); 
			}, 5000);				
		}
	});
	

	function mystickyelements_disable_section( parent_class, enable_class ){
		if ( $( '#' + enable_class ).prop("checked") != true ) {
			$( '#' + parent_class + ' .mystickyelements-disable-wrap' ).addClass( 'mystickyelements-disable' );
			$( '#' + parent_class + ' .mystickyelements-disable .myStickyelements-social-channels-info' ).hide();
			$( '#' + parent_class + ' .mystickyelements-disable-content-wrap' ).show();
		} else {
			$( '#' + parent_class + ' .mystickyelements-disable-wrap' ).removeClass( 'mystickyelements-disable' );
			$( '#' + parent_class + ' .mystickyelements-disable-wrap .myStickyelements-social-channels-info' ).show();
			$( '#' + parent_class + ' .mystickyelements-disable-content-wrap' ).hide();
		}
	}
	
	/**  Mailchimp and mailpoet jquery  * */
	$(document).ready(function(){
		if ( $('input#send_leads_mailchimp').prop('checked') == true ) {
			$('#contact-form-mailchimp').show();
		} else {
			$('#contact-form-mailchimp').hide();
		}
		$( 'input#send_leads_mailchimp' ).on( 'click', function(){
			if( $(this).prop("checked") == true ){
				$('#contact-form-mailchimp').show();
			} else {
				$('#contact-form-mailchimp').hide();
			}
		});
		
		$(document).on( "change", "#mailchimp-enable-tag" , function(e){
			if( $(this).prop('checked') === true ) {
				$('.myStickyelements-mailchimp-tags-info').show();
			} else {
				$('.myStickyelements-mailchimp-tags-info').hide();
			}
		});
		
		$(document).on( "change", "#mailchimp-enable-group" , function(e){
			if( $(this).prop('checked') === true ) {
				$('.mailchimp-group-info').show();
			} else {
				$('.mailchimp-group-info').hide();
			}
		});
		
		$(document).on( "change", "#stickyelement_mailchimp_lists" , function(e){
			
			var widget_no = $('#mystickyelements-no-widget').val();
			if ( typeof widget_no == 'undefined' ) {
				widget_no = '';
			}
			$('.myStickyelements-mailchimp-groups ').show();
			
			jQuery.ajax({
				url: ajaxurl,
				type:'post',
				data: 'action=mystickyelement-mailchimp-field&widget_no='+widget_no+'&list_id=' + $( this ).val() +'&wpnonce=' + mystickyelements.ajax_nonce,
				success: function( data ){					
					if ( data != '' ) {
						$( '.myStickyelements-mailchimp-field-mapping' ).show();
						$('.myStickyelements-mailchimp-field-lists').html(data);
					} else {
						$( '.myStickyelements-mailchimp-field-mapping' ).hide();
					}
				},
			});
			
			jQuery.ajax({
				url: ajaxurl,
				type:'post',
				data: 'action=mystickyelement-mailchimp-group&widget_no='+widget_no+'&list_id=' + $( this ).val() +'&wpnonce=' + mystickyelements.ajax_nonce,
				success: function( data ){					
					$('.myStickyelements-mailchimp-groups #mailchimp-group').html(data);
				},
			});
		});
		
		if ( $('input#send_leads_mailpoet').prop('checked') == true ) {
			$('#contact-form-MailPoet').show();
		} else {
			$('#contact-form-MailPoet').hide();
		}
		
		$( 'input#send_leads_mailpoet' ).on( 'click', function(){
			if( $(this).prop("checked") == true ){
				$('#contact-form-MailPoet').show();
			} else {
				$('#contact-form-MailPoet').hide();
			}
		});	
		
		$('.stickyelement-action-popup').on('click',function(){
			var key_id =  $(this).data("id") 
			$('#stickyelement-action-popup-'+key_id).show();
			$('#mystickyelement-action-popup-overlay-'+key_id).show();
		});
		
		$(document).on( "click", ".mystickyelement-widgets-lists-enabled" , function(e){
			var widget_id = $(this).data('id');
			if( $(this).prop("checked") != true ){
				$('#widget-status-popup-' + widget_id).show();
				$('#mystickyelement-status-popup-overlay-' + widget_id).show();
			}else{
				var widget_status = 1;
				set_widget_status( widget_id, widget_status );
			}
		});
		$(document).on('click','.mystickyelement-delete-widget',function(){
			var widget_id = $(this).data('id');
			var popup_id = '#stickyelement-action-popup-' + widget_id;
			var hiden_wid_id = '#dashboard_widget_id_' + widget_id;
			$(hiden_wid_id).val(widget_id);
			$(popup_id).show();
			$('#mystickyelement-action-popup-overlay-'+widget_id).show();
		});
		
		$(document).on('click','.btn-cancel',function(){			
			var widget_id = $(this).data('id');
			var popup_id = '#stickyelement-action-popup-' + widget_id;
			$(popup_id).hide();
			$('#mystickyelement-action-popup-overlay-'+widget_id).hide();
		});
		
		$(document).on( "click", ".mystickyelement-delete-widget-btn" , function(e){
			e.preventDefault();
			var widget_id = $(this).data('id');
			
			jQuery.ajax({
				url: ajaxurl,
				type:'post',
				data: 'action=mystickyelement_widget_delete&widget_id='+widget_id+'&widget_delete=1&wpnonce=' + mystickyelements.ajax_nonce,
				success: function( data ){					
					$( '#stickyelement-widget-' + widget_id ).remove();
					setTimeout('location.reload()', 500);
				},
			});
		});

		$(document).on( 'click', '.btn-disable-cancel' , function(e){
			var widget_id = $(this).data('id');
			var widget_status = 0;
			
			set_widget_status( widget_id, widget_status );
		} );
		   
		$(document).on( 'click', '.mystickyelement-keep-widget-btn' , function() {
			var widget_id = $(this).data('id');			
			var widget_status = 1;			
			$('#mystickyelement-widget-enabled-'+widget_id).prop('checked', true);
			set_widget_status( widget_id, widget_status );
		});
		
		$(document).on('click','.close-dialog',function(){
			
			var widget_id = $(this).data('id');
			var popup_from = $(this).data('from');
			
			if( popup_from == 'widget-status' ){
				var widget_status = 1;
				$('#mystickyelement-widget-enabled-'+widget_id).prop('checked', true);
				set_widget_status( widget_id, widget_status );
			}else if( popup_from == "widget-rename" ){
				$('#stickyelement-widget-rename-popup-' + widget_id).hide();
				$('#mystickyelement-rename-popup-overlay-' + widget_id).hide();	
			}else if( popup_from == 'widget-social-link'){
				$('.mystickyelements-missing-link-popup').hide();
				$('#mystickyelement-missing-link-overlay').hide();	
			}else if( popup_from == "localdb-leads" ){
				$('#send_leads_database').prop('checked', true);
				$("#contactform-sendleads-database").hide();
				$("#mystickyelement-localdbleads-popup-overlay").hide();
			}else if( popup_from == "load-google-fonts"){
				$("#mystickyelements-load-google-enable-popup").hide();
				$("#mystickyelement-load-google-popup-overlay").hide();
				$("input[name='general-settings[load_google_fonts]']").prop('checked',true);
			}else if( popup_from == "cc_bcc_close"){
				$("#mystickyelements-ccbcc-popup").hide();
				$(".stickyelement-overlay").hide();
			}else{
				$('#stickyelement-action-popup-' + widget_id).hide();
				$('#mystickyelement-action-popup-overlay-' + widget_id).hide();
			}

			if( popup_from == 'contact-form' ){
				$(".turn-off-message").css('display','none');
				$(".contact-form-description").css('display','block');
				$( '#myStickyelements-preview-contact' ).show();
				//$( '.myStickyelements-preview-ul' ).removeClass( 'remove-contact-field' );
				$( '.mystickyelements-contact-form' ).removeClass( 'mystickyelements-contact-form-hide' );
				$('#contactform-status-popup').hide();	
				$('#mystickyelement-contact-popup-overlay').hide();

				$('#myStickyelements-contact-form-enabled').prop('checked',true);
				var parent_class = 'mystickyelements-tab-contact-form';
				$( '#' + parent_class + ' .mystickyelements-disable-wrap' ).removeClass( 'mystickyelements-disable' );
				$( '#' + parent_class + ' .mystickyelements-disable-wrap .myStickyelements-social-channels-info' ).show();
				$( '#' + parent_class + ' .mystickyelements-disable-content-wrap' ).hide();
				
			}else if( popup_from == 'social-form' ){
				$('.social-disable-info').css('display','none');
				$('.mystickyelements-header-sub-title').css('display','block');

				$('#socialform-status-popup').hide();	
				$('#mystickyelement-social-popup-overlay').hide();
				
				$('#myStickyelements-social-channels-enabled').prop('checked',true);
				var parent_class = 'mystickyelements-tab-social-media';
				$( '#' + parent_class + ' .mystickyelements-disable-wrap' ).removeClass( 'mystickyelements-disable' );
				$( '#' + parent_class + ' .mystickyelements-disable-wrap .myStickyelements-social-channels-info' ).show();
				$( '#' + parent_class + ' .mystickyelements-disable-content-wrap' ).hide();

			}
		});


		$('.button-social-popup-disable').on('click',function(){
			$('.mystickyelements-social-preview').toggle();
			$('#myStickyelements-preview-contact').toggleClass('mystickyelements-contact-last');
			$('.mystickyelements-header-sub-title').css('display','none');
			$('.social-disable-info').css('display','block');
			$(".myStickyelements-preview-tab .mystickyelements-fixed").removeClass (function (index, className) {
				return (className.match (/(^|\s)mystickyelements-bottom-social-channel-\S+/g) || []).join(' ');
			});
			$(".myStickyelements-preview-tab .mystickyelements-fixed").removeClass (function (index, className) {
				return (className.match (/(^|\s)mystickyelements-top-social-channel-\S+/g) || []).join(' ');
			});
			$( '.myStickyelements-preview-tab .mystickyelements-fixed' ).addClass( 'mystickyelements-bottom-social-channel-1' );
			$( '.myStickyelements-preview-tab .mystickyelements-fixed' ).addClass( 'mystickyelements-top-social-channel-1' );
		
			
			$('#socialform-status-popup').hide();	
			$('#mystickyelement-social-popup-overlay').hide();
		});

		$('.button-social-popup-keep').on('click',function(){

			$('.social-disable-info').css('display','none');
			$('.mystickyelements-header-sub-title').css('display','block');

			$('#socialform-status-popup').hide();	
			$('#mystickyelement-social-popup-overlay').hide();
			
			$('#myStickyelements-social-channels-enabled').prop('checked',true);
			var parent_class = 'mystickyelements-tab-social-media';
			$( '#' + parent_class + ' .mystickyelements-disable-wrap' ).removeClass( 'mystickyelements-disable' );
			$( '#' + parent_class + ' .mystickyelements-disable-wrap .myStickyelements-social-channels-info' ).show();
			$( '#' + parent_class + ' .mystickyelements-disable-content-wrap' ).hide();
		});

		$('#mystickyelement-social-popup-overlay').on('click',function(){
			$('.social-disable-info').css('display','none');
			$('.mystickyelements-header-sub-title').css('display','block');

			$('#socialform-status-popup').hide();	
			$('#mystickyelement-social-popup-overlay').hide();
			
			$('#myStickyelements-social-channels-enabled').prop('checked',true);
			var parent_class = 'mystickyelements-tab-social-media';
			$( '#' + parent_class + ' .mystickyelements-disable-wrap' ).removeClass( 'mystickyelements-disable' );
			$( '#' + parent_class + ' .mystickyelements-disable-wrap .myStickyelements-social-channels-info' ).show();
			$( '#' + parent_class + ' .mystickyelements-disable-content-wrap' ).hide();

		});
		
		function set_widget_status( widget_id, widget_status ) {
			jQuery.ajax({
				url: ajaxurl,
				type:'post',
				data: 'action=mystickyelement_widget_status&widget_id='+widget_id+'&widget_status=' + widget_status +'&wpnonce=' + mystickyelements.ajax_nonce,
				success: function( data ){
					$('#widget-status-popup-' + widget_id).hide();
					$('#mystickyelement-status-popup-overlay-' + widget_id).hide();
					
				},
			});
		}
		
		$(document).on('click','.stickyelement-overlay',function(){
			$(this).hide();
			var widget_id = $(this).data('id');
			var widget_from = $(this).data('from');
			
			if( widget_from == 'widget-status' ){
				var widget_status = 1;
				$('#mystickyelement-widget-enabled-'+widget_id).prop('checked', true);
				set_widget_status( widget_id, widget_status );
			}else if( widget_from == 'localdb-leads' ){
				$('#send_leads_database').prop('checked',true);
			}
			$('.mystickyelements-action-popup-open').hide();
		});

		$(document).on('click','.close_flash_popup',function(){        
			$('#flash_message').hide();            
		}); 
	});	
	
	jQuery(document).on('click','.mystickyelemt-rename-widget',function(){
		var id = $(this).data('id');
		$( '#stickyelement-widget-rename-popup-'+id ).show();
		$('#mystickyelement-rename-popup-overlay-' + id).show();
		
	});
	
	jQuery(document).on('click','.mystickyelement-btn-rename',function(e){
		e.preventDefault();
		var widget_id = $(this).data('id');
		var widget_rename_val = $('#widget_rename_'+widget_id).val();
		jQuery.ajax({
			url: ajaxurl,
			type:'post',
			data: 'action=mystickyelement_widget_rename&widget_id='+widget_id+'&widget_rename='+widget_rename_val+'&wpnonce=' + mystickyelements.ajax_nonce,
			success: function( data ){					
				$( '#stickyelement-widget-rename-popup-'+widget_id ).hide();
				$('#mystickyelement-rename-popup-overlay-' + widget_id).hide();
				location.reload();
			},
		});
	});
	
	jQuery(document).on('click','.mystickyelement-cancel-without-color-widget-btn',function(){
		var id = $(this).data('id');
		$( '#stickyelement-widget-rename-popup-'+id ).hide();
		$('#mystickyelement-rename-popup-overlay-' + id).hide();
	});
	
	jQuery(document).on('click','.btn-dropdown-save',function(e){
		
		$( '.contact-form-dropdown-open' ).hide();
		$( '.contact-form-field-open.contact-form-setting-popup-open' ).hide();
		$( 'body' ).removeClass( 'contact-form-popup-open' );
		return false;;	
	});
	
	jQuery(document).on('click','.save-button',function(e){
		var popup_from = jQuery(this).data('popupfrom');		
		
		if ( $( '#myStickyelements-social-channels-enabled' ).prop("checked") == true ) {
			var is_links_empty = 0;
			jQuery('.mystickyelement-social-links-input').each(function(index, value) {
				if( jQuery(this).val() == '' ){
					is_links_empty = 1;
					return;	
				}
			});
		}
		if( is_links_empty == 1 && jQuery(this).data("tab-triger") != "yes"){
			if ( $( '#myStickyelements-social-channels-enabled' ).prop("checked") == true ) {
				jQuery('.mystickyelements-missing-link-popup, #mystickyelement-missing-link-overlay').show();
				jQuery('.mystickyelement-dolater-widget-btn').attr('data-popupfrom', 'save_button');
			}
			return false;	
		}else{
			var curent_tab = $('.mystickyelements-tab.active').data( 'tab-id');
			if( curent_tab == 'mystickyelements-tab-social-media' )
				$('#hide_tab_index').val('mystickyelements-social-media');  	
			else if( curent_tab == 'mystickyelements-tab-display-settings' )
				$('#hide_tab_index').val('mystickyelements-display-settings');  			
			else
				$('#hide_tab_index').val('mystickyelements-contact-form');  				
		}

		if( $("#send_leads_mail").prop("checked") == true && ( $("input[name='contact-form[sent_to_bcc]']").val() != '' || $("input[name='contact-form[sent_to_cc]']").val() != '' || $("input[name='contact-form[sent_to_mail]']").val() != '')){
			
			var email = $("input[name='contact-form[sent_to_mail]']").val();
			var emailArr = email.split(',');

			var email_cc = 	$("input[name='contact-form[sent_to_cc]']").val();
			var email_ccArr = email_cc.split(',');
			var email_bcc = 	$("input[name='contact-form[sent_to_bcc]']").val();
			var email_bccArr = email_bcc.split(',');
			
			if( email_ccArr.length > 3 || email_bccArr.length > 3 || emailArr.length > 3 ){
				$("#mystickyelements-ccbcc-popup").show();	
				$("#mystickyelement-ccbcc-popup-overlay").show();	
				e.preventDefault();
				return;	
			}
		}	
 	});
	
	jQuery(document).on("click","#btn-bcc-ok",function(){
		$("#mystickyelement-ccbcc-popup-overlay").hide();	
		$("#mystickyelements-ccbcc-popup").hide();	
	});
	
	jQuery(document).on('click','#save_view',function(){
		if ( $( '#myStickyelements-social-channels-enabled' ).prop("checked") == true ) {
			var is_links_empty = 0;
			jQuery('.mystickyelement-social-links-input').each(function(index, value) {
				if( jQuery(this).val() == '' ){
					is_links_empty = 1;
					return;	
				}
			});
		}
		
		if( is_links_empty == 1 && jQuery(this).data("tab-triger") != "yes"){
			if ( $( '#myStickyelements-social-channels-enabled' ).prop("checked") == true ) {
				jQuery('.mystickyelements-missing-link-popup, #mystickyelement-missing-link-overlay').show();
				jQuery('.mystickyelement-dolater-widget-btn').attr('data-popupfrom', 'save_dashboard_button');
			}
			return false;	
		}
		else{
			var curent_tab = $('.mystickyelements-tab.active').data( 'tab-id');
			if( curent_tab == 'mystickyelements-tab-social-media' )
				 $('#hide_tab_index').val('mystickyelements-social-media');  	
			else if( curent_tab == 'mystickyelements-tab-display-settings' )
				 $('#hide_tab_index').val('mystickyelements-display-settings');  			
			else
				 $('#hide_tab_index').val('mystickyelements-contact-form'); 
		}
		
		if( $("#send_leads_mail").prop("checked") == true && ( $("input[name='contact-form[sent_to_bcc]']").val() != '' || $("input[name='contact-form[sent_to_cc]']").val() != '' || $("input[name='contact-form[sent_to_mail]']").val() != '')){
			
			var email = $("input[name='contact-form[sent_to_mail]']").val();
			var emailArr = email.split(',');

			var email_cc = 	$("input[name='contact-form[sent_to_cc]']").val();
			var email_ccArr = email_cc.split(',');
			var email_bcc = 	$("input[name='contact-form[sent_to_bcc]']").val();
			var email_bccArr = email_bcc.split(',');
			
			if( email_ccArr.length > 3 || email_bccArr.length > 3 || emailArr.length > 3 ){
				$("#mystickyelements-ccbcc-popup").show();	
				$("#mystickyelement-ccbcc-popup-overlay").show();	
				e.preventDefault();
				return;	
			}
		}
	});
	
	jQuery(document).on('click','.preview-publish',function(e){
		if( jQuery(this).val() != 'Publish' ){
			var popup_from = jQuery(this).data('popupfrom');
			var is_links_empty = 0;
			jQuery('.mystickyelement-social-links-input').each(function(index, value) {
				if( jQuery(this).val() == '' ){
					is_links_empty = 1;
					return;	
				}
			});
			
			if( is_links_empty == 1 && jQuery(this).data("tab-triger") != "yes" ){
				jQuery('.mystickyelements-missing-link-popup, #mystickyelement-missing-link-overlay').show();
				jQuery('.mystickyelement-dolater-widget-btn').attr('data-popupfrom', 'publish_button');
				return false;	
			}else{
				var curent_tab = $('.mystickyelements-tab.active').data( 'tab-id');
				if( curent_tab == 'mystickyelements-tab-social-media' )
					$('#hide_tab_index').val('mystickyelements-social-media');  	
				else if( curent_tab == 'mystickyelements-tab-display-settings' )
					$('#hide_tab_index').val('mystickyelements-display-settings');  			
				else
					$('#hide_tab_index').val('mystickyelements-contact-form');  				
			}	
		}

		if( $("#send_leads_mail").prop("checked") == true && ( $("input[name='contact-form[sent_to_bcc]']").val() != '' || $("input[name='contact-form[sent_to_cc]']").val() != '' || $("input[name='contact-form[sent_to_mail]']").val() != '')){
			
			var email = $("input[name='contact-form[sent_to_mail]']").val();
			var emailArr = email.split(',');

			var email_cc = 	$("input[name='contact-form[sent_to_cc]']").val();
			var email_ccArr = email_cc.split(',');
			var email_bcc = 	$("input[name='contact-form[sent_to_bcc]']").val();
			var email_bccArr = email_bcc.split(',');
			
			if( email_ccArr.length > 3 || email_bccArr.length > 3 || emailArr.length > 3 ){
				$("#mystickyelements-ccbcc-popup").show();	
				$("#mystickyelement-ccbcc-popup-overlay").show();	
				e.preventDefault();
				return;	
			}
		}	
	});
	var plus_cnt=0;
	jQuery(document).on('keypress','.mystickyelement-social-text-input',function(event){
		var key = event.which;
		var inputNumber = jQuery(this).val();
		if(jQuery(this).val()=='')
			plus_cnt=0;
		
		if(key == 43)
			plus_cnt++;	
		
		if(!( (key == 43 && plus_cnt < 2) || key >= 48 && key <= 57)){
			event.preventDefault();
			return;
		}
		
	});	
	
	jQuery(document).on('click','.mystickyelement-dolater-widget-btn',function(){
		var popup_from = jQuery(this).data('popupfrom');
		jQuery('.mystickyelements-missing-link-popup, #mystickyelement-missing-link-overlay').hide();
		jQuery('#btn-next').attr('data-tab-triger', 'yes');
		jQuery('#mystickyelements-display-settings').attr('data-tab-triger', 'yes');
		jQuery('.preview-publish').attr('data-tab-triger', 'yes');
		jQuery('.save-button').attr('data-tab-triger', 'yes');
		jQuery('#save_view').attr('data-tab-triger', 'yes');
		jQuery('#next-button-prev').attr('data-tab-triger', 'yes');
		
		if( popup_from == 'tab_button' ){
			jQuery('#mystickyelements-display-settings').trigger("click");
		}else if( popup_from == 'next_button' ) {
			jQuery('#btn-next').trigger("click");
		}else if( popup_from == 'publish_button' ){
			jQuery('.preview-publish').trigger("click");
		}else if( popup_from == 'save_button'){
			jQuery('.save-button').trigger("click");
		}else if(popup_from == 'save_dashboard_button'){
			jQuery('#save_view').trigger("click");
		}else{
			jQuery('#next-button-prev').trigger("click");
		}
	});
	
	jQuery( document ).on( 'click' , '#doaction' , function(e){
		e.preventDefault();
		var bulkOption = $('#bulk-action-selector-top').val();
		var bulks = [];
		jQuery( '.cb-select-blk' ).each( function(){
			if (this.checked) {
				bulks.push( jQuery(this).val() );
			}
		} ); 

		jQuery.ajax({
			type: 'POST',
			url: ajaxurl,
			data: {"action": "my_sticky_elements_bulks","bulks": bulks,"wpnonce": mystickyelements.ajax_nonce},
			success: function(data){
				location.href = window.location.href;
			},
			error: function(XMLHttpRequest, textStatus, errorThrown) {
				alert("Status: " + textStatus); alert("Error: " + errorThrown);
			}
		});
	} );

	jQuery(document).on('click','#mystickyelement-button-ok',function(e){
		e.preventDefault();
		jQuery('.mystickyelement-social-links-input').each(function(index, value) {
			if( jQuery(this).val() == '' ){
				jQuery('#mystickyelements-social-media').trigger('click');
				jQuery(this).addClass("social-link-highlight").focus();
			}
		});
		jQuery( '.mystickyelements-missing-link-popup, #mystickyelement-missing-link-overlay' ).hide();
		return false;
	});
	
	jQuery(document).on("click", ".mail-merge-tags span", function(e){
		var fieldVal = jQuery.trim(jQuery(this).closest(".mystickyelements-setting-wrap-right").find("input[type='text']").val());
		fieldVal += " "+jQuery(this).text();
		jQuery(this).closest(".mystickyelements-setting-wrap-right").find("input[type='text']").val(jQuery.trim(fieldVal));
	});
	
	jQuery( document ).on( "change" , "input[type='radio'][name='general-settings[open_tabs_when]']",function(){
		if( $(this).val() == 'click'  ){
			$('#mystickyelements-tab-hover-bebahvior').hide();
			$('#mystickyelements-tab-flyout').show();
		}else{
			$('#mystickyelements-tab-hover-bebahvior').show();
			$('#mystickyelements-tab-flyout').hide();
			$("input[type='radio'][name='general-settings[flyout]'][value='disable']").prop("checked",true);
		}
	});

	jQuery( document ).on( 'change','#send_leads_database',function() {
		if( $(this).prop("checked") == false ){
			$('#contactform-sendleads-database').show();
			$('#mystickyelement-localdbleads-popup-overlay').show();
		}else{
			$('#contactform-sendleads-database').hide();
			$('#mystickyelement-localdbleads-popup-overlay').hide();
		}
	} );

	jQuery( document ).on( 'click' , '.button-localdbleads-popup-disable',function() {
		$('#send_leads_database').prop('checked', false);
		$('#contactform-sendleads-database').hide();
		$('#mystickyelement-localdbleads-popup-overlay').hide();
	} );

	jQuery( document ).on( 'click','.button-localdbleads-popup-keep',function() {
		$('#send_leads_database').prop('checked', true);
		$('#contactform-sendleads-database').hide();
		$('#mystickyelement-localdbleads-popup-overlay').hide();
	} );

	jQuery( document ).on("click","#myStickyelements-time-delay",function(e){
		if( jQuery(this).prop('checked') == true ){
			jQuery(this).val('1');
			jQuery(".input-time-delay-sec").css("display","inline");
			jQuery('input[name="general-settings[timer_delay_sec]"]').prop("disabled", false);
		}else{
			jQuery(this).val('0');
			jQuery(".input-time-delay-sec").css("display","none");
			jQuery('input[name="general-settings[timer_delay_sec]"]').prop("disabled", true);
		}
	});
	
	jQuery(document).on("click","#moreless-action",function(e){
		e.preventDefault();
		var clickValue = jQuery(this).text();
		if(clickValue == "More ‚Üì"){
			jQuery(this).text("Less ‚Üë");
			jQuery('#contact-form-send-bccmail').addClass('active_bcc_cc');        
			jQuery('#contact-form-send-ccmail').addClass('active_bcc_cc');        
		}else{
			jQuery(this).text("More ‚Üì");
			jQuery('#contact-form-send-bccmail').removeClass('active_bcc_cc');        
			jQuery('#contact-form-send-ccmail').removeClass('active_bcc_cc');        
		}
	});
	
	jQuery(document).on("click","#close-first-popup",function(){
		jQuery(".first-widget-popup").hide();
		jQuery(".stickyelement-overlay").hide();
	})
	
	jQuery(document).on("change","input[name='contact-form[recaptcha_type]']",function(){
		
		var recapta_option = $(this).closest(".captch_type_buttons").data("option-recaptcha");
		var site_key = $(this).closest(".captch_type_buttons").data("recapsite-key");
		var sececret_key = $(this).closest(".captch_type_buttons").data("recapsecreat-key");
		
		
		if($(this).val() == 'v2' ){
			$("input[name='contact-form[invisible_recaptcha_checkbox]']").prop("checked",false);
			$("input[name='contact-form[invisible_recaptcha_checkbox]']").closest(".mystickyelements-reqired-wrap").hide();
		}else{
			$("input[name='contact-form[invisible_recaptcha_checkbox]']").closest(".mystickyelements-reqired-wrap").show();
		}
		if(recapta_option != $(this).val()){
			$("#recaptcha_site_key").val("");
			$("#recaptcha_secrete_key").val("");
		}else{
			$("#recaptcha_site_key").val(site_key);
			$("#recaptcha_secrete_key").val(sececret_key);
		}
		
	});
	
	jQuery(document).on("click",".ui-widget-overlay.ui-front",function(){
		$("button.gray-btn.ui-button.ui-corner-all.ui-widget").trigger("click");
	});
	
	jQuery(document).on("click",".myStickyelements-remove-rule",function(){
		
		if( jQuery(this).closest(".myStickyelements-page-option").parent().hasClass("myStickyelements-page-options") && jQuery("#myStickyelements-page-options .myStickyelements-page-option").length == 1 ){
			
			jQuery("#myStickyelements-page-options").next().next().hide();
		}
		
		if( jQuery(this).closest(".myStickyelements-page-option").parent().hasClass("myStickyelements-days-hours-options") && jQuery("#myStickyelements-days-hours-options .myStickyelements-page-option").length == 1 ){
			jQuery(this).closest(".myStickyelements-inputs").next().next().hide();	
			
			jQuery("#myStickyelements-days-hours-options").next().next().hide();
		}
		
	}); 
	
})( jQuery );


--- END FILE ---

--- FILE: js/jquery.inputmask.bundle.js ---
/*!
* jquery.inputmask.bundle.js
* https://github.com/RobinHerbots/Inputmask
* Copyright (c) 2010 - 2018 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 4.0.5
*/

(function(modules) {
    var installedModules = {};
    function __webpack_require__(moduleId) {
        if (installedModules[moduleId]) {
            return installedModules[moduleId].exports;
        }
        var module = installedModules[moduleId] = {
            i: moduleId,
            l: false,
            exports: {}
        };
        modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
        module.l = true;
        return module.exports;
    }
    __webpack_require__.m = modules;
    __webpack_require__.c = installedModules;
    __webpack_require__.d = function(exports, name, getter) {
        if (!__webpack_require__.o(exports, name)) {
            Object.defineProperty(exports, name, {
                enumerable: true,
                get: getter
            });
        }
    };
    __webpack_require__.r = function(exports) {
        if (typeof Symbol !== "undefined" && Symbol.toStringTag) {
            Object.defineProperty(exports, Symbol.toStringTag, {
                value: "Module"
            });
        }
        Object.defineProperty(exports, "__esModule", {
            value: true
        });
    };
    __webpack_require__.t = function(value, mode) {
        if (mode & 1) value = __webpack_require__(value);
        if (mode & 8) return value;
        if (mode & 4 && typeof value === "object" && value && value.__esModule) return value;
        var ns = Object.create(null);
        __webpack_require__.r(ns);
        Object.defineProperty(ns, "default", {
            enumerable: true,
            value: value
        });
        if (mode & 2 && typeof value != "string") for (var key in value) __webpack_require__.d(ns, key, function(key) {
            return value[key];
        }.bind(null, key));
        return ns;
    };
    __webpack_require__.n = function(module) {
        var getter = module && module.__esModule ? function getDefault() {
            return module["default"];
        } : function getModuleExports() {
            return module;
        };
        __webpack_require__.d(getter, "a", getter);
        return getter;
    };
    __webpack_require__.o = function(object, property) {
        return Object.prototype.hasOwnProperty.call(object, property);
    };
    __webpack_require__.p = "";
    return __webpack_require__(__webpack_require__.s = 0);
})([ function(module, exports, __webpack_require__) {
    "use strict";
    __webpack_require__(1);
    __webpack_require__(6);
    __webpack_require__(7);
    var _inputmask = __webpack_require__(2);
    var _inputmask2 = _interopRequireDefault(_inputmask);
    var _inputmask3 = __webpack_require__(3);
    var _inputmask4 = _interopRequireDefault(_inputmask3);
    var _jquery = __webpack_require__(4);
    var _jquery2 = _interopRequireDefault(_jquery);
    function _interopRequireDefault(obj) {
        return obj && obj.__esModule ? obj : {
            default: obj
        };
    }
    if (_inputmask4.default === _jquery2.default) {
        __webpack_require__(8);
    }
    window.Inputmask = _inputmask2.default;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;
    var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
        return typeof obj;
    } : function(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
    (function(factory) {
        if (true) {
            !(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(2) ], __WEBPACK_AMD_DEFINE_FACTORY__ = factory, 
            __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === "function" ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, 
            __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
        } else {}
    })(function(Inputmask) {
        Inputmask.extendDefinitions({
            A: {
                validator: "[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",
                casing: "upper"
            },
            "&": {
                validator: "[0-9A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",
                casing: "upper"
            },
            "#": {
                validator: "[0-9A-Fa-f]",
                casing: "upper"
            }
        });
        Inputmask.extendAliases({
            cssunit: {
                regex: "[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"
            },
            url: {
                regex: "(https?|ftp)//.*",
                autoUnmask: false
            },
            ip: {
                mask: "i[i[i]].i[i[i]].i[i[i]].i[i[i]]",
                definitions: {
                    i: {
                        validator: function validator(chrs, maskset, pos, strict, opts) {
                            if (pos - 1 > -1 && maskset.buffer[pos - 1] !== ".") {
                                chrs = maskset.buffer[pos - 1] + chrs;
                                if (pos - 2 > -1 && maskset.buffer[pos - 2] !== ".") {
                                    chrs = maskset.buffer[pos - 2] + chrs;
                                } else chrs = "0" + chrs;
                            } else chrs = "00" + chrs;
                            return new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(chrs);
                        }
                    }
                },
                onUnMask: function onUnMask(maskedValue, unmaskedValue, opts) {
                    return maskedValue;
                },
                inputmode: "numeric"
            },
            email: {
                mask: "*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",
                greedy: false,
                casing: "lower",
                onBeforePaste: function onBeforePaste(pastedValue, opts) {
                    pastedValue = pastedValue.toLowerCase();
                    return pastedValue.replace("mailto:", "");
                },
                definitions: {
                    "*": {
                        validator: "[0-9\uff11-\uff19A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5!#$%&'*+/=?^_`{|}~-]"
                    },
                    "-": {
                        validator: "[0-9A-Za-z-]"
                    }
                },
                onUnMask: function onUnMask(maskedValue, unmaskedValue, opts) {
                    return maskedValue;
                },
                inputmode: "email"
            },
            mac: {
                mask: "##:##:##:##:##:##"
            },
            vin: {
                mask: "V{13}9{4}",
                definitions: {
                    V: {
                        validator: "[A-HJ-NPR-Za-hj-npr-z\\d]",
                        casing: "upper"
                    }
                },
                clearIncomplete: true,
                autoUnmask: true
            }
        });
        return Inputmask;
    });
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;
    var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
        return typeof obj;
    } : function(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
    (function(factory) {
        if (true) {
            !(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(3), __webpack_require__(5) ], 
            __WEBPACK_AMD_DEFINE_FACTORY__ = factory, __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === "function" ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, 
            __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
        } else {}
    })(function($, window, undefined) {
        var document = window.document, ua = navigator.userAgent, ie = ua.indexOf("MSIE ") > 0 || ua.indexOf("Trident/") > 0, mobile = isInputEventSupported("touchstart"), iemobile = /iemobile/i.test(ua), iphone = /iphone/i.test(ua) && !iemobile;
        function Inputmask(alias, options, internal) {
            if (!(this instanceof Inputmask)) {
                return new Inputmask(alias, options, internal);
            }
            this.el = undefined;
            this.events = {};
            this.maskset = undefined;
            this.refreshValue = false;
            if (internal !== true) {
                if ($.isPlainObject(alias)) {
                    options = alias;
                } else {
                    options = options || {};
                    if (alias) options.alias = alias;
                }
                this.opts = $.extend(true, {}, this.defaults, options);
                this.noMasksCache = options && options.definitions !== undefined;
                this.userOptions = options || {};
                this.isRTL = this.opts.numericInput;
                resolveAlias(this.opts.alias, options, this.opts);
            }
        }
        Inputmask.prototype = {
            dataAttribute: "data-inputmask",
            defaults: {
                placeholder: "_",
                optionalmarker: [ "[", "]" ],
                quantifiermarker: [ "{", "}" ],
                groupmarker: [ "(", ")" ],
                alternatormarker: "|",
                escapeChar: "\\",
                mask: null,
                regex: null,
                oncomplete: $.noop,
                onincomplete: $.noop,
                oncleared: $.noop,
                repeat: 0,
                greedy: false,
                autoUnmask: false,
                removeMaskOnSubmit: false,
                clearMaskOnLostFocus: true,
                insertMode: true,
                clearIncomplete: false,
                alias: null,
                onKeyDown: $.noop,
                onBeforeMask: null,
                onBeforePaste: function onBeforePaste(pastedValue, opts) {
                    return $.isFunction(opts.onBeforeMask) ? opts.onBeforeMask.call(this, pastedValue, opts) : pastedValue;
                },
                onBeforeWrite: null,
                onUnMask: null,
                showMaskOnFocus: true,
                showMaskOnHover: true,
                onKeyValidation: $.noop,
                skipOptionalPartCharacter: " ",
                numericInput: false,
                rightAlign: false,
                undoOnEscape: true,
                radixPoint: "",
                _radixDance: false,
                groupSeparator: "",
                keepStatic: null,
                positionCaretOnTab: true,
                tabThrough: false,
                supportsInputType: [ "text", "tel", "url", "password", "search" ],
                ignorables: [ 8, 9, 13, 19, 27, 33, 34, 35, 36, 37, 38, 39, 40, 45, 46, 93, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 0, 229 ],
                isComplete: null,
                preValidation: null,
                postValidation: null,
                staticDefinitionSymbol: undefined,
                jitMasking: false,
                nullable: true,
                inputEventOnly: false,
                noValuePatching: false,
                positionCaretOnClick: "lvp",
                casing: null,
                inputmode: "verbatim",
                colorMask: false,
                disablePredictiveText: false,
                importDataAttributes: true,
                shiftPositions: true
            },
            definitions: {
                9: {
                    validator: "[0-9\uff11-\uff19]",
                    definitionSymbol: "*"
                },
                a: {
                    validator: "[A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]",
                    definitionSymbol: "*"
                },
                "*": {
                    validator: "[0-9\uff11-\uff19A-Za-z\u0410-\u044f\u0401\u0451\xc0-\xff\xb5]"
                }
            },
            aliases: {},
            masksCache: {},
            mask: function mask(elems) {
                var that = this;
                function importAttributeOptions(npt, opts, userOptions, dataAttribute) {
                    if (opts.importDataAttributes === true) {
                        var importOption = function importOption(option, optionData) {
                            optionData = optionData !== undefined ? optionData : npt.getAttribute(dataAttribute + "-" + option);
                            if (optionData !== null) {
                                if (typeof optionData === "string") {
                                    if (option.indexOf("on") === 0) optionData = window[optionData]; else if (optionData === "false") optionData = false; else if (optionData === "true") optionData = true;
                                }
                                userOptions[option] = optionData;
                            }
                        };
                        var attrOptions = npt.getAttribute(dataAttribute), option, dataoptions, optionData, p;
                        if (attrOptions && attrOptions !== "") {
                            attrOptions = attrOptions.replace(/'/g, '"');
                            dataoptions = JSON.parse("{" + attrOptions + "}");
                        }
                        if (dataoptions) {
                            optionData = undefined;
                            for (p in dataoptions) {
                                if (p.toLowerCase() === "alias") {
                                    optionData = dataoptions[p];
                                    break;
                                }
                            }
                        }
                        importOption("alias", optionData);
                        if (userOptions.alias) {
                            resolveAlias(userOptions.alias, userOptions, opts);
                        }
                        for (option in opts) {
                            if (dataoptions) {
                                optionData = undefined;
                                for (p in dataoptions) {
                                    if (p.toLowerCase() === option.toLowerCase()) {
                                        optionData = dataoptions[p];
                                        break;
                                    }
                                }
                            }
                            importOption(option, optionData);
                        }
                    }
                    $.extend(true, opts, userOptions);
                    if (npt.dir === "rtl" || opts.rightAlign) {
                        npt.style.textAlign = "right";
                    }
                    if (npt.dir === "rtl" || opts.numericInput) {
                        npt.dir = "ltr";
                        npt.removeAttribute("dir");
                        opts.isRTL = true;
                    }
                    return Object.keys(userOptions).length;
                }
                if (typeof elems === "string") {
                    elems = document.getElementById(elems) || document.querySelectorAll(elems);
                }
                elems = elems.nodeName ? [ elems ] : elems;
                $.each(elems, function(ndx, el) {
                    var scopedOpts = $.extend(true, {}, that.opts);
                    if (importAttributeOptions(el, scopedOpts, $.extend(true, {}, that.userOptions), that.dataAttribute)) {
                        var maskset = generateMaskSet(scopedOpts, that.noMasksCache);
                        if (maskset !== undefined) {
                            if (el.inputmask !== undefined) {
                                el.inputmask.opts.autoUnmask = true;
                                el.inputmask.remove();
                            }
                            el.inputmask = new Inputmask(undefined, undefined, true);
                            el.inputmask.opts = scopedOpts;
                            el.inputmask.noMasksCache = that.noMasksCache;
                            el.inputmask.userOptions = $.extend(true, {}, that.userOptions);
                            el.inputmask.isRTL = scopedOpts.isRTL || scopedOpts.numericInput;
                            el.inputmask.el = el;
                            el.inputmask.maskset = maskset;
                            $.data(el, "_inputmask_opts", scopedOpts);
                            maskScope.call(el.inputmask, {
                                action: "mask"
                            });
                        }
                    }
                });
                return elems && elems[0] ? elems[0].inputmask || this : this;
            },
            option: function option(options, noremask) {
                if (typeof options === "string") {
                    return this.opts[options];
                } else if ((typeof options === "undefined" ? "undefined" : _typeof(options)) === "object") {
                    $.extend(this.userOptions, options);
                    if (this.el && noremask !== true) {
                        this.mask(this.el);
                    }
                    return this;
                }
            },
            unmaskedvalue: function unmaskedvalue(value) {
                this.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache);
                return maskScope.call(this, {
                    action: "unmaskedvalue",
                    value: value
                });
            },
            remove: function remove() {
                return maskScope.call(this, {
                    action: "remove"
                });
            },
            getemptymask: function getemptymask() {
                this.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache);
                return maskScope.call(this, {
                    action: "getemptymask"
                });
            },
            hasMaskedValue: function hasMaskedValue() {
                return !this.opts.autoUnmask;
            },
            isComplete: function isComplete() {
                this.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache);
                return maskScope.call(this, {
                    action: "isComplete"
                });
            },
            getmetadata: function getmetadata() {
                this.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache);
                return maskScope.call(this, {
                    action: "getmetadata"
                });
            },
            isValid: function isValid(value) {
                this.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache);
                return maskScope.call(this, {
                    action: "isValid",
                    value: value
                });
            },
            format: function format(value, metadata) {
                this.maskset = this.maskset || generateMaskSet(this.opts, this.noMasksCache);
                return maskScope.call(this, {
                    action: "format",
                    value: value,
                    metadata: metadata
                });
            },
            setValue: function setValue(value) {
                if (this.el) {
                    $(this.el).trigger("setvalue", [ value ]);
                }
            },
            analyseMask: function analyseMask(mask, regexMask, opts) {
                var tokenizer = /(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?(?:\|[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g, regexTokenizer = /\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g, escaped = false, currentToken = new MaskToken(), match, m, openenings = [], maskTokens = [], openingToken, currentOpeningToken, alternator, lastMatch, groupToken;
                function MaskToken(isGroup, isOptional, isQuantifier, isAlternator) {
                    this.matches = [];
                    this.openGroup = isGroup || false;
                    this.alternatorGroup = false;
                    this.isGroup = isGroup || false;
                    this.isOptional = isOptional || false;
                    this.isQuantifier = isQuantifier || false;
                    this.isAlternator = isAlternator || false;
                    this.quantifier = {
                        min: 1,
                        max: 1
                    };
                }
                function insertTestDefinition(mtoken, element, position) {
                    position = position !== undefined ? position : mtoken.matches.length;
                    var prevMatch = mtoken.matches[position - 1];
                    if (regexMask) {
                        if (element.indexOf("[") === 0 || escaped && /\\d|\\s|\\w]/i.test(element) || element === ".") {
                            mtoken.matches.splice(position++, 0, {
                                fn: new RegExp(element, opts.casing ? "i" : ""),
                                optionality: false,
                                newBlockMarker: prevMatch === undefined ? "master" : prevMatch.def !== element,
                                casing: null,
                                def: element,
                                placeholder: undefined,
                                nativeDef: element
                            });
                        } else {
                            if (escaped) element = element[element.length - 1];
                            $.each(element.split(""), function(ndx, lmnt) {
                                prevMatch = mtoken.matches[position - 1];
                                mtoken.matches.splice(position++, 0, {
                                    fn: null,
                                    optionality: false,
                                    newBlockMarker: prevMatch === undefined ? "master" : prevMatch.def !== lmnt && prevMatch.fn !== null,
                                    casing: null,
                                    def: opts.staticDefinitionSymbol || lmnt,
                                    placeholder: opts.staticDefinitionSymbol !== undefined ? lmnt : undefined,
                                    nativeDef: (escaped ? "'" : "") + lmnt
                                });
                            });
                        }
                        escaped = false;
                    } else {
                        var maskdef = (opts.definitions ? opts.definitions[element] : undefined) || Inputmask.prototype.definitions[element];
                        if (maskdef && !escaped) {
                            mtoken.matches.splice(position++, 0, {
                                fn: maskdef.validator ? typeof maskdef.validator == "string" ? new RegExp(maskdef.validator, opts.casing ? "i" : "") : new function() {
                                    this.test = maskdef.validator;
                                }() : new RegExp("."),
                                optionality: false,
                                newBlockMarker: prevMatch === undefined ? "master" : prevMatch.def !== (maskdef.definitionSymbol || element),
                                casing: maskdef.casing,
                                def: maskdef.definitionSymbol || element,
                                placeholder: maskdef.placeholder,
                                nativeDef: element
                            });
                        } else {
                            mtoken.matches.splice(position++, 0, {
                                fn: null,
                                optionality: false,
                                newBlockMarker: prevMatch === undefined ? "master" : prevMatch.def !== element && prevMatch.fn !== null,
                                casing: null,
                                def: opts.staticDefinitionSymbol || element,
                                placeholder: opts.staticDefinitionSymbol !== undefined ? element : undefined,
                                nativeDef: (escaped ? "'" : "") + element
                            });
                            escaped = false;
                        }
                    }
                }
                function verifyGroupMarker(maskToken) {
                    if (maskToken && maskToken.matches) {
                        $.each(maskToken.matches, function(ndx, token) {
                            var nextToken = maskToken.matches[ndx + 1];
                            if ((nextToken === undefined || nextToken.matches === undefined || nextToken.isQuantifier === false) && token && token.isGroup) {
                                token.isGroup = false;
                                if (!regexMask) {
                                    insertTestDefinition(token, opts.groupmarker[0], 0);
                                    if (token.openGroup !== true) {
                                        insertTestDefinition(token, opts.groupmarker[1]);
                                    }
                                }
                            }
                            verifyGroupMarker(token);
                        });
                    }
                }
                function defaultCase() {
                    if (openenings.length > 0) {
                        currentOpeningToken = openenings[openenings.length - 1];
                        insertTestDefinition(currentOpeningToken, m);
                        if (currentOpeningToken.isAlternator) {
                            alternator = openenings.pop();
                            for (var mndx = 0; mndx < alternator.matches.length; mndx++) {
                                if (alternator.matches[mndx].isGroup) alternator.matches[mndx].isGroup = false;
                            }
                            if (openenings.length > 0) {
                                currentOpeningToken = openenings[openenings.length - 1];
                                currentOpeningToken.matches.push(alternator);
                            } else {
                                currentToken.matches.push(alternator);
                            }
                        }
                    } else {
                        insertTestDefinition(currentToken, m);
                    }
                }
                function reverseTokens(maskToken) {
                    function reverseStatic(st) {
                        if (st === opts.optionalmarker[0]) st = opts.optionalmarker[1]; else if (st === opts.optionalmarker[1]) st = opts.optionalmarker[0]; else if (st === opts.groupmarker[0]) st = opts.groupmarker[1]; else if (st === opts.groupmarker[1]) st = opts.groupmarker[0];
                        return st;
                    }
                    maskToken.matches = maskToken.matches.reverse();
                    for (var match in maskToken.matches) {
                        if (maskToken.matches.hasOwnProperty(match)) {
                            var intMatch = parseInt(match);
                            if (maskToken.matches[match].isQuantifier && maskToken.matches[intMatch + 1] && maskToken.matches[intMatch + 1].isGroup) {
                                var qt = maskToken.matches[match];
                                maskToken.matches.splice(match, 1);
                                maskToken.matches.splice(intMatch + 1, 0, qt);
                            }
                            if (maskToken.matches[match].matches !== undefined) {
                                maskToken.matches[match] = reverseTokens(maskToken.matches[match]);
                            } else {
                                maskToken.matches[match] = reverseStatic(maskToken.matches[match]);
                            }
                        }
                    }
                    return maskToken;
                }
                function groupify(matches) {
                    var groupToken = new MaskToken(true);
                    groupToken.openGroup = false;
                    groupToken.matches = matches;
                    return groupToken;
                }
                if (regexMask) {
                    opts.optionalmarker[0] = undefined;
                    opts.optionalmarker[1] = undefined;
                }
                while (match = regexMask ? regexTokenizer.exec(mask) : tokenizer.exec(mask)) {
                    m = match[0];
                    if (regexMask) {
                        switch (m.charAt(0)) {
                          case "?":
                            m = "{0,1}";
                            break;

                          case "+":
                          case "*":
                            m = "{" + m + "}";
                            break;
                        }
                    }
                    if (escaped) {
                        defaultCase();
                        continue;
                    }
                    switch (m.charAt(0)) {
                      case "(?=":
                        break;

                      case "(?!":
                        break;

                      case "(?<=":
                        break;

                      case "(?<!":
                        break;

                      case opts.escapeChar:
                        escaped = true;
                        if (regexMask) {
                            defaultCase();
                        }
                        break;

                      case opts.optionalmarker[1]:
                      case opts.groupmarker[1]:
                        openingToken = openenings.pop();
                        openingToken.openGroup = false;
                        if (openingToken !== undefined) {
                            if (openenings.length > 0) {
                                currentOpeningToken = openenings[openenings.length - 1];
                                currentOpeningToken.matches.push(openingToken);
                                if (currentOpeningToken.isAlternator) {
                                    alternator = openenings.pop();
                                    for (var mndx = 0; mndx < alternator.matches.length; mndx++) {
                                        alternator.matches[mndx].isGroup = false;
                                        alternator.matches[mndx].alternatorGroup = false;
                                    }
                                    if (openenings.length > 0) {
                                        currentOpeningToken = openenings[openenings.length - 1];
                                        currentOpeningToken.matches.push(alternator);
                                    } else {
                                        currentToken.matches.push(alternator);
                                    }
                                }
                            } else {
                                currentToken.matches.push(openingToken);
                            }
                        } else defaultCase();
                        break;

                      case opts.optionalmarker[0]:
                        openenings.push(new MaskToken(false, true));
                        break;

                      case opts.groupmarker[0]:
                        openenings.push(new MaskToken(true));
                        break;

                      case opts.quantifiermarker[0]:
                        var quantifier = new MaskToken(false, false, true);
                        m = m.replace(/[{}]/g, "");
                        var mqj = m.split("|"), mq = mqj[0].split(","), mq0 = isNaN(mq[0]) ? mq[0] : parseInt(mq[0]), mq1 = mq.length === 1 ? mq0 : isNaN(mq[1]) ? mq[1] : parseInt(mq[1]);
                        if (mq0 === "*" || mq0 === "+") {
                            mq0 = mq1 === "*" ? 0 : 1;
                        }
                        quantifier.quantifier = {
                            min: mq0,
                            max: mq1,
                            jit: mqj[1]
                        };
                        var matches = openenings.length > 0 ? openenings[openenings.length - 1].matches : currentToken.matches;
                        match = matches.pop();
                        if (match.isAlternator) {
                            matches.push(match);
                            matches = match.matches;
                            var groupToken = new MaskToken(true);
                            var tmpMatch = matches.pop();
                            matches.push(groupToken);
                            matches = groupToken.matches;
                            match = tmpMatch;
                        }
                        if (!match.isGroup) {
                            match = groupify([ match ]);
                        }
                        matches.push(match);
                        matches.push(quantifier);
                        break;

                      case opts.alternatormarker:
                        var groupQuantifier = function groupQuantifier(matches) {
                            var lastMatch = matches.pop();
                            if (lastMatch.isQuantifier) {
                                lastMatch = groupify([ matches.pop(), lastMatch ]);
                            }
                            return lastMatch;
                        };
                        if (openenings.length > 0) {
                            currentOpeningToken = openenings[openenings.length - 1];
                            var subToken = currentOpeningToken.matches[currentOpeningToken.matches.length - 1];
                            if (currentOpeningToken.openGroup && (subToken.matches === undefined || subToken.isGroup === false && subToken.isAlternator === false)) {
                                lastMatch = openenings.pop();
                            } else {
                                lastMatch = groupQuantifier(currentOpeningToken.matches);
                            }
                        } else {
                            lastMatch = groupQuantifier(currentToken.matches);
                        }
                        if (lastMatch.isAlternator) {
                            openenings.push(lastMatch);
                        } else {
                            if (lastMatch.alternatorGroup) {
                                alternator = openenings.pop();
                                lastMatch.alternatorGroup = false;
                            } else {
                                alternator = new MaskToken(false, false, false, true);
                            }
                            alternator.matches.push(lastMatch);
                            openenings.push(alternator);
                            if (lastMatch.openGroup) {
                                lastMatch.openGroup = false;
                                var alternatorGroup = new MaskToken(true);
                                alternatorGroup.alternatorGroup = true;
                                openenings.push(alternatorGroup);
                            }
                        }
                        break;

                      default:
                        defaultCase();
                    }
                }
                while (openenings.length > 0) {
                    openingToken = openenings.pop();
                    currentToken.matches.push(openingToken);
                }
                if (currentToken.matches.length > 0) {
                    verifyGroupMarker(currentToken);
                    maskTokens.push(currentToken);
                }
                if (opts.numericInput || opts.isRTL) {
                    reverseTokens(maskTokens[0]);
                }
                return maskTokens;
            }
        };
        Inputmask.extendDefaults = function(options) {
            $.extend(true, Inputmask.prototype.defaults, options);
        };
        Inputmask.extendDefinitions = function(definition) {
            $.extend(true, Inputmask.prototype.definitions, definition);
        };
        Inputmask.extendAliases = function(alias) {
            $.extend(true, Inputmask.prototype.aliases, alias);
        };
        Inputmask.format = function(value, options, metadata) {
            return Inputmask(options).format(value, metadata);
        };
        Inputmask.unmask = function(value, options) {
            return Inputmask(options).unmaskedvalue(value);
        };
        Inputmask.isValid = function(value, options) {
            return Inputmask(options).isValid(value);
        };
        Inputmask.remove = function(elems) {
            if (typeof elems === "string") {
                elems = document.getElementById(elems) || document.querySelectorAll(elems);
            }
            elems = elems.nodeName ? [ elems ] : elems;
            $.each(elems, function(ndx, el) {
                if (el.inputmask) el.inputmask.remove();
            });
        };
        Inputmask.setValue = function(elems, value) {
            if (typeof elems === "string") {
                elems = document.getElementById(elems) || document.querySelectorAll(elems);
            }
            elems = elems.nodeName ? [ elems ] : elems;
            $.each(elems, function(ndx, el) {
                if (el.inputmask) el.inputmask.setValue(value); else $(el).trigger("setvalue", [ value ]);
            });
        };
        Inputmask.escapeRegex = function(str) {
            var specials = [ "/", ".", "*", "+", "?", "|", "(", ")", "[", "]", "{", "}", "\\", "$", "^" ];
            return str.replace(new RegExp("(\\" + specials.join("|\\") + ")", "gim"), "\\$1");
        };
        Inputmask.keyCode = {
            BACKSPACE: 8,
            BACKSPACE_SAFARI: 127,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            INSERT: 45,
            LEFT: 37,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            RIGHT: 39,
            SPACE: 32,
            TAB: 9,
            UP: 38,
            X: 88,
            CONTROL: 17
        };
        Inputmask.dependencyLib = $;
        function resolveAlias(aliasStr, options, opts) {
            var aliasDefinition = Inputmask.prototype.aliases[aliasStr];
            if (aliasDefinition) {
                if (aliasDefinition.alias) resolveAlias(aliasDefinition.alias, undefined, opts);
                $.extend(true, opts, aliasDefinition);
                $.extend(true, opts, options);
                return true;
            } else if (opts.mask === null) {
                opts.mask = aliasStr;
            }
            return false;
        }
        function generateMaskSet(opts, nocache) {
            function generateMask(mask, metadata, opts) {
                var regexMask = false;
                if (mask === null || mask === "") {
                    regexMask = opts.regex !== null;
                    if (regexMask) {
                        mask = opts.regex;
                        mask = mask.replace(/^(\^)(.*)(\$)$/, "$2");
                    } else {
                        regexMask = true;
                        mask = ".*";
                    }
                }
                if (mask.length === 1 && opts.greedy === false && opts.repeat !== 0) {
                    opts.placeholder = "";
                }
                if (opts.repeat > 0 || opts.repeat === "*" || opts.repeat === "+") {
                    var repeatStart = opts.repeat === "*" ? 0 : opts.repeat === "+" ? 1 : opts.repeat;
                    mask = opts.groupmarker[0] + mask + opts.groupmarker[1] + opts.quantifiermarker[0] + repeatStart + "," + opts.repeat + opts.quantifiermarker[1];
                }
                var masksetDefinition, maskdefKey = regexMask ? "regex_" + opts.regex : opts.numericInput ? mask.split("").reverse().join("") : mask;
                if (Inputmask.prototype.masksCache[maskdefKey] === undefined || nocache === true) {
                    masksetDefinition = {
                        mask: mask,
                        maskToken: Inputmask.prototype.analyseMask(mask, regexMask, opts),
                        validPositions: {},
                        _buffer: undefined,
                        buffer: undefined,
                        tests: {},
                        excludes: {},
                        metadata: metadata,
                        maskLength: undefined,
                        jitOffset: {}
                    };
                    if (nocache !== true) {
                        Inputmask.prototype.masksCache[maskdefKey] = masksetDefinition;
                        masksetDefinition = $.extend(true, {}, Inputmask.prototype.masksCache[maskdefKey]);
                    }
                } else masksetDefinition = $.extend(true, {}, Inputmask.prototype.masksCache[maskdefKey]);
                return masksetDefinition;
            }
            var ms;
            if ($.isFunction(opts.mask)) {
                opts.mask = opts.mask(opts);
            }
            if ($.isArray(opts.mask)) {
                if (opts.mask.length > 1) {
                    if (opts.keepStatic === null) {
                        opts.keepStatic = "auto";
                        for (var i = 0; i < opts.mask.length; i++) {
                            if (opts.mask[i].charAt(0) !== opts.mask[0].charAt(0)) {
                                opts.keepStatic = true;
                                break;
                            }
                        }
                    }
                    var altMask = opts.groupmarker[0];
                    $.each(opts.isRTL ? opts.mask.reverse() : opts.mask, function(ndx, msk) {
                        if (altMask.length > 1) {
                            altMask += opts.groupmarker[1] + opts.alternatormarker + opts.groupmarker[0];
                        }
                        if (msk.mask !== undefined && !$.isFunction(msk.mask)) {
                            altMask += msk.mask;
                        } else {
                            altMask += msk;
                        }
                    });
                    altMask += opts.groupmarker[1];
                    return generateMask(altMask, opts.mask, opts);
                } else opts.mask = opts.mask.pop();
            }
            if (opts.mask && opts.mask.mask !== undefined && !$.isFunction(opts.mask.mask)) {
                ms = generateMask(opts.mask.mask, opts.mask, opts);
            } else {
                ms = generateMask(opts.mask, opts.mask, opts);
            }
            return ms;
        }
        function isInputEventSupported(eventName) {
            var el = document.createElement("input"), evName = "on" + eventName, isSupported = evName in el;
            if (!isSupported) {
                el.setAttribute(evName, "return;");
                isSupported = typeof el[evName] === "function";
            }
            el = null;
            return isSupported;
        }
        function maskScope(actionObj, maskset, opts) {
            maskset = maskset || this.maskset;
            opts = opts || this.opts;
            var inputmask = this, el = this.el, isRTL = this.isRTL, undoValue, $el, skipKeyPressEvent = false, skipInputEvent = false, ignorable = false, maxLength, mouseEnter = false, colorMask, originalPlaceholder;
            function getMaskTemplate(baseOnInput, minimalPos, includeMode, noJit, clearOptionalTail) {
                var greedy = opts.greedy;
                if (clearOptionalTail) opts.greedy = false;
                minimalPos = minimalPos || 0;
                var maskTemplate = [], ndxIntlzr, pos = 0, test, testPos, lvp = getLastValidPosition();
                do {
                    if (baseOnInput === true && getMaskSet().validPositions[pos]) {
                        testPos = clearOptionalTail && getMaskSet().validPositions[pos].match.optionality === true && getMaskSet().validPositions[pos + 1] === undefined && (getMaskSet().validPositions[pos].generatedInput === true || getMaskSet().validPositions[pos].input == opts.skipOptionalPartCharacter && pos > 0) ? determineTestTemplate(pos, getTests(pos, ndxIntlzr, pos - 1)) : getMaskSet().validPositions[pos];
                        test = testPos.match;
                        ndxIntlzr = testPos.locator.slice();
                        maskTemplate.push(includeMode === true ? testPos.input : includeMode === false ? test.nativeDef : getPlaceholder(pos, test));
                    } else {
                        testPos = getTestTemplate(pos, ndxIntlzr, pos - 1);
                        test = testPos.match;
                        ndxIntlzr = testPos.locator.slice();
                        var jitMasking = noJit === true ? false : opts.jitMasking !== false ? opts.jitMasking : test.jit;
                        if (jitMasking === false || jitMasking === undefined || typeof jitMasking === "number" && isFinite(jitMasking) && jitMasking > pos) {
                            maskTemplate.push(includeMode === false ? test.nativeDef : getPlaceholder(pos, test));
                        }
                    }
                    if (opts.keepStatic === "auto") {
                        if (test.newBlockMarker && test.fn !== null) {
                            opts.keepStatic = pos - 1;
                        }
                    }
                    pos++;
                } while ((maxLength === undefined || pos < maxLength) && (test.fn !== null || test.def !== "") || minimalPos > pos);
                if (maskTemplate[maskTemplate.length - 1] === "") {
                    maskTemplate.pop();
                }
                if (includeMode !== false || getMaskSet().maskLength === undefined) getMaskSet().maskLength = pos - 1;
                opts.greedy = greedy;
                return maskTemplate;
            }
            function getMaskSet() {
                return maskset;
            }
            function resetMaskSet(soft) {
                var maskset = getMaskSet();
                maskset.buffer = undefined;
                if (soft !== true) {
                    maskset.validPositions = {};
                    maskset.p = 0;
                }
            }
            function getLastValidPosition(closestTo, strict, validPositions) {
                var before = -1, after = -1, valids = validPositions || getMaskSet().validPositions;
                if (closestTo === undefined) closestTo = -1;
                for (var posNdx in valids) {
                    var psNdx = parseInt(posNdx);
                    if (valids[psNdx] && (strict || valids[psNdx].generatedInput !== true)) {
                        if (psNdx <= closestTo) before = psNdx;
                        if (psNdx >= closestTo) after = psNdx;
                    }
                }
                return before === -1 || before == closestTo ? after : after == -1 ? before : closestTo - before < after - closestTo ? before : after;
            }
            function getDecisionTaker(tst) {
                var decisionTaker = tst.locator[tst.alternation];
                if (typeof decisionTaker == "string" && decisionTaker.length > 0) {
                    decisionTaker = decisionTaker.split(",")[0];
                }
                return decisionTaker !== undefined ? decisionTaker.toString() : "";
            }
            function getLocator(tst, align) {
                var locator = (tst.alternation != undefined ? tst.mloc[getDecisionTaker(tst)] : tst.locator).join("");
                if (locator !== "") while (locator.length < align) {
                    locator += "0";
                }
                return locator;
            }
            function determineTestTemplate(pos, tests) {
                pos = pos > 0 ? pos - 1 : 0;
                var altTest = getTest(pos), targetLocator = getLocator(altTest), tstLocator, closest, bestMatch;
                for (var ndx = 0; ndx < tests.length; ndx++) {
                    var tst = tests[ndx];
                    tstLocator = getLocator(tst, targetLocator.length);
                    var distance = Math.abs(tstLocator - targetLocator);
                    if (closest === undefined || tstLocator !== "" && distance < closest || bestMatch && !opts.greedy && bestMatch.match.optionality && bestMatch.match.newBlockMarker === "master" && (!tst.match.optionality || !tst.match.newBlockMarker) || bestMatch && bestMatch.match.optionalQuantifier && !tst.match.optionalQuantifier) {
                        closest = distance;
                        bestMatch = tst;
                    }
                }
                return bestMatch;
            }
            function getTestTemplate(pos, ndxIntlzr, tstPs) {
                return getMaskSet().validPositions[pos] || determineTestTemplate(pos, getTests(pos, ndxIntlzr ? ndxIntlzr.slice() : ndxIntlzr, tstPs));
            }
            function getTest(pos, tests) {
                if (getMaskSet().validPositions[pos]) {
                    return getMaskSet().validPositions[pos];
                }
                return (tests || getTests(pos))[0];
            }
            function positionCanMatchDefinition(pos, def) {
                var valid = false, tests = getTests(pos);
                for (var tndx = 0; tndx < tests.length; tndx++) {
                    if (tests[tndx].match && tests[tndx].match.def === def) {
                        valid = true;
                        break;
                    }
                }
                return valid;
            }
            function getTests(pos, ndxIntlzr, tstPs) {
                var maskTokens = getMaskSet().maskToken, testPos = ndxIntlzr ? tstPs : 0, ndxInitializer = ndxIntlzr ? ndxIntlzr.slice() : [ 0 ], matches = [], insertStop = false, latestMatch, cacheDependency = ndxIntlzr ? ndxIntlzr.join("") : "";
                function resolveTestFromToken(maskToken, ndxInitializer, loopNdx, quantifierRecurse) {
                    function handleMatch(match, loopNdx, quantifierRecurse) {
                        function isFirstMatch(latestMatch, tokenGroup) {
                            var firstMatch = $.inArray(latestMatch, tokenGroup.matches) === 0;
                            if (!firstMatch) {
                                $.each(tokenGroup.matches, function(ndx, match) {
                                    if (match.isQuantifier === true) firstMatch = isFirstMatch(latestMatch, tokenGroup.matches[ndx - 1]); else if (match.hasOwnProperty("matches")) firstMatch = isFirstMatch(latestMatch, match);
                                    if (firstMatch) return false;
                                });
                            }
                            return firstMatch;
                        }
                        function resolveNdxInitializer(pos, alternateNdx, targetAlternation) {
                            var bestMatch, indexPos;
                            if (getMaskSet().tests[pos] || getMaskSet().validPositions[pos]) {
                                $.each(getMaskSet().tests[pos] || [ getMaskSet().validPositions[pos] ], function(ndx, lmnt) {
                                    if (lmnt.mloc[alternateNdx]) {
                                        bestMatch = lmnt;
                                        return false;
                                    }
                                    var alternation = targetAlternation !== undefined ? targetAlternation : lmnt.alternation, ndxPos = lmnt.locator[alternation] !== undefined ? lmnt.locator[alternation].toString().indexOf(alternateNdx) : -1;
                                    if ((indexPos === undefined || ndxPos < indexPos) && ndxPos !== -1) {
                                        bestMatch = lmnt;
                                        indexPos = ndxPos;
                                    }
                                });
                            }
                            if (bestMatch) {
                                var bestMatchAltIndex = bestMatch.locator[bestMatch.alternation];
                                var locator = bestMatch.mloc[alternateNdx] || bestMatch.mloc[bestMatchAltIndex] || bestMatch.locator;
                                return locator.slice((targetAlternation !== undefined ? targetAlternation : bestMatch.alternation) + 1);
                            } else {
                                return targetAlternation !== undefined ? resolveNdxInitializer(pos, alternateNdx) : undefined;
                            }
                        }
                        function isSubsetOf(source, target) {
                            function expand(pattern) {
                                var expanded = [], start, end;
                                for (var i = 0, l = pattern.length; i < l; i++) {
                                    if (pattern.charAt(i) === "-") {
                                        end = pattern.charCodeAt(i + 1);
                                        while (++start < end) {
                                            expanded.push(String.fromCharCode(start));
                                        }
                                    } else {
                                        start = pattern.charCodeAt(i);
                                        expanded.push(pattern.charAt(i));
                                    }
                                }
                                return expanded.join("");
                            }
                            if (opts.regex && source.match.fn !== null && target.match.fn !== null) {
                                return expand(target.match.def.replace(/[\[\]]/g, "")).indexOf(expand(source.match.def.replace(/[\[\]]/g, ""))) !== -1;
                            }
                            return source.match.def === target.match.nativeDef;
                        }
                        function staticCanMatchDefinition(source, target) {
                            var sloc = source.locator.slice(source.alternation).join(""), tloc = target.locator.slice(target.alternation).join(""), canMatch = sloc == tloc;
                            canMatch = canMatch && source.match.fn === null && target.match.fn !== null ? target.match.fn.test(source.match.def, getMaskSet(), pos, false, opts, false) : false;
                            return canMatch;
                        }
                        function setMergeLocators(targetMatch, altMatch) {
                            if (altMatch === undefined || targetMatch.alternation === altMatch.alternation && targetMatch.locator[targetMatch.alternation].toString().indexOf(altMatch.locator[altMatch.alternation]) === -1) {
                                targetMatch.mloc = targetMatch.mloc || {};
                                var locNdx = targetMatch.locator[targetMatch.alternation];
                                if (locNdx === undefined) targetMatch.alternation = undefined; else {
                                    if (typeof locNdx === "string") locNdx = locNdx.split(",")[0];
                                    if (targetMatch.mloc[locNdx] === undefined) targetMatch.mloc[locNdx] = targetMatch.locator.slice();
                                    if (altMatch !== undefined) {
                                        for (var ndx in altMatch.mloc) {
                                            if (typeof ndx === "string") ndx = ndx.split(",")[0];
                                            if (targetMatch.mloc[ndx] === undefined) targetMatch.mloc[ndx] = altMatch.mloc[ndx];
                                        }
                                        targetMatch.locator[targetMatch.alternation] = Object.keys(targetMatch.mloc).join(",");
                                    }
                                    return true;
                                }
                            }
                            return false;
                        }
                        if (testPos > 500 && quantifierRecurse !== undefined) {
                            throw "Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. " + getMaskSet().mask;
                        }
                        if (testPos === pos && match.matches === undefined) {
                            matches.push({
                                match: match,
                                locator: loopNdx.reverse(),
                                cd: cacheDependency,
                                mloc: {}
                            });
                            return true;
                        } else if (match.matches !== undefined) {
                            if (match.isGroup && quantifierRecurse !== match) {
                                match = handleMatch(maskToken.matches[$.inArray(match, maskToken.matches) + 1], loopNdx, quantifierRecurse);
                                if (match) return true;
                            } else if (match.isOptional) {
                                var optionalToken = match;
                                match = resolveTestFromToken(match, ndxInitializer, loopNdx, quantifierRecurse);
                                if (match) {
                                    $.each(matches, function(ndx, mtch) {
                                        mtch.match.optionality = true;
                                    });
                                    latestMatch = matches[matches.length - 1].match;
                                    if (quantifierRecurse === undefined && isFirstMatch(latestMatch, optionalToken)) {
                                        insertStop = true;
                                        testPos = pos;
                                    } else return true;
                                }
                            } else if (match.isAlternator) {
                                var alternateToken = match, malternateMatches = [], maltMatches, currentMatches = matches.slice(), loopNdxCnt = loopNdx.length;
                                var altIndex = ndxInitializer.length > 0 ? ndxInitializer.shift() : -1;
                                if (altIndex === -1 || typeof altIndex === "string") {
                                    var currentPos = testPos, ndxInitializerClone = ndxInitializer.slice(), altIndexArr = [], amndx;
                                    if (typeof altIndex == "string") {
                                        altIndexArr = altIndex.split(",");
                                    } else {
                                        for (amndx = 0; amndx < alternateToken.matches.length; amndx++) {
                                            altIndexArr.push(amndx.toString());
                                        }
                                    }
                                    if (getMaskSet().excludes[pos]) {
                                        var altIndexArrClone = altIndexArr.slice();
                                        for (var i = 0, el = getMaskSet().excludes[pos].length; i < el; i++) {
                                            altIndexArr.splice(altIndexArr.indexOf(getMaskSet().excludes[pos][i].toString()), 1);
                                        }
                                        if (altIndexArr.length === 0) {
                                            getMaskSet().excludes[pos] = undefined;
                                            altIndexArr = altIndexArrClone;
                                        }
                                    }
                                    if (opts.keepStatic === true || isFinite(parseInt(opts.keepStatic)) && currentPos >= opts.keepStatic) altIndexArr = altIndexArr.slice(0, 1);
                                    var unMatchedAlternation = false;
                                    for (var ndx = 0; ndx < altIndexArr.length; ndx++) {
                                        amndx = parseInt(altIndexArr[ndx]);
                                        matches = [];
                                        ndxInitializer = typeof altIndex === "string" ? resolveNdxInitializer(testPos, amndx, loopNdxCnt) || ndxInitializerClone.slice() : ndxInitializerClone.slice();
                                        if (alternateToken.matches[amndx] && handleMatch(alternateToken.matches[amndx], [ amndx ].concat(loopNdx), quantifierRecurse)) match = true; else if (ndx === 0) {
                                            unMatchedAlternation = true;
                                        }
                                        maltMatches = matches.slice();
                                        testPos = currentPos;
                                        matches = [];
                                        for (var ndx1 = 0; ndx1 < maltMatches.length; ndx1++) {
                                            var altMatch = maltMatches[ndx1], dropMatch = false;
                                            altMatch.match.jit = altMatch.match.jit || unMatchedAlternation;
                                            altMatch.alternation = altMatch.alternation || loopNdxCnt;
                                            setMergeLocators(altMatch);
                                            for (var ndx2 = 0; ndx2 < malternateMatches.length; ndx2++) {
                                                var altMatch2 = malternateMatches[ndx2];
                                                if (typeof altIndex !== "string" || altMatch.alternation !== undefined && $.inArray(altMatch.locator[altMatch.alternation].toString(), altIndexArr) !== -1) {
                                                    if (altMatch.match.nativeDef === altMatch2.match.nativeDef) {
                                                        dropMatch = true;
                                                        setMergeLocators(altMatch2, altMatch);
                                                        break;
                                                    } else if (isSubsetOf(altMatch, altMatch2)) {
                                                        if (setMergeLocators(altMatch, altMatch2)) {
                                                            dropMatch = true;
                                                            malternateMatches.splice(malternateMatches.indexOf(altMatch2), 0, altMatch);
                                                        }
                                                        break;
                                                    } else if (isSubsetOf(altMatch2, altMatch)) {
                                                        setMergeLocators(altMatch2, altMatch);
                                                        break;
                                                    } else if (staticCanMatchDefinition(altMatch, altMatch2)) {
                                                        if (setMergeLocators(altMatch, altMatch2)) {
                                                            dropMatch = true;
                                                            malternateMatches.splice(malternateMatches.indexOf(altMatch2), 0, altMatch);
                                                        }
                                                        break;
                                                    }
                                                }
                                            }
                                            if (!dropMatch) {
                                                malternateMatches.push(altMatch);
                                            }
                                        }
                                    }
                                    matches = currentMatches.concat(malternateMatches);
                                    testPos = pos;
                                    insertStop = matches.length > 0;
                                    match = malternateMatches.length > 0;
                                    ndxInitializer = ndxInitializerClone.slice();
                                } else match = handleMatch(alternateToken.matches[altIndex] || maskToken.matches[altIndex], [ altIndex ].concat(loopNdx), quantifierRecurse);
                                if (match) return true;
                            } else if (match.isQuantifier && quantifierRecurse !== maskToken.matches[$.inArray(match, maskToken.matches) - 1]) {
                                var qt = match;
                                for (var qndx = ndxInitializer.length > 0 ? ndxInitializer.shift() : 0; qndx < (isNaN(qt.quantifier.max) ? qndx + 1 : qt.quantifier.max) && testPos <= pos; qndx++) {
                                    var tokenGroup = maskToken.matches[$.inArray(qt, maskToken.matches) - 1];
                                    match = handleMatch(tokenGroup, [ qndx ].concat(loopNdx), tokenGroup);
                                    if (match) {
                                        latestMatch = matches[matches.length - 1].match;
                                        latestMatch.optionalQuantifier = qndx >= qt.quantifier.min;
                                        latestMatch.jit = (qndx || 1) * tokenGroup.matches.indexOf(latestMatch) >= qt.quantifier.jit;
                                        if (latestMatch.optionalQuantifier && isFirstMatch(latestMatch, tokenGroup)) {
                                            insertStop = true;
                                            testPos = pos;
                                            break;
                                        }
                                        if (latestMatch.jit) {
                                            getMaskSet().jitOffset[pos] = tokenGroup.matches.indexOf(latestMatch);
                                        }
                                        return true;
                                    }
                                }
                            } else {
                                match = resolveTestFromToken(match, ndxInitializer, loopNdx, quantifierRecurse);
                                if (match) return true;
                            }
                        } else {
                            testPos++;
                        }
                    }
                    for (var tndx = ndxInitializer.length > 0 ? ndxInitializer.shift() : 0; tndx < maskToken.matches.length; tndx++) {
                        if (maskToken.matches[tndx].isQuantifier !== true) {
                            var match = handleMatch(maskToken.matches[tndx], [ tndx ].concat(loopNdx), quantifierRecurse);
                            if (match && testPos === pos) {
                                return match;
                            } else if (testPos > pos) {
                                break;
                            }
                        }
                    }
                }
                function mergeLocators(pos, tests) {
                    var locator = [];
                    if (!$.isArray(tests)) tests = [ tests ];
                    if (tests.length > 0) {
                        if (tests[0].alternation === undefined) {
                            locator = determineTestTemplate(pos, tests.slice()).locator.slice();
                            if (locator.length === 0) locator = tests[0].locator.slice();
                        } else {
                            $.each(tests, function(ndx, tst) {
                                if (tst.def !== "") {
                                    if (locator.length === 0) locator = tst.locator.slice(); else {
                                        for (var i = 0; i < locator.length; i++) {
                                            if (tst.locator[i] && locator[i].toString().indexOf(tst.locator[i]) === -1) {
                                                locator[i] += "," + tst.locator[i];
                                            }
                                        }
                                    }
                                }
                            });
                        }
                    }
                    return locator;
                }
                if (pos > -1) {
                    if (ndxIntlzr === undefined) {
                        var previousPos = pos - 1, test;
                        while ((test = getMaskSet().validPositions[previousPos] || getMaskSet().tests[previousPos]) === undefined && previousPos > -1) {
                            previousPos--;
                        }
                        if (test !== undefined && previousPos > -1) {
                            ndxInitializer = mergeLocators(previousPos, test);
                            cacheDependency = ndxInitializer.join("");
                            testPos = previousPos;
                        }
                    }
                    if (getMaskSet().tests[pos] && getMaskSet().tests[pos][0].cd === cacheDependency) {
                        return getMaskSet().tests[pos];
                    }
                    for (var mtndx = ndxInitializer.shift(); mtndx < maskTokens.length; mtndx++) {
                        var match = resolveTestFromToken(maskTokens[mtndx], ndxInitializer, [ mtndx ]);
                        if (match && testPos === pos || testPos > pos) {
                            break;
                        }
                    }
                }
                if (matches.length === 0 || insertStop) {
                    matches.push({
                        match: {
                            fn: null,
                            optionality: false,
                            casing: null,
                            def: "",
                            placeholder: ""
                        },
                        locator: [],
                        mloc: {},
                        cd: cacheDependency
                    });
                }
                if (ndxIntlzr !== undefined && getMaskSet().tests[pos]) {
                    return $.extend(true, [], matches);
                }
                getMaskSet().tests[pos] = $.extend(true, [], matches);
                return getMaskSet().tests[pos];
            }
            function getBufferTemplate() {
                if (getMaskSet()._buffer === undefined) {
                    getMaskSet()._buffer = getMaskTemplate(false, 1);
                    if (getMaskSet().buffer === undefined) getMaskSet().buffer = getMaskSet()._buffer.slice();
                }
                return getMaskSet()._buffer;
            }
            function getBuffer(noCache) {
                if (getMaskSet().buffer === undefined || noCache === true) {
                    getMaskSet().buffer = getMaskTemplate(true, getLastValidPosition(), true);
                    if (getMaskSet()._buffer === undefined) getMaskSet()._buffer = getMaskSet().buffer.slice();
                }
                return getMaskSet().buffer;
            }
            function refreshFromBuffer(start, end, buffer) {
                var i, p;
                if (start === true) {
                    resetMaskSet();
                    start = 0;
                    end = buffer.length;
                } else {
                    for (i = start; i < end; i++) {
                        delete getMaskSet().validPositions[i];
                    }
                }
                p = start;
                for (i = start; i < end; i++) {
                    resetMaskSet(true);
                    if (buffer[i] !== opts.skipOptionalPartCharacter) {
                        var valResult = isValid(p, buffer[i], true, true);
                        if (valResult !== false) {
                            resetMaskSet(true);
                            p = valResult.caret !== undefined ? valResult.caret : valResult.pos + 1;
                        }
                    }
                }
            }
            function casing(elem, test, pos) {
                switch (opts.casing || test.casing) {
                  case "upper":
                    elem = elem.toUpperCase();
                    break;

                  case "lower":
                    elem = elem.toLowerCase();
                    break;

                  case "title":
                    var posBefore = getMaskSet().validPositions[pos - 1];
                    if (pos === 0 || posBefore && posBefore.input === String.fromCharCode(Inputmask.keyCode.SPACE)) {
                        elem = elem.toUpperCase();
                    } else {
                        elem = elem.toLowerCase();
                    }
                    break;

                  default:
                    if ($.isFunction(opts.casing)) {
                        var args = Array.prototype.slice.call(arguments);
                        args.push(getMaskSet().validPositions);
                        elem = opts.casing.apply(this, args);
                    }
                }
                return elem;
            }
            function checkAlternationMatch(altArr1, altArr2, na) {
                var altArrC = opts.greedy ? altArr2 : altArr2.slice(0, 1), isMatch = false, naArr = na !== undefined ? na.split(",") : [], naNdx;
                for (var i = 0; i < naArr.length; i++) {
                    if ((naNdx = altArr1.indexOf(naArr[i])) !== -1) {
                        altArr1.splice(naNdx, 1);
                    }
                }
                for (var alndx = 0; alndx < altArr1.length; alndx++) {
                    if ($.inArray(altArr1[alndx], altArrC) !== -1) {
                        isMatch = true;
                        break;
                    }
                }
                return isMatch;
            }
            function alternate(pos, c, strict, fromSetValid, rAltPos) {
                var validPsClone = $.extend(true, {}, getMaskSet().validPositions), lastAlt, alternation, isValidRslt = false, altPos, prevAltPos, i, validPos, decisionPos, lAltPos = rAltPos !== undefined ? rAltPos : getLastValidPosition();
                if (lAltPos === -1 && rAltPos === undefined) {
                    lastAlt = 0;
                    prevAltPos = getTest(lastAlt);
                    alternation = prevAltPos.alternation;
                } else {
                    for (;lAltPos >= 0; lAltPos--) {
                        altPos = getMaskSet().validPositions[lAltPos];
                        if (altPos && altPos.alternation !== undefined) {
                            if (prevAltPos && prevAltPos.locator[altPos.alternation] !== altPos.locator[altPos.alternation]) {
                                break;
                            }
                            lastAlt = lAltPos;
                            alternation = getMaskSet().validPositions[lastAlt].alternation;
                            prevAltPos = altPos;
                        }
                    }
                }
                if (alternation !== undefined) {
                    decisionPos = parseInt(lastAlt);
                    getMaskSet().excludes[decisionPos] = getMaskSet().excludes[decisionPos] || [];
                    if (pos !== true) {
                        getMaskSet().excludes[decisionPos].push(getDecisionTaker(prevAltPos));
                    }
                    var validInputsClone = [], staticInputsBeforePos = 0;
                    for (i = decisionPos; i < getLastValidPosition(undefined, true) + 1; i++) {
                        validPos = getMaskSet().validPositions[i];
                        if (validPos && validPos.generatedInput !== true) {
                            validInputsClone.push(validPos.input);
                        } else if (i < pos) staticInputsBeforePos++;
                        delete getMaskSet().validPositions[i];
                    }
                    while (getMaskSet().excludes[decisionPos] && getMaskSet().excludes[decisionPos].length < 10) {
                        var posOffset = staticInputsBeforePos * -1, validInputs = validInputsClone.slice();
                        getMaskSet().tests[decisionPos] = undefined;
                        resetMaskSet(true);
                        isValidRslt = true;
                        while (validInputs.length > 0) {
                            var input = validInputs.shift();
                            if (!(isValidRslt = isValid(getLastValidPosition(undefined, true) + 1, input, false, fromSetValid, true))) {
                                break;
                            }
                        }
                        if (isValidRslt && c !== undefined) {
                            var targetLvp = getLastValidPosition(pos) + 1;
                            for (i = decisionPos; i < getLastValidPosition() + 1; i++) {
                                validPos = getMaskSet().validPositions[i];
                                if ((validPos === undefined || validPos.match.fn == null) && i < pos + posOffset) {
                                    posOffset++;
                                }
                            }
                            pos = pos + posOffset;
                            isValidRslt = isValid(pos > targetLvp ? targetLvp : pos, c, strict, fromSetValid, true);
                        }
                        if (!isValidRslt) {
                            resetMaskSet();
                            prevAltPos = getTest(decisionPos);
                            getMaskSet().validPositions = $.extend(true, {}, validPsClone);
                            if (getMaskSet().excludes[decisionPos]) {
                                var decisionTaker = getDecisionTaker(prevAltPos);
                                if (getMaskSet().excludes[decisionPos].indexOf(decisionTaker) !== -1) {
                                    isValidRslt = alternate(pos, c, strict, fromSetValid, decisionPos - 1);
                                    break;
                                }
                                getMaskSet().excludes[decisionPos].push(decisionTaker);
                                for (i = decisionPos; i < getLastValidPosition(undefined, true) + 1; i++) {
                                    delete getMaskSet().validPositions[i];
                                }
                            } else {
                                isValidRslt = alternate(pos, c, strict, fromSetValid, decisionPos - 1);
                                break;
                            }
                        } else break;
                    }
                }
                getMaskSet().excludes[decisionPos] = undefined;
                return isValidRslt;
            }
            function isValid(pos, c, strict, fromSetValid, fromAlternate, validateOnly) {
                function isSelection(posObj) {
                    return isRTL ? posObj.begin - posObj.end > 1 || posObj.begin - posObj.end === 1 : posObj.end - posObj.begin > 1 || posObj.end - posObj.begin === 1;
                }
                strict = strict === true;
                var maskPos = pos;
                if (pos.begin !== undefined) {
                    maskPos = isRTL ? pos.end : pos.begin;
                }
                function _isValid(position, c, strict) {
                    var rslt = false;
                    $.each(getTests(position), function(ndx, tst) {
                        var test = tst.match;
                        getBuffer(true);
                        rslt = test.fn != null ? test.fn.test(c, getMaskSet(), position, strict, opts, isSelection(pos)) : (c === test.def || c === opts.skipOptionalPartCharacter) && test.def !== "" ? {
                            c: getPlaceholder(position, test, true) || test.def,
                            pos: position
                        } : false;
                        if (rslt !== false) {
                            var elem = rslt.c !== undefined ? rslt.c : c, validatedPos = position;
                            elem = elem === opts.skipOptionalPartCharacter && test.fn === null ? getPlaceholder(position, test, true) || test.def : elem;
                            if (rslt.remove !== undefined) {
                                if (!$.isArray(rslt.remove)) rslt.remove = [ rslt.remove ];
                                $.each(rslt.remove.sort(function(a, b) {
                                    return b - a;
                                }), function(ndx, lmnt) {
                                    revalidateMask({
                                        begin: lmnt,
                                        end: lmnt + 1
                                    });
                                });
                            }
                            if (rslt.insert !== undefined) {
                                if (!$.isArray(rslt.insert)) rslt.insert = [ rslt.insert ];
                                $.each(rslt.insert.sort(function(a, b) {
                                    return a - b;
                                }), function(ndx, lmnt) {
                                    isValid(lmnt.pos, lmnt.c, true, fromSetValid);
                                });
                            }
                            if (rslt !== true && rslt.pos !== undefined && rslt.pos !== position) {
                                validatedPos = rslt.pos;
                            }
                            if (rslt !== true && rslt.pos === undefined && rslt.c === undefined) {
                                return false;
                            }
                            if (!revalidateMask(pos, $.extend({}, tst, {
                                input: casing(elem, test, validatedPos)
                            }), fromSetValid, validatedPos)) {
                                rslt = false;
                            }
                            return false;
                        }
                    });
                    return rslt;
                }
                var result = true, positionsClone = $.extend(true, {}, getMaskSet().validPositions);
                if ($.isFunction(opts.preValidation) && !strict && fromSetValid !== true && validateOnly !== true) {
                    result = opts.preValidation(getBuffer(), maskPos, c, isSelection(pos), opts, getMaskSet());
                }
                if (result === true) {
                    trackbackPositions(undefined, maskPos, true);
                    if (maxLength === undefined || maskPos < maxLength) {
                        result = _isValid(maskPos, c, strict);
                        if ((!strict || fromSetValid === true) && result === false && validateOnly !== true) {
                            var currentPosValid = getMaskSet().validPositions[maskPos];
                            if (currentPosValid && currentPosValid.match.fn === null && (currentPosValid.match.def === c || c === opts.skipOptionalPartCharacter)) {
                                result = {
                                    caret: seekNext(maskPos)
                                };
                            } else {
                                if ((opts.insertMode || getMaskSet().validPositions[seekNext(maskPos)] === undefined) && (!isMask(maskPos, true) || getMaskSet().jitOffset[maskPos])) {
                                    if (getMaskSet().jitOffset[maskPos] && getMaskSet().validPositions[seekNext(maskPos)] === undefined) {
                                        result = isValid(maskPos + getMaskSet().jitOffset[maskPos], c, strict);
                                        if (result !== false) result.caret = maskPos;
                                    } else for (var nPos = maskPos + 1, snPos = seekNext(maskPos); nPos <= snPos; nPos++) {
                                        result = _isValid(nPos, c, strict);
                                        if (result !== false) {
                                            result = trackbackPositions(maskPos, result.pos !== undefined ? result.pos : nPos) || result;
                                            maskPos = nPos;
                                            break;
                                        }
                                    }
                                }
                            }
                        }
                    }
                    if (result === false && opts.keepStatic !== false && (opts.regex == null || isComplete(getBuffer())) && !strict && fromAlternate !== true) {
                        result = alternate(maskPos, c, strict, fromSetValid);
                    }
                    if (result === true) {
                        result = {
                            pos: maskPos
                        };
                    }
                }
                if ($.isFunction(opts.postValidation) && result !== false && !strict && fromSetValid !== true && validateOnly !== true) {
                    var postResult = opts.postValidation(getBuffer(true), pos.begin !== undefined ? isRTL ? pos.end : pos.begin : pos, result, opts);
                    if (postResult !== undefined) {
                        if (postResult.refreshFromBuffer && postResult.buffer) {
                            var refresh = postResult.refreshFromBuffer;
                            refreshFromBuffer(refresh === true ? refresh : refresh.start, refresh.end, postResult.buffer);
                        }
                        result = postResult === true ? result : postResult;
                    }
                }
                if (result && result.pos === undefined) {
                    result.pos = maskPos;
                }
                if (result === false || validateOnly === true) {
                    resetMaskSet(true);
                    getMaskSet().validPositions = $.extend(true, {}, positionsClone);
                }
                return result;
            }
            function trackbackPositions(originalPos, newPos, fillOnly) {
                var result;
                if (originalPos === undefined) {
                    for (originalPos = newPos - 1; originalPos > 0; originalPos--) {
                        if (getMaskSet().validPositions[originalPos]) break;
                    }
                }
                for (var ps = originalPos; ps < newPos; ps++) {
                    if (getMaskSet().validPositions[ps] === undefined && !isMask(ps, true)) {
                        var vp = ps == 0 ? getTest(ps) : getMaskSet().validPositions[ps - 1];
                        if (vp) {
                            var tests = getTests(ps).slice();
                            if (tests[tests.length - 1].match.def === "") tests.pop();
                            var bestMatch = determineTestTemplate(ps, tests);
                            bestMatch = $.extend({}, bestMatch, {
                                input: getPlaceholder(ps, bestMatch.match, true) || bestMatch.match.def
                            });
                            bestMatch.generatedInput = true;
                            revalidateMask(ps, bestMatch, true);
                            if (fillOnly !== true) {
                                var cvpInput = getMaskSet().validPositions[newPos].input;
                                getMaskSet().validPositions[newPos] = undefined;
                                result = isValid(newPos, cvpInput, true, true);
                            }
                        }
                    }
                }
                return result;
            }
            function revalidateMask(pos, validTest, fromSetValid, validatedPos) {
                function IsEnclosedStatic(pos, valids, selection) {
                    var posMatch = valids[pos];
                    if (posMatch !== undefined && (posMatch.match.fn === null && posMatch.match.optionality !== true || posMatch.input === opts.radixPoint)) {
                        var prevMatch = selection.begin <= pos - 1 ? valids[pos - 1] && valids[pos - 1].match.fn === null && valids[pos - 1] : valids[pos - 1], nextMatch = selection.end > pos + 1 ? valids[pos + 1] && valids[pos + 1].match.fn === null && valids[pos + 1] : valids[pos + 1];
                        return prevMatch && nextMatch;
                    }
                    return false;
                }
                var begin = pos.begin !== undefined ? pos.begin : pos, end = pos.end !== undefined ? pos.end : pos;
                if (pos.begin > pos.end) {
                    begin = pos.end;
                    end = pos.begin;
                }
                validatedPos = validatedPos !== undefined ? validatedPos : begin;
                if (begin !== end || opts.insertMode && getMaskSet().validPositions[validatedPos] !== undefined && fromSetValid === undefined) {
                    var positionsClone = $.extend(true, {}, getMaskSet().validPositions), lvp = getLastValidPosition(undefined, true), i;
                    getMaskSet().p = begin;
                    for (i = lvp; i >= begin; i--) {
                        if (getMaskSet().validPositions[i] && getMaskSet().validPositions[i].match.nativeDef === "+") {
                            opts.isNegative = false;
                        }
                        delete getMaskSet().validPositions[i];
                    }
                    var valid = true, j = validatedPos, vps = getMaskSet().validPositions, needsValidation = false, posMatch = j, i = j;
                    if (validTest) {
                        getMaskSet().validPositions[validatedPos] = $.extend(true, {}, validTest);
                        posMatch++;
                        j++;
                        if (begin < end) i++;
                    }
                    for (;i <= lvp; i++) {
                        var t = positionsClone[i];
                        if (t !== undefined && (i >= end || i >= begin && t.generatedInput !== true && IsEnclosedStatic(i, positionsClone, {
                            begin: begin,
                            end: end
                        }))) {
                            while (getTest(posMatch).match.def !== "") {
                                if (needsValidation === false && positionsClone[posMatch] && positionsClone[posMatch].match.nativeDef === t.match.nativeDef) {
                                    getMaskSet().validPositions[posMatch] = $.extend(true, {}, positionsClone[posMatch]);
                                    getMaskSet().validPositions[posMatch].input = t.input;
                                    trackbackPositions(undefined, posMatch, true);
                                    j = posMatch + 1;
                                    valid = true;
                                } else if (opts.shiftPositions && positionCanMatchDefinition(posMatch, t.match.def)) {
                                    var result = isValid(posMatch, t.input, true, true);
                                    valid = result !== false;
                                    j = result.caret || result.insert ? getLastValidPosition() : posMatch + 1;
                                    needsValidation = true;
                                } else {
                                    valid = t.generatedInput === true || t.input === opts.radixPoint && opts.numericInput === true;
                                }
                                if (valid) break;
                                if (!valid && posMatch > end && isMask(posMatch, true) && (t.match.fn !== null || posMatch > getMaskSet().maskLength)) {
                                    break;
                                }
                                posMatch++;
                            }
                            if (getTest(posMatch).match.def == "") valid = false;
                            posMatch = j;
                        }
                        if (!valid) break;
                    }
                    if (!valid) {
                        getMaskSet().validPositions = $.extend(true, {}, positionsClone);
                        resetMaskSet(true);
                        return false;
                    }
                } else if (validTest) {
                    getMaskSet().validPositions[validatedPos] = $.extend(true, {}, validTest);
                }
                resetMaskSet(true);
                return true;
            }
            function isMask(pos, strict) {
                var test = getTestTemplate(pos).match;
                if (test.def === "") test = getTest(pos).match;
                if (test.fn != null) {
                    return test.fn;
                }
                if (strict !== true && pos > -1) {
                    var tests = getTests(pos);
                    return tests.length > 1 + (tests[tests.length - 1].match.def === "" ? 1 : 0);
                }
                return false;
            }
            function seekNext(pos, newBlock) {
                var position = pos + 1;
                while (getTest(position).match.def !== "" && (newBlock === true && (getTest(position).match.newBlockMarker !== true || !isMask(position)) || newBlock !== true && !isMask(position))) {
                    position++;
                }
                return position;
            }
            function seekPrevious(pos, newBlock) {
                var position = pos, tests;
                if (position <= 0) return 0;
                while (--position > 0 && (newBlock === true && getTest(position).match.newBlockMarker !== true || newBlock !== true && !isMask(position) && (tests = getTests(position), 
                tests.length < 2 || tests.length === 2 && tests[1].match.def === ""))) {}
                return position;
            }
            function writeBuffer(input, buffer, caretPos, event, triggerEvents) {
                if (event && $.isFunction(opts.onBeforeWrite)) {
                    var result = opts.onBeforeWrite.call(inputmask, event, buffer, caretPos, opts);
                    if (result) {
                        if (result.refreshFromBuffer) {
                            var refresh = result.refreshFromBuffer;
                            refreshFromBuffer(refresh === true ? refresh : refresh.start, refresh.end, result.buffer || buffer);
                            buffer = getBuffer(true);
                        }
                        if (caretPos !== undefined) caretPos = result.caret !== undefined ? result.caret : caretPos;
                    }
                }
                if (input !== undefined) {
                    input.inputmask._valueSet(buffer.join(""));
                    if (caretPos !== undefined && (event === undefined || event.type !== "blur")) {
                        caret(input, caretPos);
                    } else renderColorMask(input, caretPos, buffer.length === 0);
                    if (triggerEvents === true) {
                        var $input = $(input), nptVal = input.inputmask._valueGet();
                        skipInputEvent = true;
                        $input.trigger("input");
                        setTimeout(function() {
                            if (nptVal === getBufferTemplate().join("")) {
                                $input.trigger("cleared");
                            } else if (isComplete(buffer) === true) {
                                $input.trigger("complete");
                            }
                        }, 0);
                    }
                }
            }
            function getPlaceholder(pos, test, returnPL) {
                test = test || getTest(pos).match;
                if (test.placeholder !== undefined || returnPL === true) {
                    return $.isFunction(test.placeholder) ? test.placeholder(opts) : test.placeholder;
                } else if (test.fn === null) {
                    if (pos > -1 && getMaskSet().validPositions[pos] === undefined) {
                        var tests = getTests(pos), staticAlternations = [], prevTest;
                        if (tests.length > 1 + (tests[tests.length - 1].match.def === "" ? 1 : 0)) {
                            for (var i = 0; i < tests.length; i++) {
                                if (tests[i].match.optionality !== true && tests[i].match.optionalQuantifier !== true && (tests[i].match.fn === null || prevTest === undefined || tests[i].match.fn.test(prevTest.match.def, getMaskSet(), pos, true, opts) !== false)) {
                                    staticAlternations.push(tests[i]);
                                    if (tests[i].match.fn === null) prevTest = tests[i];
                                    if (staticAlternations.length > 1) {
                                        if (/[0-9a-bA-Z]/.test(staticAlternations[0].match.def)) {
                                            return opts.placeholder.charAt(pos % opts.placeholder.length);
                                        }
                                    }
                                }
                            }
                        }
                    }
                    return test.def;
                }
                return opts.placeholder.charAt(pos % opts.placeholder.length);
            }
            function HandleNativePlaceholder(npt, value) {
                if (ie) {
                    if (npt.inputmask._valueGet() !== value) {
                        var buffer = getBuffer().slice(), nptValue = npt.inputmask._valueGet();
                        if (nptValue !== value) {
                            var lvp = getLastValidPosition();
                            if (lvp === -1 && nptValue === getBufferTemplate().join("")) {
                                buffer = [];
                            } else if (lvp !== -1) {
                                clearOptionalTail(buffer);
                            }
                            writeBuffer(npt, buffer);
                        }
                    }
                } else if (npt.placeholder !== value) {
                    npt.placeholder = value;
                    if (npt.placeholder === "") npt.removeAttribute("placeholder");
                }
            }
            var EventRuler = {
                on: function on(input, eventName, eventHandler) {
                    var ev = function ev(e) {
                        var that = this;
                        if (that.inputmask === undefined && this.nodeName !== "FORM") {
                            var imOpts = $.data(that, "_inputmask_opts");
                            if (imOpts) new Inputmask(imOpts).mask(that); else EventRuler.off(that);
                        } else if (e.type !== "setvalue" && this.nodeName !== "FORM" && (that.disabled || that.readOnly && !(e.type === "keydown" && e.ctrlKey && e.keyCode === 67 || opts.tabThrough === false && e.keyCode === Inputmask.keyCode.TAB))) {
                            e.preventDefault();
                        } else {
                            switch (e.type) {
                              case "input":
                                if (skipInputEvent === true) {
                                    skipInputEvent = false;
                                    return e.preventDefault();
                                }
                                if (mobile) {
                                    var args = arguments;
                                    setTimeout(function() {
                                        eventHandler.apply(that, args);
                                        caret(that, that.inputmask.caretPos, undefined, true);
                                    }, 0);
                                    return false;
                                }
                                break;

                              case "keydown":
                                skipKeyPressEvent = false;
                                skipInputEvent = false;
                                break;

                              case "keypress":
                                if (skipKeyPressEvent === true) {
                                    return e.preventDefault();
                                }
                                skipKeyPressEvent = true;
                                break;

                              case "click":
                                if (iemobile || iphone) {
                                    var args = arguments;
                                    setTimeout(function() {
                                        eventHandler.apply(that, args);
                                    }, 0);
                                    return false;
                                }
                                break;
                            }
                            var returnVal = eventHandler.apply(that, arguments);
                            if (returnVal === false) {
                                e.preventDefault();
                                e.stopPropagation();
                            }
                            return returnVal;
                        }
                    };
                    input.inputmask.events[eventName] = input.inputmask.events[eventName] || [];
                    input.inputmask.events[eventName].push(ev);
                    if ($.inArray(eventName, [ "submit", "reset" ]) !== -1) {
                        if (input.form !== null) $(input.form).on(eventName, ev);
                    } else {
                        $(input).on(eventName, ev);
                    }
                },
                off: function off(input, event) {
                    if (input.inputmask && input.inputmask.events) {
                        var events;
                        if (event) {
                            events = [];
                            events[event] = input.inputmask.events[event];
                        } else {
                            events = input.inputmask.events;
                        }
                        $.each(events, function(eventName, evArr) {
                            while (evArr.length > 0) {
                                var ev = evArr.pop();
                                if ($.inArray(eventName, [ "submit", "reset" ]) !== -1) {
                                    if (input.form !== null) $(input.form).off(eventName, ev);
                                } else {
                                    $(input).off(eventName, ev);
                                }
                            }
                            delete input.inputmask.events[eventName];
                        });
                    }
                }
            };
            var EventHandlers = {
                keydownEvent: function keydownEvent(e) {
                    var input = this, $input = $(input), k = e.keyCode, pos = caret(input);
                    if (k === Inputmask.keyCode.BACKSPACE || k === Inputmask.keyCode.DELETE || iphone && k === Inputmask.keyCode.BACKSPACE_SAFARI || e.ctrlKey && k === Inputmask.keyCode.X && !isInputEventSupported("cut")) {
                        e.preventDefault();
                        handleRemove(input, k, pos);
                        writeBuffer(input, getBuffer(true), getMaskSet().p, e, input.inputmask._valueGet() !== getBuffer().join(""));
                    } else if (k === Inputmask.keyCode.END || k === Inputmask.keyCode.PAGE_DOWN) {
                        e.preventDefault();
                        var caretPos = seekNext(getLastValidPosition());
                        caret(input, e.shiftKey ? pos.begin : caretPos, caretPos, true);
                    } else if (k === Inputmask.keyCode.HOME && !e.shiftKey || k === Inputmask.keyCode.PAGE_UP) {
                        e.preventDefault();
                        caret(input, 0, e.shiftKey ? pos.begin : 0, true);
                    } else if ((opts.undoOnEscape && k === Inputmask.keyCode.ESCAPE || k === 90 && e.ctrlKey) && e.altKey !== true) {
                        checkVal(input, true, false, undoValue.split(""));
                        $input.trigger("click");
                    } else if (k === Inputmask.keyCode.INSERT && !(e.shiftKey || e.ctrlKey)) {
                        opts.insertMode = !opts.insertMode;
                        input.setAttribute("im-insert", opts.insertMode);
                    } else if (opts.tabThrough === true && k === Inputmask.keyCode.TAB) {
                        if (e.shiftKey === true) {
                            if (getTest(pos.begin).match.fn === null) {
                                pos.begin = seekNext(pos.begin);
                            }
                            pos.end = seekPrevious(pos.begin, true);
                            pos.begin = seekPrevious(pos.end, true);
                        } else {
                            pos.begin = seekNext(pos.begin, true);
                            pos.end = seekNext(pos.begin, true);
                            if (pos.end < getMaskSet().maskLength) pos.end--;
                        }
                        if (pos.begin < getMaskSet().maskLength) {
                            e.preventDefault();
                            caret(input, pos.begin, pos.end);
                        }
                    }
                    opts.onKeyDown.call(this, e, getBuffer(), caret(input).begin, opts);
                    ignorable = $.inArray(k, opts.ignorables) !== -1;
                },
                keypressEvent: function keypressEvent(e, checkval, writeOut, strict, ndx) {
                    var input = this, $input = $(input), k = e.which || e.charCode || e.keyCode;
                    if (checkval !== true && !(e.ctrlKey && e.altKey) && (e.ctrlKey || e.metaKey || ignorable)) {
                        if (k === Inputmask.keyCode.ENTER && undoValue !== getBuffer().join("")) {
                            undoValue = getBuffer().join("");
                            setTimeout(function() {
                                $input.trigger("change");
                            }, 0);
                        }
                        return true;
                    } else {
                        if (k) {
                            if (k === 46 && e.shiftKey === false && opts.radixPoint !== "") k = opts.radixPoint.charCodeAt(0);
                            var pos = checkval ? {
                                begin: ndx,
                                end: ndx
                            } : caret(input), forwardPosition, c = String.fromCharCode(k), offset = 0;
                            if (opts._radixDance && opts.numericInput) {
                                var caretPos = getBuffer().indexOf(opts.radixPoint.charAt(0)) + 1;
                                if (pos.begin <= caretPos) {
                                    if (k === opts.radixPoint.charCodeAt(0)) offset = 1;
                                    pos.begin -= 1;
                                    pos.end -= 1;
                                }
                            }
                            getMaskSet().writeOutBuffer = true;
                            var valResult = isValid(pos, c, strict);
                            if (valResult !== false) {
                                resetMaskSet(true);
                                forwardPosition = valResult.caret !== undefined ? valResult.caret : seekNext(valResult.pos.begin ? valResult.pos.begin : valResult.pos);
                                getMaskSet().p = forwardPosition;
                            }
                            forwardPosition = (opts.numericInput && valResult.caret === undefined ? seekPrevious(forwardPosition) : forwardPosition) + offset;
                            if (writeOut !== false) {
                                setTimeout(function() {
                                    opts.onKeyValidation.call(input, k, valResult, opts);
                                }, 0);
                                if (getMaskSet().writeOutBuffer && valResult !== false) {
                                    var buffer = getBuffer();
                                    writeBuffer(input, buffer, forwardPosition, e, checkval !== true);
                                }
                            }
                            e.preventDefault();
                            if (checkval) {
                                if (valResult !== false) valResult.forwardPosition = forwardPosition;
                                return valResult;
                            }
                        }
                    }
                },
                pasteEvent: function pasteEvent(e) {
                    var input = this, ev = e.originalEvent || e, $input = $(input), inputValue = input.inputmask._valueGet(true), caretPos = caret(input), tempValue;
                    if (isRTL) {
                        tempValue = caretPos.end;
                        caretPos.end = caretPos.begin;
                        caretPos.begin = tempValue;
                    }
                    var valueBeforeCaret = inputValue.substr(0, caretPos.begin), valueAfterCaret = inputValue.substr(caretPos.end, inputValue.length);
                    if (valueBeforeCaret === (isRTL ? getBufferTemplate().reverse() : getBufferTemplate()).slice(0, caretPos.begin).join("")) valueBeforeCaret = "";
                    if (valueAfterCaret === (isRTL ? getBufferTemplate().reverse() : getBufferTemplate()).slice(caretPos.end).join("")) valueAfterCaret = "";
                    if (window.clipboardData && window.clipboardData.getData) {
                        inputValue = valueBeforeCaret + window.clipboardData.getData("Text") + valueAfterCaret;
                    } else if (ev.clipboardData && ev.clipboardData.getData) {
                        inputValue = valueBeforeCaret + ev.clipboardData.getData("text/plain") + valueAfterCaret;
                    } else return true;
                    var pasteValue = inputValue;
                    if ($.isFunction(opts.onBeforePaste)) {
                        pasteValue = opts.onBeforePaste.call(inputmask, inputValue, opts);
                        if (pasteValue === false) {
                            return e.preventDefault();
                        }
                        if (!pasteValue) {
                            pasteValue = inputValue;
                        }
                    }
                    checkVal(input, false, false, pasteValue.toString().split(""));
                    writeBuffer(input, getBuffer(), seekNext(getLastValidPosition()), e, undoValue !== getBuffer().join(""));
                    return e.preventDefault();
                },
                inputFallBackEvent: function inputFallBackEvent(e) {
                    function radixPointHandler(input, inputValue, caretPos) {
                        if (inputValue.charAt(caretPos.begin - 1) === "." && opts.radixPoint !== "") {
                            inputValue = inputValue.split("");
                            inputValue[caretPos.begin - 1] = opts.radixPoint.charAt(0);
                            inputValue = inputValue.join("");
                        }
                        return inputValue;
                    }
                    function ieMobileHandler(input, inputValue, caretPos) {
                        if (iemobile) {
                            var inputChar = inputValue.replace(getBuffer().join(""), "");
                            if (inputChar.length === 1) {
                                var iv = inputValue.split("");
                                iv.splice(caretPos.begin, 0, inputChar);
                                inputValue = iv.join("");
                            }
                        }
                        return inputValue;
                    }
                    var input = this, inputValue = input.inputmask._valueGet();
                    if (getBuffer().join("") !== inputValue) {
                        var caretPos = caret(input);
                        inputValue = radixPointHandler(input, inputValue, caretPos);
                        inputValue = ieMobileHandler(input, inputValue, caretPos);
                        if (getBuffer().join("") !== inputValue) {
                            var buffer = getBuffer().join(""), offset = !opts.numericInput && inputValue.length > buffer.length ? -1 : 0, frontPart = inputValue.substr(0, caretPos.begin), backPart = inputValue.substr(caretPos.begin), frontBufferPart = buffer.substr(0, caretPos.begin + offset), backBufferPart = buffer.substr(caretPos.begin + offset);
                            var selection = caretPos, entries = "", isEntry = false;
                            if (frontPart !== frontBufferPart) {
                                var fpl = (isEntry = frontPart.length >= frontBufferPart.length) ? frontPart.length : frontBufferPart.length, i;
                                for (i = 0; frontPart.charAt(i) === frontBufferPart.charAt(i) && i < fpl; i++) {}
                                if (isEntry) {
                                    selection.begin = i - offset;
                                    entries += frontPart.slice(i, selection.end);
                                }
                            }
                            if (backPart !== backBufferPart) {
                                if (backPart.length > backBufferPart.length) {
                                    entries += backPart.slice(0, 1);
                                } else {
                                    if (backPart.length < backBufferPart.length) {
                                        selection.end += backBufferPart.length - backPart.length;
                                        if (!isEntry && opts.radixPoint !== "" && backPart === "" && frontPart.charAt(selection.begin + offset - 1) === opts.radixPoint) {
                                            selection.begin--;
                                            entries = opts.radixPoint;
                                        }
                                    }
                                }
                            }
                            writeBuffer(input, getBuffer(), {
                                begin: selection.begin + offset,
                                end: selection.end + offset
                            });
                            if (entries.length > 0) {
                                $.each(entries.split(""), function(ndx, entry) {
                                    var keypress = new $.Event("keypress");
                                    keypress.which = entry.charCodeAt(0);
                                    ignorable = false;
                                    EventHandlers.keypressEvent.call(input, keypress);
                                });
                            } else {
                                if (selection.begin === selection.end - 1) {
                                    selection.begin = seekPrevious(selection.begin + 1);
                                    if (selection.begin === selection.end - 1) {
                                        caret(input, selection.begin);
                                    } else {
                                        caret(input, selection.begin, selection.end);
                                    }
                                }
                                var keydown = new $.Event("keydown");
                                keydown.keyCode = opts.numericInput ? Inputmask.keyCode.BACKSPACE : Inputmask.keyCode.DELETE;
                                EventHandlers.keydownEvent.call(input, keydown);
                            }
                            e.preventDefault();
                        }
                    }
                },
                beforeInputEvent: function beforeInputEvent(e) {
                    if (e.cancelable) {
                        var input = this;
                        switch (e.inputType) {
                          case "insertText":
                            $.each(e.data.split(""), function(ndx, entry) {
                                var keypress = new $.Event("keypress");
                                keypress.which = entry.charCodeAt(0);
                                ignorable = false;
                                EventHandlers.keypressEvent.call(input, keypress);
                            });
                            return e.preventDefault();

                          case "deleteContentBackward":
                            var keydown = new $.Event("keydown");
                            keydown.keyCode = Inputmask.keyCode.BACKSPACE;
                            EventHandlers.keydownEvent.call(input, keydown);
                            return e.preventDefault();

                          case "deleteContentForward":
                            var keydown = new $.Event("keydown");
                            keydown.keyCode = Inputmask.keyCode.DELETE;
                            EventHandlers.keydownEvent.call(input, keydown);
                            return e.preventDefault();
                        }
                    }
                },
                setValueEvent: function setValueEvent(e) {
                    this.inputmask.refreshValue = false;
                    var input = this, value = e && e.detail ? e.detail[0] : arguments[1], value = value || input.inputmask._valueGet(true);
                    if ($.isFunction(opts.onBeforeMask)) value = opts.onBeforeMask.call(inputmask, value, opts) || value;
                    value = value.split("");
                    checkVal(input, true, false, value);
                    undoValue = getBuffer().join("");
                    if ((opts.clearMaskOnLostFocus || opts.clearIncomplete) && input.inputmask._valueGet() === getBufferTemplate().join("")) {
                        input.inputmask._valueSet("");
                    }
                },
                focusEvent: function focusEvent(e) {
                    var input = this, nptValue = input.inputmask._valueGet();
                    if (opts.showMaskOnFocus) {
                        if (nptValue !== getBuffer().join("")) {
                            writeBuffer(input, getBuffer(), seekNext(getLastValidPosition()));
                        } else if (mouseEnter === false) {
                            caret(input, seekNext(getLastValidPosition()));
                        }
                    }
                    if (opts.positionCaretOnTab === true && mouseEnter === false) {
                        EventHandlers.clickEvent.apply(input, [ e, true ]);
                    }
                    undoValue = getBuffer().join("");
                },
                mouseleaveEvent: function mouseleaveEvent(e) {
                    var input = this;
                    mouseEnter = false;
                    if (opts.clearMaskOnLostFocus && document.activeElement !== input) {
                        HandleNativePlaceholder(input, originalPlaceholder);
                    }
                },
                clickEvent: function clickEvent(e, tabbed) {
                    function doRadixFocus(clickPos) {
                        if (opts.radixPoint !== "") {
                            var vps = getMaskSet().validPositions;
                            if (vps[clickPos] === undefined || vps[clickPos].input === getPlaceholder(clickPos)) {
                                if (clickPos < seekNext(-1)) return true;
                                var radixPos = $.inArray(opts.radixPoint, getBuffer());
                                if (radixPos !== -1) {
                                    for (var vp in vps) {
                                        if (radixPos < vp && vps[vp].input !== getPlaceholder(vp)) {
                                            return false;
                                        }
                                    }
                                    return true;
                                }
                            }
                        }
                        return false;
                    }
                    var input = this;
                    setTimeout(function() {
                        if (document.activeElement === input) {
                            var selectedCaret = caret(input);
                            if (tabbed) {
                                if (isRTL) {
                                    selectedCaret.end = selectedCaret.begin;
                                } else {
                                    selectedCaret.begin = selectedCaret.end;
                                }
                            }
                            if (selectedCaret.begin === selectedCaret.end) {
                                switch (opts.positionCaretOnClick) {
                                  case "none":
                                    break;

                                  case "select":
                                    caret(input, 0, getBuffer().length);
                                    break;

                                  case "ignore":
                                    caret(input, seekNext(getLastValidPosition()));
                                    break;

                                  case "radixFocus":
                                    if (doRadixFocus(selectedCaret.begin)) {
                                        var radixPos = getBuffer().join("").indexOf(opts.radixPoint);
                                        caret(input, opts.numericInput ? seekNext(radixPos) : radixPos);
                                        break;
                                    }

                                  default:
                                    var clickPosition = selectedCaret.begin, lvclickPosition = getLastValidPosition(clickPosition, true), lastPosition = seekNext(lvclickPosition);
                                    if (clickPosition < lastPosition) {
                                        caret(input, !isMask(clickPosition, true) && !isMask(clickPosition - 1, true) ? seekNext(clickPosition) : clickPosition);
                                    } else {
                                        var lvp = getMaskSet().validPositions[lvclickPosition], tt = getTestTemplate(lastPosition, lvp ? lvp.match.locator : undefined, lvp), placeholder = getPlaceholder(lastPosition, tt.match);
                                        if (placeholder !== "" && getBuffer()[lastPosition] !== placeholder && tt.match.optionalQuantifier !== true && tt.match.newBlockMarker !== true || !isMask(lastPosition, opts.keepStatic) && tt.match.def === placeholder) {
                                            var newPos = seekNext(lastPosition);
                                            if (clickPosition >= newPos || clickPosition === lastPosition) {
                                                lastPosition = newPos;
                                            }
                                        }
                                        caret(input, lastPosition);
                                    }
                                    break;
                                }
                            }
                        }
                    }, 0);
                },
                cutEvent: function cutEvent(e) {
                    var input = this, $input = $(input), pos = caret(input), ev = e.originalEvent || e;
                    var clipboardData = window.clipboardData || ev.clipboardData, clipData = isRTL ? getBuffer().slice(pos.end, pos.begin) : getBuffer().slice(pos.begin, pos.end);
                    clipboardData.setData("text", isRTL ? clipData.reverse().join("") : clipData.join(""));
                    if (document.execCommand) document.execCommand("copy");
                    handleRemove(input, Inputmask.keyCode.DELETE, pos);
                    writeBuffer(input, getBuffer(), getMaskSet().p, e, undoValue !== getBuffer().join(""));
                },
                blurEvent: function blurEvent(e) {
                    var $input = $(this), input = this;
                    if (input.inputmask) {
                        HandleNativePlaceholder(input, originalPlaceholder);
                        var nptValue = input.inputmask._valueGet(), buffer = getBuffer().slice();
                        if (nptValue !== "" || colorMask !== undefined) {
                            if (opts.clearMaskOnLostFocus) {
                                if (getLastValidPosition() === -1 && nptValue === getBufferTemplate().join("")) {
                                    buffer = [];
                                } else {
                                    clearOptionalTail(buffer);
                                }
                            }
                            if (isComplete(buffer) === false) {
                                setTimeout(function() {
                                    $input.trigger("incomplete");
                                }, 0);
                                if (opts.clearIncomplete) {
                                    resetMaskSet();
                                    if (opts.clearMaskOnLostFocus) {
                                        buffer = [];
                                    } else {
                                        buffer = getBufferTemplate().slice();
                                    }
                                }
                            }
                            writeBuffer(input, buffer, undefined, e);
                        }
                        if (undoValue !== getBuffer().join("")) {
                            undoValue = buffer.join("");
                            $input.trigger("change");
                        }
                    }
                },
                mouseenterEvent: function mouseenterEvent(e) {
                    var input = this;
                    mouseEnter = true;
                    if (document.activeElement !== input && opts.showMaskOnHover) {
                        HandleNativePlaceholder(input, (isRTL ? getBuffer().slice().reverse() : getBuffer()).join(""));
                    }
                },
                submitEvent: function submitEvent(e) {
                    if (undoValue !== getBuffer().join("")) {
                        $el.trigger("change");
                    }
                    if (opts.clearMaskOnLostFocus && getLastValidPosition() === -1 && el.inputmask._valueGet && el.inputmask._valueGet() === getBufferTemplate().join("")) {
                        el.inputmask._valueSet("");
                    }
                    if (opts.clearIncomplete && isComplete(getBuffer()) === false) {
                        el.inputmask._valueSet("");
                    }
                    if (opts.removeMaskOnSubmit) {
                        el.inputmask._valueSet(el.inputmask.unmaskedvalue(), true);
                        setTimeout(function() {
                            writeBuffer(el, getBuffer());
                        }, 0);
                    }
                },
                resetEvent: function resetEvent(e) {
                    el.inputmask.refreshValue = true;
                    setTimeout(function() {
                        $el.trigger("setvalue");
                    }, 0);
                }
            };
            function checkVal(input, writeOut, strict, nptvl, initiatingEvent) {
                var inputmask = this || input.inputmask, inputValue = nptvl.slice(), charCodes = "", initialNdx = -1, result = undefined;
                function isTemplateMatch(ndx, charCodes) {
                    var charCodeNdx = getMaskTemplate(true, 0, false).slice(ndx, seekNext(ndx)).join("").replace(/'/g, "").indexOf(charCodes);
                    return charCodeNdx !== -1 && !isMask(ndx) && (getTest(ndx).match.nativeDef === charCodes.charAt(0) || getTest(ndx).match.fn === null && getTest(ndx).match.nativeDef === "'" + charCodes.charAt(0) || getTest(ndx).match.nativeDef === " " && (getTest(ndx + 1).match.nativeDef === charCodes.charAt(0) || getTest(ndx + 1).match.fn === null && getTest(ndx + 1).match.nativeDef === "'" + charCodes.charAt(0)));
                }
                resetMaskSet();
                if (!strict && opts.autoUnmask !== true) {
                    var staticInput = getBufferTemplate().slice(0, seekNext(-1)).join(""), matches = inputValue.join("").match(new RegExp("^" + Inputmask.escapeRegex(staticInput), "g"));
                    if (matches && matches.length > 0) {
                        inputValue.splice(0, matches.length * staticInput.length);
                        initialNdx = seekNext(initialNdx);
                    }
                } else {
                    initialNdx = seekNext(initialNdx);
                }
                if (initialNdx === -1) {
                    getMaskSet().p = seekNext(initialNdx);
                    initialNdx = 0;
                } else getMaskSet().p = initialNdx;
                inputmask.caretPos = {
                    begin: initialNdx
                };
                $.each(inputValue, function(ndx, charCode) {
                    if (charCode !== undefined) {
                        if (getMaskSet().validPositions[ndx] === undefined && inputValue[ndx] === getPlaceholder(ndx) && isMask(ndx, true) && isValid(ndx, inputValue[ndx], true, undefined, undefined, true) === false) {
                            getMaskSet().p++;
                        } else {
                            var keypress = new $.Event("_checkval");
                            keypress.which = charCode.charCodeAt(0);
                            charCodes += charCode;
                            var lvp = getLastValidPosition(undefined, true);
                            if (!isTemplateMatch(initialNdx, charCodes)) {
                                result = EventHandlers.keypressEvent.call(input, keypress, true, false, strict, inputmask.caretPos.begin);
                                if (result) {
                                    initialNdx = inputmask.caretPos.begin + 1;
                                    charCodes = "";
                                }
                            } else {
                                result = EventHandlers.keypressEvent.call(input, keypress, true, false, strict, lvp + 1);
                            }
                            if (result) {
                                writeBuffer(undefined, getBuffer(), result.forwardPosition, keypress, false);
                                inputmask.caretPos = {
                                    begin: result.forwardPosition,
                                    end: result.forwardPosition
                                };
                            }
                        }
                    }
                });
                if (writeOut) writeBuffer(input, getBuffer(), result ? result.forwardPosition : undefined, initiatingEvent || new $.Event("checkval"), initiatingEvent && initiatingEvent.type === "input");
            }
            function unmaskedvalue(input) {
                if (input) {
                    if (input.inputmask === undefined) {
                        return input.value;
                    }
                    if (input.inputmask && input.inputmask.refreshValue) {
                        EventHandlers.setValueEvent.call(input);
                    }
                }
                var umValue = [], vps = getMaskSet().validPositions;
                for (var pndx in vps) {
                    if (vps[pndx].match && vps[pndx].match.fn != null) {
                        umValue.push(vps[pndx].input);
                    }
                }
                var unmaskedValue = umValue.length === 0 ? "" : (isRTL ? umValue.reverse() : umValue).join("");
                if ($.isFunction(opts.onUnMask)) {
                    var bufferValue = (isRTL ? getBuffer().slice().reverse() : getBuffer()).join("");
                    unmaskedValue = opts.onUnMask.call(inputmask, bufferValue, unmaskedValue, opts);
                }
                return unmaskedValue;
            }
            function caret(input, begin, end, notranslate) {
                function translatePosition(pos) {
                    if (isRTL && typeof pos === "number" && (!opts.greedy || opts.placeholder !== "") && el) {
                        pos = el.inputmask._valueGet().length - pos;
                    }
                    return pos;
                }
                var range;
                if (begin !== undefined) {
                    if ($.isArray(begin)) {
                        end = isRTL ? begin[0] : begin[1];
                        begin = isRTL ? begin[1] : begin[0];
                    }
                    if (begin.begin !== undefined) {
                        end = isRTL ? begin.begin : begin.end;
                        begin = isRTL ? begin.end : begin.begin;
                    }
                    if (typeof begin === "number") {
                        begin = notranslate ? begin : translatePosition(begin);
                        end = notranslate ? end : translatePosition(end);
                        end = typeof end == "number" ? end : begin;
                        var scrollCalc = parseInt(((input.ownerDocument.defaultView || window).getComputedStyle ? (input.ownerDocument.defaultView || window).getComputedStyle(input, null) : input.currentStyle).fontSize) * end;
                        input.scrollLeft = scrollCalc > input.scrollWidth ? scrollCalc : 0;
                        input.inputmask.caretPos = {
                            begin: begin,
                            end: end
                        };
                        if (input === document.activeElement) {
                            if ("selectionStart" in input) {
                                input.selectionStart = begin;
                                input.selectionEnd = end;
                            } else if (window.getSelection) {
                                range = document.createRange();
                                if (input.firstChild === undefined || input.firstChild === null) {
                                    var textNode = document.createTextNode("");
                                    input.appendChild(textNode);
                                }
                                range.setStart(input.firstChild, begin < input.inputmask._valueGet().length ? begin : input.inputmask._valueGet().length);
                                range.setEnd(input.firstChild, end < input.inputmask._valueGet().length ? end : input.inputmask._valueGet().length);
                                range.collapse(true);
                                var sel = window.getSelection();
                                sel.removeAllRanges();
                                sel.addRange(range);
                            } else if (input.createTextRange) {
                                range = input.createTextRange();
                                range.collapse(true);
                                range.moveEnd("character", end);
                                range.moveStart("character", begin);
                                range.select();
                            }
                            renderColorMask(input, {
                                begin: begin,
                                end: end
                            });
                        }
                    }
                } else {
                    if ("selectionStart" in input) {
                        begin = input.selectionStart;
                        end = input.selectionEnd;
                    } else if (window.getSelection) {
                        range = window.getSelection().getRangeAt(0);
                        if (range.commonAncestorContainer.parentNode === input || range.commonAncestorContainer === input) {
                            begin = range.startOffset;
                            end = range.endOffset;
                        }
                    } else if (document.selection && document.selection.createRange) {
                        range = document.selection.createRange();
                        begin = 0 - range.duplicate().moveStart("character", -input.inputmask._valueGet().length);
                        end = begin + range.text.length;
                    }
                    return {
                        begin: notranslate ? begin : translatePosition(begin),
                        end: notranslate ? end : translatePosition(end)
                    };
                }
            }
            function determineLastRequiredPosition(returnDefinition) {
                var buffer = getMaskTemplate(true, getLastValidPosition(), true, true), bl = buffer.length, pos, lvp = getLastValidPosition(), positions = {}, lvTest = getMaskSet().validPositions[lvp], ndxIntlzr = lvTest !== undefined ? lvTest.locator.slice() : undefined, testPos;
                for (pos = lvp + 1; pos < buffer.length; pos++) {
                    testPos = getTestTemplate(pos, ndxIntlzr, pos - 1);
                    ndxIntlzr = testPos.locator.slice();
                    positions[pos] = $.extend(true, {}, testPos);
                }
                var lvTestAlt = lvTest && lvTest.alternation !== undefined ? lvTest.locator[lvTest.alternation] : undefined;
                for (pos = bl - 1; pos > lvp; pos--) {
                    testPos = positions[pos];
                    if ((testPos.match.optionality || testPos.match.optionalQuantifier && testPos.match.newBlockMarker || lvTestAlt && (lvTestAlt !== positions[pos].locator[lvTest.alternation] && testPos.match.fn != null || testPos.match.fn === null && testPos.locator[lvTest.alternation] && checkAlternationMatch(testPos.locator[lvTest.alternation].toString().split(","), lvTestAlt.toString().split(",")) && getTests(pos)[0].def !== "")) && buffer[pos] === getPlaceholder(pos, testPos.match)) {
                        bl--;
                    } else break;
                }
                return returnDefinition ? {
                    l: bl,
                    def: positions[bl] ? positions[bl].match : undefined
                } : bl;
            }
            function clearOptionalTail(buffer) {
                buffer.length = 0;
                var template = getMaskTemplate(true, 0, true, undefined, true), lmnt, validPos;
                while (lmnt = template.shift(), lmnt !== undefined) {
                    buffer.push(lmnt);
                }
                return buffer;
            }
            function isComplete(buffer) {
                if ($.isFunction(opts.isComplete)) return opts.isComplete(buffer, opts);
                if (opts.repeat === "*") return undefined;
                var complete = false, lrp = determineLastRequiredPosition(true), aml = seekPrevious(lrp.l);
                if (lrp.def === undefined || lrp.def.newBlockMarker || lrp.def.optionality || lrp.def.optionalQuantifier) {
                    complete = true;
                    for (var i = 0; i <= aml; i++) {
                        var test = getTestTemplate(i).match;
                        if (test.fn !== null && getMaskSet().validPositions[i] === undefined && test.optionality !== true && test.optionalQuantifier !== true || test.fn === null && buffer[i] !== getPlaceholder(i, test)) {
                            complete = false;
                            break;
                        }
                    }
                }
                return complete;
            }
            function handleRemove(input, k, pos, strict, fromIsValid) {
                if (opts.numericInput || isRTL) {
                    if (k === Inputmask.keyCode.BACKSPACE) {
                        k = Inputmask.keyCode.DELETE;
                    } else if (k === Inputmask.keyCode.DELETE) {
                        k = Inputmask.keyCode.BACKSPACE;
                    }
                    if (isRTL) {
                        var pend = pos.end;
                        pos.end = pos.begin;
                        pos.begin = pend;
                    }
                }
                if (k === Inputmask.keyCode.BACKSPACE && pos.end - pos.begin < 1) {
                    pos.begin = seekPrevious(pos.begin);
                    if (getMaskSet().validPositions[pos.begin] !== undefined && getMaskSet().validPositions[pos.begin].input === opts.groupSeparator) {
                        pos.begin--;
                    }
                } else if (k === Inputmask.keyCode.DELETE && pos.begin === pos.end) {
                    pos.end = isMask(pos.end, true) && getMaskSet().validPositions[pos.end] && getMaskSet().validPositions[pos.end].input !== opts.radixPoint ? pos.end + 1 : seekNext(pos.end) + 1;
                    if (getMaskSet().validPositions[pos.begin] !== undefined && getMaskSet().validPositions[pos.begin].input === opts.groupSeparator) {
                        pos.end++;
                    }
                }
                revalidateMask(pos);
                if (strict !== true && opts.keepStatic !== false || opts.regex !== null) {
                    var result = alternate(true);
                    if (result) {
                        var newPos = result.caret !== undefined ? result.caret : result.pos ? seekNext(result.pos.begin ? result.pos.begin : result.pos) : getLastValidPosition(-1, true);
                        if (k !== Inputmask.keyCode.DELETE || pos.begin > newPos) {
                            pos.begin == newPos;
                        }
                    }
                }
                var lvp = getLastValidPosition(pos.begin, true);
                if (lvp < pos.begin || pos.begin === -1) {
                    getMaskSet().p = seekNext(lvp);
                } else if (strict !== true) {
                    getMaskSet().p = pos.begin;
                    if (fromIsValid !== true) {
                        while (getMaskSet().p < lvp && getMaskSet().validPositions[getMaskSet().p] === undefined) {
                            getMaskSet().p++;
                        }
                    }
                }
            }
            function initializeColorMask(input) {
                var computedStyle = (input.ownerDocument.defaultView || window).getComputedStyle(input, null);
                function findCaretPos(clientx) {
                    var e = document.createElement("span"), caretPos;
                    for (var style in computedStyle) {
                        if (isNaN(style) && style.indexOf("font") !== -1) {
                            e.style[style] = computedStyle[style];
                        }
                    }
                    e.style.textTransform = computedStyle.textTransform;
                    e.style.letterSpacing = computedStyle.letterSpacing;
                    e.style.position = "absolute";
                    e.style.height = "auto";
                    e.style.width = "auto";
                    e.style.visibility = "hidden";
                    e.style.whiteSpace = "nowrap";
                    document.body.appendChild(e);
                    var inputText = input.inputmask._valueGet(), previousWidth = 0, itl;
                    for (caretPos = 0, itl = inputText.length; caretPos <= itl; caretPos++) {
                        e.innerHTML += inputText.charAt(caretPos) || "_";
                        if (e.offsetWidth >= clientx) {
                            var offset1 = clientx - previousWidth;
                            var offset2 = e.offsetWidth - clientx;
                            e.innerHTML = inputText.charAt(caretPos);
                            offset1 -= e.offsetWidth / 3;
                            caretPos = offset1 < offset2 ? caretPos - 1 : caretPos;
                            break;
                        }
                        previousWidth = e.offsetWidth;
                    }
                    document.body.removeChild(e);
                    return caretPos;
                }
                var template = document.createElement("div");
                template.style.width = computedStyle.width;
                template.style.textAlign = computedStyle.textAlign;
                colorMask = document.createElement("div");
                input.inputmask.colorMask = colorMask;
                colorMask.className = "im-colormask";
                input.parentNode.insertBefore(colorMask, input);
                input.parentNode.removeChild(input);
                colorMask.appendChild(input);
                colorMask.appendChild(template);
                input.style.left = template.offsetLeft + "px";
                $(colorMask).on("mouseleave", function(e) {
                    return EventHandlers.mouseleaveEvent.call(input, [ e ]);
                });
                $(colorMask).on("mouseenter", function(e) {
                    return EventHandlers.mouseenterEvent.call(input, [ e ]);
                });
                $(colorMask).on("click", function(e) {
                    caret(input, findCaretPos(e.clientX));
                    return EventHandlers.clickEvent.call(input, [ e ]);
                });
            }
            Inputmask.prototype.positionColorMask = function(input, template) {
                input.style.left = template.offsetLeft + "px";
            };
            function renderColorMask(input, caretPos, clear) {
                var maskTemplate = [], isStatic = false, test, testPos, ndxIntlzr, pos = 0;
                function setEntry(entry) {
                    if (entry === undefined) entry = "";
                    if (!isStatic && (test.fn === null || testPos.input === undefined)) {
                        isStatic = true;
                        maskTemplate.push("<span class='im-static'>" + entry);
                    } else if (isStatic && (test.fn !== null && testPos.input !== undefined || test.def === "")) {
                        isStatic = false;
                        var mtl = maskTemplate.length;
                        maskTemplate[mtl - 1] = maskTemplate[mtl - 1] + "</span>";
                        maskTemplate.push(entry);
                    } else maskTemplate.push(entry);
                }
                function setCaret() {
                    if (document.activeElement === input) {
                        maskTemplate.splice(caretPos.begin, 0, caretPos.begin === caretPos.end || caretPos.end > getMaskSet().maskLength ? '<mark class="im-caret" style="border-right-width: 1px;border-right-style: solid;">' : '<mark class="im-caret-select">');
                        maskTemplate.splice(caretPos.end + 1, 0, "</mark>");
                    }
                }
                if (colorMask !== undefined) {
                    var buffer = getBuffer();
                    if (caretPos === undefined) {
                        caretPos = caret(input);
                    } else if (caretPos.begin === undefined) {
                        caretPos = {
                            begin: caretPos,
                            end: caretPos
                        };
                    }
                    if (clear !== true) {
                        var lvp = getLastValidPosition();
                        do {
                            if (getMaskSet().validPositions[pos]) {
                                testPos = getMaskSet().validPositions[pos];
                                test = testPos.match;
                                ndxIntlzr = testPos.locator.slice();
                                setEntry(buffer[pos]);
                            } else {
                                testPos = getTestTemplate(pos, ndxIntlzr, pos - 1);
                                test = testPos.match;
                                ndxIntlzr = testPos.locator.slice();
                                if (opts.jitMasking === false || pos < lvp || typeof opts.jitMasking === "number" && isFinite(opts.jitMasking) && opts.jitMasking > pos) {
                                    setEntry(getPlaceholder(pos, test));
                                } else isStatic = false;
                            }
                            pos++;
                        } while ((maxLength === undefined || pos < maxLength) && (test.fn !== null || test.def !== "") || lvp > pos || isStatic);
                        if (isStatic) setEntry();
                        setCaret();
                    }
                    var template = colorMask.getElementsByTagName("div")[0];
                    template.innerHTML = maskTemplate.join("");
                    input.inputmask.positionColorMask(input, template);
                }
            }
            function mask(elem) {
                function isElementTypeSupported(input, opts) {
                    function patchValueProperty(npt) {
                        var valueGet;
                        var valueSet;
                        function patchValhook(type) {
                            if ($.valHooks && ($.valHooks[type] === undefined || $.valHooks[type].inputmaskpatch !== true)) {
                                var valhookGet = $.valHooks[type] && $.valHooks[type].get ? $.valHooks[type].get : function(elem) {
                                    return elem.value;
                                };
                                var valhookSet = $.valHooks[type] && $.valHooks[type].set ? $.valHooks[type].set : function(elem, value) {
                                    elem.value = value;
                                    return elem;
                                };
                                $.valHooks[type] = {
                                    get: function get(elem) {
                                        if (elem.inputmask) {
                                            if (elem.inputmask.opts.autoUnmask) {
                                                return elem.inputmask.unmaskedvalue();
                                            } else {
                                                var result = valhookGet(elem);
                                                return getLastValidPosition(undefined, undefined, elem.inputmask.maskset.validPositions) !== -1 || opts.nullable !== true ? result : "";
                                            }
                                        } else return valhookGet(elem);
                                    },
                                    set: function set(elem, value) {
                                        var $elem = $(elem), result;
                                        result = valhookSet(elem, value);
                                        if (elem.inputmask) {
                                            $elem.trigger("setvalue", [ value ]);
                                        }
                                        return result;
                                    },
                                    inputmaskpatch: true
                                };
                            }
                        }
                        function getter() {
                            if (this.inputmask) {
                                return this.inputmask.opts.autoUnmask ? this.inputmask.unmaskedvalue() : getLastValidPosition() !== -1 || opts.nullable !== true ? document.activeElement === this && opts.clearMaskOnLostFocus ? (isRTL ? clearOptionalTail(getBuffer().slice()).reverse() : clearOptionalTail(getBuffer().slice())).join("") : valueGet.call(this) : "";
                            } else return valueGet.call(this);
                        }
                        function setter(value) {
                            valueSet.call(this, value);
                            if (this.inputmask) {
                                $(this).trigger("setvalue", [ value ]);
                            }
                        }
                        function installNativeValueSetFallback(npt) {
                            EventRuler.on(npt, "mouseenter", function(event) {
                                var $input = $(this), input = this, value = input.inputmask._valueGet();
                                if (value !== getBuffer().join("")) {
                                    $input.trigger("setvalue");
                                }
                            });
                        }
                        if (!npt.inputmask.__valueGet) {
                            if (opts.noValuePatching !== true) {
                                if (Object.getOwnPropertyDescriptor) {
                                    if (typeof Object.getPrototypeOf !== "function") {
                                        Object.getPrototypeOf = _typeof("test".__proto__) === "object" ? function(object) {
                                            return object.__proto__;
                                        } : function(object) {
                                            return object.constructor.prototype;
                                        };
                                    }
                                    var valueProperty = Object.getPrototypeOf ? Object.getOwnPropertyDescriptor(Object.getPrototypeOf(npt), "value") : undefined;
                                    if (valueProperty && valueProperty.get && valueProperty.set) {
                                        valueGet = valueProperty.get;
                                        valueSet = valueProperty.set;
                                        Object.defineProperty(npt, "value", {
                                            get: getter,
                                            set: setter,
                                            configurable: true
                                        });
                                    } else if (npt.tagName !== "INPUT") {
                                        valueGet = function valueGet() {
                                            return this.textContent;
                                        };
                                        valueSet = function valueSet(value) {
                                            this.textContent = value;
                                        };
                                        Object.defineProperty(npt, "value", {
                                            get: getter,
                                            set: setter,
                                            configurable: true
                                        });
                                    }
                                } else if (document.__lookupGetter__ && npt.__lookupGetter__("value")) {
                                    valueGet = npt.__lookupGetter__("value");
                                    valueSet = npt.__lookupSetter__("value");
                                    npt.__defineGetter__("value", getter);
                                    npt.__defineSetter__("value", setter);
                                }
                                npt.inputmask.__valueGet = valueGet;
                                npt.inputmask.__valueSet = valueSet;
                            }
                            npt.inputmask._valueGet = function(overruleRTL) {
                                return isRTL && overruleRTL !== true ? valueGet.call(this.el).split("").reverse().join("") : valueGet.call(this.el);
                            };
                            npt.inputmask._valueSet = function(value, overruleRTL) {
                                valueSet.call(this.el, value === null || value === undefined ? "" : overruleRTL !== true && isRTL ? value.split("").reverse().join("") : value);
                            };
                            if (valueGet === undefined) {
                                valueGet = function valueGet() {
                                    return this.value;
                                };
                                valueSet = function valueSet(value) {
                                    this.value = value;
                                };
                                patchValhook(npt.type);
                                installNativeValueSetFallback(npt);
                            }
                        }
                    }
                    var elementType = input.getAttribute("type");
                    var isSupported = input.tagName === "INPUT" && $.inArray(elementType, opts.supportsInputType) !== -1 || input.isContentEditable || input.tagName === "TEXTAREA";
                    if (!isSupported) {
                        if (input.tagName === "INPUT") {
                            var el = document.createElement("input");
                            el.setAttribute("type", elementType);
                            isSupported = el.type === "text";
                            el = null;
                        } else isSupported = "partial";
                    }
                    if (isSupported !== false) {
                        patchValueProperty(input);
                    } else input.inputmask = undefined;
                    return isSupported;
                }
                EventRuler.off(elem);
                var isSupported = isElementTypeSupported(elem, opts);
                if (isSupported !== false) {
                    el = elem;
                    $el = $(el);
                    originalPlaceholder = el.placeholder;
                    maxLength = el !== undefined ? el.maxLength : undefined;
                    if (maxLength === -1) maxLength = undefined;
                    if (opts.colorMask === true) {
                        initializeColorMask(el);
                    }
                    if (mobile) {
                        if ("inputmode" in el) {
                            el.inputmode = opts.inputmode;
                            el.setAttribute("inputmode", opts.inputmode);
                        }
                        if (opts.disablePredictiveText === true) {
                            if ("autocorrect" in el) {
                                el.autocorrect = false;
                            } else {
                                if (opts.colorMask !== true) {
                                    initializeColorMask(el);
                                }
                                el.type = "password";
                            }
                        }
                    }
                    if (isSupported === true) {
                        el.setAttribute("im-insert", opts.insertMode);
                        EventRuler.on(el, "submit", EventHandlers.submitEvent);
                        EventRuler.on(el, "reset", EventHandlers.resetEvent);
                        EventRuler.on(el, "blur", EventHandlers.blurEvent);
                        EventRuler.on(el, "focus", EventHandlers.focusEvent);
                        if (opts.colorMask !== true) {
                            EventRuler.on(el, "click", EventHandlers.clickEvent);
                            EventRuler.on(el, "mouseleave", EventHandlers.mouseleaveEvent);
                            EventRuler.on(el, "mouseenter", EventHandlers.mouseenterEvent);
                        }
                        EventRuler.on(el, "paste", EventHandlers.pasteEvent);
                        EventRuler.on(el, "cut", EventHandlers.cutEvent);
                        EventRuler.on(el, "complete", opts.oncomplete);
                        EventRuler.on(el, "incomplete", opts.onincomplete);
                        EventRuler.on(el, "cleared", opts.oncleared);
                        if (!mobile && opts.inputEventOnly !== true) {
                            EventRuler.on(el, "keydown", EventHandlers.keydownEvent);
                            EventRuler.on(el, "keypress", EventHandlers.keypressEvent);
                        } else {
                            el.removeAttribute("maxLength");
                        }
                        EventRuler.on(el, "input", EventHandlers.inputFallBackEvent);
                        EventRuler.on(el, "beforeinput", EventHandlers.beforeInputEvent);
                    }
                    EventRuler.on(el, "setvalue", EventHandlers.setValueEvent);
                    undoValue = getBufferTemplate().join("");
                    if (el.inputmask._valueGet(true) !== "" || opts.clearMaskOnLostFocus === false || document.activeElement === el) {
                        var initialValue = $.isFunction(opts.onBeforeMask) ? opts.onBeforeMask.call(inputmask, el.inputmask._valueGet(true), opts) || el.inputmask._valueGet(true) : el.inputmask._valueGet(true);
                        if (initialValue !== "") checkVal(el, true, false, initialValue.split(""));
                        var buffer = getBuffer().slice();
                        undoValue = buffer.join("");
                        if (isComplete(buffer) === false) {
                            if (opts.clearIncomplete) {
                                resetMaskSet();
                            }
                        }
                        if (opts.clearMaskOnLostFocus && document.activeElement !== el) {
                            if (getLastValidPosition() === -1) {
                                buffer = [];
                            } else {
                                clearOptionalTail(buffer);
                            }
                        }
                        if (opts.clearMaskOnLostFocus === false || opts.showMaskOnFocus && document.activeElement === el || el.inputmask._valueGet(true) !== "") writeBuffer(el, buffer);
                        if (document.activeElement === el) {
                            caret(el, seekNext(getLastValidPosition()));
                        }
                    }
                }
            }
            var valueBuffer;
            if (actionObj !== undefined) {
                switch (actionObj.action) {
                  case "isComplete":
                    el = actionObj.el;
                    return isComplete(getBuffer());

                  case "unmaskedvalue":
                    if (el === undefined || actionObj.value !== undefined) {
                        valueBuffer = actionObj.value;
                        valueBuffer = ($.isFunction(opts.onBeforeMask) ? opts.onBeforeMask.call(inputmask, valueBuffer, opts) || valueBuffer : valueBuffer).split("");
                        checkVal.call(this, undefined, false, false, valueBuffer);
                        if ($.isFunction(opts.onBeforeWrite)) opts.onBeforeWrite.call(inputmask, undefined, getBuffer(), 0, opts);
                    }
                    return unmaskedvalue(el);

                  case "mask":
                    mask(el);
                    break;

                  case "format":
                    valueBuffer = ($.isFunction(opts.onBeforeMask) ? opts.onBeforeMask.call(inputmask, actionObj.value, opts) || actionObj.value : actionObj.value).split("");
                    checkVal.call(this, undefined, true, false, valueBuffer);
                    if (actionObj.metadata) {
                        return {
                            value: isRTL ? getBuffer().slice().reverse().join("") : getBuffer().join(""),
                            metadata: maskScope.call(this, {
                                action: "getmetadata"
                            }, maskset, opts)
                        };
                    }
                    return isRTL ? getBuffer().slice().reverse().join("") : getBuffer().join("");

                  case "isValid":
                    if (actionObj.value) {
                        valueBuffer = actionObj.value.split("");
                        checkVal.call(this, undefined, true, true, valueBuffer);
                    } else {
                        actionObj.value = getBuffer().join("");
                    }
                    var buffer = getBuffer();
                    var rl = determineLastRequiredPosition(), lmib = buffer.length - 1;
                    for (;lmib > rl; lmib--) {
                        if (isMask(lmib)) break;
                    }
                    buffer.splice(rl, lmib + 1 - rl);
                    return isComplete(buffer) && actionObj.value === getBuffer().join("");

                  case "getemptymask":
                    return getBufferTemplate().join("");

                  case "remove":
                    if (el && el.inputmask) {
                        $.data(el, "_inputmask_opts", null);
                        $el = $(el);
                        el.inputmask._valueSet(opts.autoUnmask ? unmaskedvalue(el) : el.inputmask._valueGet(true));
                        EventRuler.off(el);
                        if (el.inputmask.colorMask) {
                            colorMask = el.inputmask.colorMask;
                            colorMask.removeChild(el);
                            colorMask.parentNode.insertBefore(el, colorMask);
                            colorMask.parentNode.removeChild(colorMask);
                        }
                        var valueProperty;
                        if (Object.getOwnPropertyDescriptor && Object.getPrototypeOf) {
                            valueProperty = Object.getOwnPropertyDescriptor(Object.getPrototypeOf(el), "value");
                            if (valueProperty) {
                                if (el.inputmask.__valueGet) {
                                    Object.defineProperty(el, "value", {
                                        get: el.inputmask.__valueGet,
                                        set: el.inputmask.__valueSet,
                                        configurable: true
                                    });
                                }
                            }
                        } else if (document.__lookupGetter__ && el.__lookupGetter__("value")) {
                            if (el.inputmask.__valueGet) {
                                el.__defineGetter__("value", el.inputmask.__valueGet);
                                el.__defineSetter__("value", el.inputmask.__valueSet);
                            }
                        }
                        el.inputmask = undefined;
                    }
                    return el;
                    break;

                  case "getmetadata":
                    if ($.isArray(maskset.metadata)) {
                        var maskTarget = getMaskTemplate(true, 0, false).join("");
                        $.each(maskset.metadata, function(ndx, mtdt) {
                            if (mtdt.mask === maskTarget) {
                                maskTarget = mtdt;
                                return false;
                            }
                        });
                        return maskTarget;
                    }
                    return maskset.metadata;
                }
            }
        }
        return Inputmask;
    });
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;
    var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
        return typeof obj;
    } : function(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
    (function(factory) {
        if (true) {
            !(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(4) ], __WEBPACK_AMD_DEFINE_FACTORY__ = factory, 
            __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === "function" ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, 
            __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
        } else {}
    })(function($) {
        return $;
    });
}, function(module, exports) {
    module.exports = jQuery;
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __WEBPACK_AMD_DEFINE_RESULT__;
    var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
        return typeof obj;
    } : function(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
    if (true) !(__WEBPACK_AMD_DEFINE_RESULT__ = function() {
        return typeof window !== "undefined" ? window : new (eval("require('jsdom').JSDOM"))("").window;
    }.call(exports, __webpack_require__, exports, module), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)); else {}
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;
    var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
        return typeof obj;
    } : function(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
    (function(factory) {
        if (true) {
            !(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(2) ], __WEBPACK_AMD_DEFINE_FACTORY__ = factory, 
            __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === "function" ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, 
            __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
        } else {}
    })(function(Inputmask) {
        var $ = Inputmask.dependencyLib;
        var formatCode = {
            d: [ "[1-9]|[12][0-9]|3[01]", Date.prototype.setDate, "day", Date.prototype.getDate ],
            dd: [ "0[1-9]|[12][0-9]|3[01]", Date.prototype.setDate, "day", function() {
                return pad(Date.prototype.getDate.call(this), 2);
            } ],
            ddd: [ "" ],
            dddd: [ "" ],
            m: [ "[1-9]|1[012]", Date.prototype.setMonth, "month", function() {
                return Date.prototype.getMonth.call(this) + 1;
            } ],
            mm: [ "0[1-9]|1[012]", Date.prototype.setMonth, "month", function() {
                return pad(Date.prototype.getMonth.call(this) + 1, 2);
            } ],
            mmm: [ "" ],
            mmmm: [ "" ],
            yy: [ "[0-9]{2}", Date.prototype.setFullYear, "year", function() {
                return pad(Date.prototype.getFullYear.call(this), 2);
            } ],
            yyyy: [ "[0-9]{4}", Date.prototype.setFullYear, "year", function() {
                return pad(Date.prototype.getFullYear.call(this), 4);
            } ],
            h: [ "[1-9]|1[0-2]", Date.prototype.setHours, "hours", Date.prototype.getHours ],
            hh: [ "0[1-9]|1[0-2]", Date.prototype.setHours, "hours", function() {
                return pad(Date.prototype.getHours.call(this), 2);
            } ],
            hhh: [ "[0-9]+", Date.prototype.setHours, "hours", Date.prototype.getHours ],
            H: [ "1?[0-9]|2[0-3]", Date.prototype.setHours, "hours", Date.prototype.getHours ],
            HH: [ "0[0-9]|1[0-9]|2[0-3]", Date.prototype.setHours, "hours", function() {
                return pad(Date.prototype.getHours.call(this), 2);
            } ],
            HHH: [ "[0-9]+", Date.prototype.setHours, "hours", Date.prototype.getHours ],
            M: [ "[1-5]?[0-9]", Date.prototype.setMinutes, "minutes", Date.prototype.getMinutes ],
            MM: [ "0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]", Date.prototype.setMinutes, "minutes", function() {
                return pad(Date.prototype.getMinutes.call(this), 2);
            } ],
            ss: [ "[0-5][0-9]", Date.prototype.setSeconds, "seconds", function() {
                return pad(Date.prototype.getSeconds.call(this), 2);
            } ],
            l: [ "[0-9]{3}", Date.prototype.setMilliseconds, "milliseconds", function() {
                return pad(Date.prototype.getMilliseconds.call(this), 3);
            } ],
            L: [ "[0-9]{2}", Date.prototype.setMilliseconds, "milliseconds", function() {
                return pad(Date.prototype.getMilliseconds.call(this), 2);
            } ],
            t: [ "[ap]" ],
            tt: [ "[ap]m" ],
            T: [ "[AP]" ],
            TT: [ "[AP]M" ],
            Z: [ "" ],
            o: [ "" ],
            S: [ "" ]
        }, formatAlias = {
            isoDate: "yyyy-mm-dd",
            isoTime: "HH:MM:ss",
            isoDateTime: "yyyy-mm-dd'T'HH:MM:ss",
            isoUtcDateTime: "UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"
        };
        function getTokenizer(opts) {
            if (!opts.tokenizer) {
                var tokens = [];
                for (var ndx in formatCode) {
                    if (tokens.indexOf(ndx[0]) === -1) tokens.push(ndx[0]);
                }
                opts.tokenizer = "(" + tokens.join("+|") + ")+?|.";
                opts.tokenizer = new RegExp(opts.tokenizer, "g");
            }
            return opts.tokenizer;
        }
        function isValidDate(dateParts, currentResult) {
            return !isFinite(dateParts.rawday) || dateParts.day == "29" && !isFinite(dateParts.rawyear) || new Date(dateParts.date.getFullYear(), isFinite(dateParts.rawmonth) ? dateParts.month : dateParts.date.getMonth() + 1, 0).getDate() >= dateParts.day ? currentResult : false;
        }
        function isDateInRange(dateParts, opts) {
            var result = true;
            if (opts.min) {
                if (dateParts["rawyear"]) {
                    var rawYear = dateParts["rawyear"].replace(/[^0-9]/g, ""), minYear = opts.min.year.substr(0, rawYear.length);
                    result = minYear <= rawYear;
                }
                if (dateParts["year"] === dateParts["rawyear"]) {
                    if (opts.min.date.getTime() === opts.min.date.getTime()) {
                        result = opts.min.date.getTime() <= dateParts.date.getTime();
                    }
                }
            }
            if (result && opts.max && opts.max.date.getTime() === opts.max.date.getTime()) {
                result = opts.max.date.getTime() >= dateParts.date.getTime();
            }
            return result;
        }
        function parse(format, dateObjValue, opts, raw) {
            var mask = "", match;
            while (match = getTokenizer(opts).exec(format)) {
                if (dateObjValue === undefined) {
                    if (formatCode[match[0]]) {
                        mask += "(" + formatCode[match[0]][0] + ")";
                    } else {
                        switch (match[0]) {
                          case "[":
                            mask += "(";
                            break;

                          case "]":
                            mask += ")?";
                            break;

                          default:
                            mask += Inputmask.escapeRegex(match[0]);
                        }
                    }
                } else {
                    if (formatCode[match[0]]) {
                        if (raw !== true && formatCode[match[0]][3]) {
                            var getFn = formatCode[match[0]][3];
                            mask += getFn.call(dateObjValue.date);
                        } else if (formatCode[match[0]][2]) mask += dateObjValue["raw" + formatCode[match[0]][2]]; else mask += match[0];
                    } else mask += match[0];
                }
            }
            return mask;
        }
        function pad(val, len) {
            val = String(val);
            len = len || 2;
            while (val.length < len) {
                val = "0" + val;
            }
            return val;
        }
        function analyseMask(maskString, format, opts) {
            var dateObj = {
                date: new Date(1, 0, 1)
            }, targetProp, mask = maskString, match, dateOperation, targetValidator;
            function extendProperty(value) {
                var correctedValue = value.replace(/[^0-9]/g, "0");
                if (correctedValue != value) {
                    var enteredPart = value.replace(/[^0-9]/g, ""), min = (opts.min && opts.min[targetProp] || value).toString(), max = (opts.max && opts.max[targetProp] || value).toString();
                    correctedValue = enteredPart + (enteredPart < min.slice(0, enteredPart.length) ? min.slice(enteredPart.length) : enteredPart > max.slice(0, enteredPart.length) ? max.slice(enteredPart.length) : correctedValue.toString().slice(enteredPart.length));
                }
                return correctedValue;
            }
            function setValue(dateObj, value, opts) {
                dateObj[targetProp] = extendProperty(value);
                dateObj["raw" + targetProp] = value;
                if (dateOperation !== undefined) dateOperation.call(dateObj.date, targetProp == "month" ? parseInt(dateObj[targetProp]) - 1 : dateObj[targetProp]);
            }
            if (typeof mask === "string") {
                while (match = getTokenizer(opts).exec(format)) {
                    var value = mask.slice(0, match[0].length);
                    if (formatCode.hasOwnProperty(match[0])) {
                        targetValidator = formatCode[match[0]][0];
                        targetProp = formatCode[match[0]][2];
                        dateOperation = formatCode[match[0]][1];
                        setValue(dateObj, value, opts);
                    }
                    mask = mask.slice(value.length);
                }
                return dateObj;
            } else if (mask && (typeof mask === "undefined" ? "undefined" : _typeof(mask)) === "object" && mask.hasOwnProperty("date")) {
                return mask;
            }
            return undefined;
        }
        Inputmask.extendAliases({
            datetime: {
                mask: function mask(opts) {
                    formatCode.S = opts.i18n.ordinalSuffix.join("|");
                    opts.inputFormat = formatAlias[opts.inputFormat] || opts.inputFormat;
                    opts.displayFormat = formatAlias[opts.displayFormat] || opts.displayFormat || opts.inputFormat;
                    opts.outputFormat = formatAlias[opts.outputFormat] || opts.outputFormat || opts.inputFormat;
                    opts.placeholder = opts.placeholder !== "" ? opts.placeholder : opts.inputFormat.replace(/[\[\]]/, "");
                    opts.regex = parse(opts.inputFormat, undefined, opts);
                    return null;
                },
                placeholder: "",
                inputFormat: "isoDateTime",
                displayFormat: undefined,
                outputFormat: undefined,
                min: null,
                max: null,
                i18n: {
                    dayNames: [ "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday" ],
                    monthNames: [ "Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December" ],
                    ordinalSuffix: [ "st", "nd", "rd", "th" ]
                },
                postValidation: function postValidation(buffer, pos, currentResult, opts) {
                    opts.min = analyseMask(opts.min, opts.inputFormat, opts);
                    opts.max = analyseMask(opts.max, opts.inputFormat, opts);
                    var result = currentResult, dateParts = analyseMask(buffer.join(""), opts.inputFormat, opts);
                    if (result && dateParts.date.getTime() === dateParts.date.getTime()) {
                        result = isValidDate(dateParts, result);
                        result = result && isDateInRange(dateParts, opts);
                    }
                    if (pos && result && currentResult.pos !== pos) {
                        return {
                            buffer: parse(opts.inputFormat, dateParts, opts),
                            refreshFromBuffer: {
                                start: pos,
                                end: currentResult.pos
                            }
                        };
                    }
                    return result;
                },
                onKeyDown: function onKeyDown(e, buffer, caretPos, opts) {
                    var input = this;
                    if (e.ctrlKey && e.keyCode === Inputmask.keyCode.RIGHT) {
                        var today = new Date(), match, date = "";
                        while (match = getTokenizer(opts).exec(opts.inputFormat)) {
                            if (match[0].charAt(0) === "d") {
                                date += pad(today.getDate(), match[0].length);
                            } else if (match[0].charAt(0) === "m") {
                                date += pad(today.getMonth() + 1, match[0].length);
                            } else if (match[0] === "yyyy") {
                                date += today.getFullYear().toString();
                            } else if (match[0].charAt(0) === "y") {
                                date += pad(today.getYear(), match[0].length);
                            }
                        }
                        input.inputmask._valueSet(date);
                        $(input).trigger("setvalue");
                    }
                },
                onUnMask: function onUnMask(maskedValue, unmaskedValue, opts) {
                    return parse(opts.outputFormat, analyseMask(maskedValue, opts.inputFormat, opts), opts, true);
                },
                casing: function casing(elem, test, pos, validPositions) {
                    if (test.nativeDef.indexOf("[ap]") == 0) return elem.toLowerCase();
                    if (test.nativeDef.indexOf("[AP]") == 0) return elem.toUpperCase();
                    return elem;
                },
                insertMode: false,
                shiftPositions: false
            }
        });
        return Inputmask;
    });
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;
    var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
        return typeof obj;
    } : function(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
    (function(factory) {
        if (true) {
            !(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(2) ], __WEBPACK_AMD_DEFINE_FACTORY__ = factory, 
            __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === "function" ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, 
            __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
        } else {}
    })(function(Inputmask) {
        var $ = Inputmask.dependencyLib;
        function autoEscape(txt, opts) {
            var escapedTxt = "";
            for (var i = 0; i < txt.length; i++) {
                if (Inputmask.prototype.definitions[txt.charAt(i)] || opts.definitions[txt.charAt(i)] || opts.optionalmarker.start === txt.charAt(i) || opts.optionalmarker.end === txt.charAt(i) || opts.quantifiermarker.start === txt.charAt(i) || opts.quantifiermarker.end === txt.charAt(i) || opts.groupmarker.start === txt.charAt(i) || opts.groupmarker.end === txt.charAt(i) || opts.alternatormarker === txt.charAt(i)) {
                    escapedTxt += "\\" + txt.charAt(i);
                } else escapedTxt += txt.charAt(i);
            }
            return escapedTxt;
        }
        function alignDigits(buffer, digits, opts) {
            if (digits > 0) {
                var radixPosition = $.inArray(opts.radixPoint, buffer);
                if (radixPosition === -1) {
                    buffer.push(opts.radixPoint);
                    radixPosition = buffer.length - 1;
                }
                for (var i = 1; i <= digits; i++) {
                    buffer[radixPosition + i] = buffer[radixPosition + i] || "0";
                }
            }
            return buffer;
        }
        Inputmask.extendAliases({
            numeric: {
                mask: function mask(opts) {
                    if (opts.repeat !== 0 && isNaN(opts.integerDigits)) {
                        opts.integerDigits = opts.repeat;
                    }
                    opts.repeat = 0;
                    if (opts.groupSeparator === opts.radixPoint && opts.digits && opts.digits !== "0") {
                        if (opts.radixPoint === ".") {
                            opts.groupSeparator = ",";
                        } else if (opts.radixPoint === ",") {
                            opts.groupSeparator = ".";
                        } else opts.groupSeparator = "";
                    }
                    if (opts.groupSeparator === " ") {
                        opts.skipOptionalPartCharacter = undefined;
                    }
                    opts.autoGroup = opts.autoGroup && opts.groupSeparator !== "";
                    if (opts.autoGroup) {
                        if (typeof opts.groupSize == "string" && isFinite(opts.groupSize)) opts.groupSize = parseInt(opts.groupSize);
                        if (isFinite(opts.integerDigits)) {
                            var seps = Math.floor(opts.integerDigits / opts.groupSize);
                            var mod = opts.integerDigits % opts.groupSize;
                            opts.integerDigits = parseInt(opts.integerDigits) + (mod === 0 ? seps - 1 : seps);
                            if (opts.integerDigits < 1) {
                                opts.integerDigits = "*";
                            }
                        }
                    }
                    if (opts.placeholder.length > 1) {
                        opts.placeholder = opts.placeholder.charAt(0);
                    }
                    if (opts.positionCaretOnClick === "radixFocus" && opts.placeholder === "" && opts.integerOptional === false) {
                        opts.positionCaretOnClick = "lvp";
                    }
                    opts.definitions[";"] = opts.definitions["~"];
                    opts.definitions[";"].definitionSymbol = "~";
                    if (opts.numericInput === true) {
                        opts.positionCaretOnClick = opts.positionCaretOnClick === "radixFocus" ? "lvp" : opts.positionCaretOnClick;
                        opts.digitsOptional = false;
                        if (isNaN(opts.digits)) opts.digits = 2;
                        opts.decimalProtect = false;
                    }
                    var mask = "[+]";
                    mask += autoEscape(opts.prefix, opts);
                    if (opts.integerOptional === true) {
                        mask += "~{1," + opts.integerDigits + "}";
                    } else mask += "~{" + opts.integerDigits + "}";
                    if (opts.digits !== undefined) {
                        var radixDef = opts.decimalProtect ? ":" : opts.radixPoint;
                        var dq = opts.digits.toString().split(",");
                        if (isFinite(dq[0]) && dq[1] && isFinite(dq[1])) {
                            mask += radixDef + ";{" + opts.digits + "}";
                        } else if (isNaN(opts.digits) || parseInt(opts.digits) > 0) {
                            if (opts.digitsOptional) {
                                mask += "[" + radixDef + ";{1," + opts.digits + "}]";
                            } else mask += radixDef + ";{" + opts.digits + "}";
                        }
                    }
                    mask += autoEscape(opts.suffix, opts);
                    mask += "[-]";
                    opts.greedy = false;
                    return mask;
                },
                placeholder: "",
                greedy: false,
                digits: "*",
                digitsOptional: true,
                enforceDigitsOnBlur: false,
                radixPoint: ".",
                positionCaretOnClick: "radixFocus",
                groupSize: 3,
                groupSeparator: "",
                autoGroup: false,
                allowMinus: true,
                negationSymbol: {
                    front: "-",
                    back: ""
                },
                integerDigits: "+",
                integerOptional: true,
                prefix: "",
                suffix: "",
                rightAlign: true,
                decimalProtect: true,
                min: null,
                max: null,
                step: 1,
                insertMode: true,
                autoUnmask: false,
                unmaskAsNumber: false,
                inputType: "text",
                inputmode: "numeric",
                preValidation: function preValidation(buffer, pos, c, isSelection, opts, maskset) {
                    if (c === "-" || c === opts.negationSymbol.front) {
                        if (opts.allowMinus !== true) return false;
                        opts.isNegative = opts.isNegative === undefined ? true : !opts.isNegative;
                        if (buffer.join("") === "") return true;
                        return {
                            caret: maskset.validPositions[pos] ? pos : undefined,
                            dopost: true
                        };
                    }
                    if (isSelection === false && c === opts.radixPoint && opts.digits !== undefined && (isNaN(opts.digits) || parseInt(opts.digits) > 0)) {
                        var radixPos = $.inArray(opts.radixPoint, buffer);
                        if (radixPos !== -1 && maskset.validPositions[radixPos] !== undefined) {
                            if (opts.numericInput === true) {
                                return pos === radixPos;
                            }
                            return {
                                caret: radixPos + 1
                            };
                        }
                    }
                    return true;
                },
                postValidation: function postValidation(buffer, pos, currentResult, opts) {
                    function buildPostMask(buffer, opts) {
                        var postMask = "";
                        postMask += "(" + opts.groupSeparator + "*{" + opts.groupSize + "}){*}";
                        if (opts.radixPoint !== "") {
                            var radixSplit = buffer.join("").split(opts.radixPoint);
                            if (radixSplit[1]) {
                                postMask += opts.radixPoint + "*{" + radixSplit[1].match(/^\d*\??\d*/)[0].length + "}";
                            }
                        }
                        return postMask;
                    }
                    var suffix = opts.suffix.split(""), prefix = opts.prefix.split("");
                    if (currentResult.pos === undefined && currentResult.caret !== undefined && currentResult.dopost !== true) return currentResult;
                    var caretPos = currentResult.caret !== undefined ? currentResult.caret : currentResult.pos;
                    var maskedValue = buffer.slice();
                    if (opts.numericInput) {
                        caretPos = maskedValue.length - caretPos - 1;
                        maskedValue = maskedValue.reverse();
                    }
                    var charAtPos = maskedValue[caretPos];
                    if (charAtPos === opts.groupSeparator) {
                        caretPos += 1;
                        charAtPos = maskedValue[caretPos];
                    }
                    if (caretPos === maskedValue.length - opts.suffix.length - 1 && charAtPos === opts.radixPoint) return currentResult;
                    if (charAtPos !== undefined) {
                        if (charAtPos !== opts.radixPoint && charAtPos !== opts.negationSymbol.front && charAtPos !== opts.negationSymbol.back) {
                            maskedValue[caretPos] = "?";
                            if (opts.prefix.length > 0 && caretPos >= (opts.isNegative === false ? 1 : 0) && caretPos < opts.prefix.length - 1 + (opts.isNegative === false ? 1 : 0)) {
                                prefix[caretPos - (opts.isNegative === false ? 1 : 0)] = "?";
                            } else if (opts.suffix.length > 0 && caretPos >= maskedValue.length - opts.suffix.length - (opts.isNegative === false ? 1 : 0)) {
                                suffix[caretPos - (maskedValue.length - opts.suffix.length - (opts.isNegative === false ? 1 : 0))] = "?";
                            }
                        }
                    }
                    prefix = prefix.join("");
                    suffix = suffix.join("");
                    var processValue = maskedValue.join("").replace(prefix, "");
                    processValue = processValue.replace(suffix, "");
                    processValue = processValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator), "g"), "");
                    processValue = processValue.replace(new RegExp("[-" + Inputmask.escapeRegex(opts.negationSymbol.front) + "]", "g"), "");
                    processValue = processValue.replace(new RegExp(Inputmask.escapeRegex(opts.negationSymbol.back) + "$"), "");
                    if (isNaN(opts.placeholder)) {
                        processValue = processValue.replace(new RegExp(Inputmask.escapeRegex(opts.placeholder), "g"), "");
                    }
                    if (processValue.length > 1 && processValue.indexOf(opts.radixPoint) !== 1) {
                        if (charAtPos === "0") {
                            processValue = processValue.replace(/^\?/g, "");
                        }
                        processValue = processValue.replace(/^0/g, "");
                    }
                    if (processValue.charAt(0) === opts.radixPoint && opts.radixPoint !== "" && opts.numericInput !== true) {
                        processValue = "0" + processValue;
                    }
                    if (processValue !== "") {
                        processValue = processValue.split("");
                        if ((!opts.digitsOptional || opts.enforceDigitsOnBlur && currentResult.event === "blur") && isFinite(opts.digits)) {
                            var radixPosition = $.inArray(opts.radixPoint, processValue);
                            var rpb = $.inArray(opts.radixPoint, maskedValue);
                            if (radixPosition === -1) {
                                processValue.push(opts.radixPoint);
                                radixPosition = processValue.length - 1;
                            }
                            for (var i = 1; i <= opts.digits; i++) {
                                if ((!opts.digitsOptional || opts.enforceDigitsOnBlur && currentResult.event === "blur") && (processValue[radixPosition + i] === undefined || processValue[radixPosition + i] === opts.placeholder.charAt(0))) {
                                    processValue[radixPosition + i] = currentResult.placeholder || opts.placeholder.charAt(0);
                                } else if (rpb !== -1 && maskedValue[rpb + i] !== undefined) {
                                    processValue[radixPosition + i] = processValue[radixPosition + i] || maskedValue[rpb + i];
                                }
                            }
                        }
                        if (opts.autoGroup === true && opts.groupSeparator !== "" && (charAtPos !== opts.radixPoint || currentResult.pos !== undefined || currentResult.dopost)) {
                            var addRadix = processValue[processValue.length - 1] === opts.radixPoint && currentResult.c === opts.radixPoint;
                            processValue = Inputmask(buildPostMask(processValue, opts), {
                                numericInput: true,
                                jitMasking: true,
                                definitions: {
                                    "*": {
                                        validator: "[0-9?]",
                                        cardinality: 1
                                    }
                                }
                            }).format(processValue.join(""));
                            if (addRadix) processValue += opts.radixPoint;
                            if (processValue.charAt(0) === opts.groupSeparator) {
                                processValue.substr(1);
                            }
                        } else processValue = processValue.join("");
                    }
                    if (opts.isNegative && currentResult.event === "blur") {
                        opts.isNegative = processValue !== "0";
                    }
                    processValue = prefix + processValue;
                    processValue += suffix;
                    if (opts.isNegative) {
                        processValue = opts.negationSymbol.front + processValue;
                        processValue += opts.negationSymbol.back;
                    }
                    processValue = processValue.split("");
                    if (charAtPos !== undefined) {
                        if (charAtPos !== opts.radixPoint && charAtPos !== opts.negationSymbol.front && charAtPos !== opts.negationSymbol.back) {
                            caretPos = $.inArray("?", processValue);
                            if (caretPos > -1) {
                                processValue[caretPos] = charAtPos;
                            } else caretPos = currentResult.caret || 0;
                        } else if (charAtPos === opts.radixPoint || charAtPos === opts.negationSymbol.front || charAtPos === opts.negationSymbol.back) {
                            var newCaretPos = $.inArray(charAtPos, processValue);
                            if (newCaretPos !== -1) caretPos = newCaretPos;
                        }
                    }
                    if (opts.numericInput) {
                        caretPos = processValue.length - caretPos - 1;
                        processValue = processValue.reverse();
                    }
                    var rslt = {
                        caret: (charAtPos === undefined || currentResult.pos !== undefined) && caretPos !== undefined ? caretPos + (opts.numericInput ? -1 : 1) : caretPos,
                        buffer: processValue,
                        refreshFromBuffer: currentResult.dopost || buffer.join("") !== processValue.join("")
                    };
                    return rslt.refreshFromBuffer ? rslt : currentResult;
                },
                onBeforeWrite: function onBeforeWrite(e, buffer, caretPos, opts) {
                    function parseMinMaxOptions(opts) {
                        if (opts.parseMinMaxOptions === undefined) {
                            if (opts.min !== null) {
                                opts.min = opts.min.toString().replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator), "g"), "");
                                if (opts.radixPoint === ",") opts.min = opts.min.replace(opts.radixPoint, ".");
                                opts.min = isFinite(opts.min) ? parseFloat(opts.min) : NaN;
                                if (isNaN(opts.min)) opts.min = Number.MIN_VALUE;
                            }
                            if (opts.max !== null) {
                                opts.max = opts.max.toString().replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator), "g"), "");
                                if (opts.radixPoint === ",") opts.max = opts.max.replace(opts.radixPoint, ".");
                                opts.max = isFinite(opts.max) ? parseFloat(opts.max) : NaN;
                                if (isNaN(opts.max)) opts.max = Number.MAX_VALUE;
                            }
                            opts.parseMinMaxOptions = "done";
                        }
                    }
                    if (e) {
                        switch (e.type) {
                          case "keydown":
                            return opts.postValidation(buffer, caretPos, {
                                caret: caretPos,
                                dopost: true
                            }, opts);

                          case "blur":
                          case "checkval":
                            var unmasked;
                            parseMinMaxOptions(opts);
                            if (opts.min !== null || opts.max !== null) {
                                unmasked = opts.onUnMask(buffer.join(""), undefined, $.extend({}, opts, {
                                    unmaskAsNumber: true
                                }));
                                if (opts.min !== null && unmasked < opts.min) {
                                    opts.isNegative = opts.min < 0;
                                    return opts.postValidation(opts.min.toString().replace(".", opts.radixPoint).split(""), caretPos, {
                                        caret: caretPos,
                                        dopost: true,
                                        placeholder: "0"
                                    }, opts);
                                } else if (opts.max !== null && unmasked > opts.max) {
                                    opts.isNegative = opts.max < 0;
                                    return opts.postValidation(opts.max.toString().replace(".", opts.radixPoint).split(""), caretPos, {
                                        caret: caretPos,
                                        dopost: true,
                                        placeholder: "0"
                                    }, opts);
                                }
                            }
                            return opts.postValidation(buffer, caretPos, {
                                caret: caretPos,
                                placeholder: "0",
                                event: "blur"
                            }, opts);

                          case "_checkval":
                            return {
                                caret: caretPos
                            };

                          default:
                            break;
                        }
                    }
                },
                regex: {
                    integerPart: function integerPart(opts, emptyCheck) {
                        return emptyCheck ? new RegExp("[" + Inputmask.escapeRegex(opts.negationSymbol.front) + "+]?") : new RegExp("[" + Inputmask.escapeRegex(opts.negationSymbol.front) + "+]?\\d+");
                    },
                    integerNPart: function integerNPart(opts) {
                        return new RegExp("[\\d" + Inputmask.escapeRegex(opts.groupSeparator) + Inputmask.escapeRegex(opts.placeholder.charAt(0)) + "]+");
                    }
                },
                definitions: {
                    "~": {
                        validator: function validator(chrs, maskset, pos, strict, opts, isSelection) {
                            var isValid, l;
                            if (chrs === "k" || chrs === "m") {
                                isValid = {
                                    insert: [],
                                    c: 0
                                };
                                for (var i = 0, l = chrs === "k" ? 2 : 5; i < l; i++) {
                                    isValid.insert.push({
                                        pos: pos + i,
                                        c: 0
                                    });
                                }
                                isValid.pos = pos + l;
                                return isValid;
                            }
                            isValid = strict ? new RegExp("[0-9" + Inputmask.escapeRegex(opts.groupSeparator) + "]").test(chrs) : new RegExp("[0-9]").test(chrs);
                            if (isValid === true) {
                                if (opts.numericInput !== true && maskset.validPositions[pos] !== undefined && maskset.validPositions[pos].match.def === "~" && !isSelection) {
                                    var processValue = maskset.buffer.join("");
                                    processValue = processValue.replace(new RegExp("[-" + Inputmask.escapeRegex(opts.negationSymbol.front) + "]", "g"), "");
                                    processValue = processValue.replace(new RegExp(Inputmask.escapeRegex(opts.negationSymbol.back) + "$"), "");
                                    var pvRadixSplit = processValue.split(opts.radixPoint);
                                    if (pvRadixSplit.length > 1) {
                                        pvRadixSplit[1] = pvRadixSplit[1].replace(/0/g, opts.placeholder.charAt(0));
                                    }
                                    if (pvRadixSplit[0] === "0") {
                                        pvRadixSplit[0] = pvRadixSplit[0].replace(/0/g, opts.placeholder.charAt(0));
                                    }
                                    processValue = pvRadixSplit[0] + opts.radixPoint + pvRadixSplit[1] || "";
                                    var bufferTemplate = maskset._buffer.join("");
                                    if (processValue === opts.radixPoint) {
                                        processValue = bufferTemplate;
                                    }
                                    while (processValue.match(Inputmask.escapeRegex(bufferTemplate) + "$") === null) {
                                        bufferTemplate = bufferTemplate.slice(1);
                                    }
                                    processValue = processValue.replace(bufferTemplate, "");
                                    processValue = processValue.split("");
                                    if (processValue[pos] === undefined) {
                                        isValid = {
                                            pos: pos,
                                            remove: pos
                                        };
                                    } else {
                                        isValid = {
                                            pos: pos
                                        };
                                    }
                                }
                            } else if (!strict && chrs === opts.radixPoint && maskset.validPositions[pos - 1] === undefined) {
                                isValid = {
                                    insert: {
                                        pos: pos,
                                        c: 0
                                    },
                                    pos: pos + 1
                                };
                            }
                            return isValid;
                        },
                        cardinality: 1
                    },
                    "+": {
                        validator: function validator(chrs, maskset, pos, strict, opts) {
                            return opts.allowMinus && (chrs === "-" || chrs === opts.negationSymbol.front);
                        },
                        cardinality: 1,
                        placeholder: ""
                    },
                    "-": {
                        validator: function validator(chrs, maskset, pos, strict, opts) {
                            return opts.allowMinus && chrs === opts.negationSymbol.back;
                        },
                        cardinality: 1,
                        placeholder: ""
                    },
                    ":": {
                        validator: function validator(chrs, maskset, pos, strict, opts) {
                            var radix = "[" + Inputmask.escapeRegex(opts.radixPoint) + "]";
                            var isValid = new RegExp(radix).test(chrs);
                            if (isValid && maskset.validPositions[pos] && maskset.validPositions[pos].match.placeholder === opts.radixPoint) {
                                isValid = {
                                    caret: pos + 1
                                };
                            }
                            return isValid;
                        },
                        cardinality: 1,
                        placeholder: function placeholder(opts) {
                            return opts.radixPoint;
                        }
                    }
                },
                onUnMask: function onUnMask(maskedValue, unmaskedValue, opts) {
                    if (unmaskedValue === "" && opts.nullable === true) {
                        return unmaskedValue;
                    }
                    var processValue = maskedValue.replace(opts.prefix, "");
                    processValue = processValue.replace(opts.suffix, "");
                    processValue = processValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator), "g"), "");
                    if (opts.placeholder.charAt(0) !== "") {
                        processValue = processValue.replace(new RegExp(opts.placeholder.charAt(0), "g"), "0");
                    }
                    if (opts.unmaskAsNumber) {
                        if (opts.radixPoint !== "" && processValue.indexOf(opts.radixPoint) !== -1) processValue = processValue.replace(Inputmask.escapeRegex.call(this, opts.radixPoint), ".");
                        processValue = processValue.replace(new RegExp("^" + Inputmask.escapeRegex(opts.negationSymbol.front)), "-");
                        processValue = processValue.replace(new RegExp(Inputmask.escapeRegex(opts.negationSymbol.back) + "$"), "");
                        return Number(processValue);
                    }
                    return processValue;
                },
                isComplete: function isComplete(buffer, opts) {
                    var maskedValue = (opts.numericInput ? buffer.slice().reverse() : buffer).join("");
                    maskedValue = maskedValue.replace(new RegExp("^" + Inputmask.escapeRegex(opts.negationSymbol.front)), "-");
                    maskedValue = maskedValue.replace(new RegExp(Inputmask.escapeRegex(opts.negationSymbol.back) + "$"), "");
                    maskedValue = maskedValue.replace(opts.prefix, "");
                    maskedValue = maskedValue.replace(opts.suffix, "");
                    maskedValue = maskedValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator) + "([0-9]{3})", "g"), "$1");
                    if (opts.radixPoint === ",") maskedValue = maskedValue.replace(Inputmask.escapeRegex(opts.radixPoint), ".");
                    return isFinite(maskedValue);
                },
                onBeforeMask: function onBeforeMask(initialValue, opts) {
                    opts.isNegative = undefined;
                    var radixPoint = opts.radixPoint || ",";
                    if ((typeof initialValue == "number" || opts.inputType === "number") && radixPoint !== "") {
                        initialValue = initialValue.toString().replace(".", radixPoint);
                    }
                    var valueParts = initialValue.split(radixPoint), integerPart = valueParts[0].replace(/[^\-0-9]/g, ""), decimalPart = valueParts.length > 1 ? valueParts[1].replace(/[^0-9]/g, "") : "";
                    initialValue = integerPart + (decimalPart !== "" ? radixPoint + decimalPart : decimalPart);
                    var digits = 0;
                    if (radixPoint !== "") {
                        digits = decimalPart.length;
                        if (decimalPart !== "") {
                            var digitsFactor = Math.pow(10, digits || 1);
                            if (isFinite(opts.digits)) {
                                digits = parseInt(opts.digits);
                                digitsFactor = Math.pow(10, digits);
                            }
                            initialValue = initialValue.replace(Inputmask.escapeRegex(radixPoint), ".");
                            if (isFinite(initialValue)) initialValue = Math.round(parseFloat(initialValue) * digitsFactor) / digitsFactor;
                            initialValue = initialValue.toString().replace(".", radixPoint);
                        }
                    }
                    if (opts.digits === 0 && initialValue.indexOf(Inputmask.escapeRegex(radixPoint)) !== -1) {
                        initialValue = initialValue.substring(0, initialValue.indexOf(Inputmask.escapeRegex(radixPoint)));
                    }
                    return alignDigits(initialValue.toString().split(""), digits, opts).join("");
                },
                onKeyDown: function onKeyDown(e, buffer, caretPos, opts) {
                    var $input = $(this);
                    if (e.ctrlKey) {
                        switch (e.keyCode) {
                          case Inputmask.keyCode.UP:
                            $input.val(parseFloat(this.inputmask.unmaskedvalue()) + parseInt(opts.step));
                            $input.trigger("setvalue");
                            break;

                          case Inputmask.keyCode.DOWN:
                            $input.val(parseFloat(this.inputmask.unmaskedvalue()) - parseInt(opts.step));
                            $input.trigger("setvalue");
                            break;
                        }
                    }
                }
            },
            currency: {
                prefix: "$ ",
                groupSeparator: ",",
                alias: "numeric",
                placeholder: "0",
                autoGroup: true,
                digits: 2,
                digitsOptional: false,
                clearMaskOnLostFocus: false
            },
            decimal: {
                alias: "numeric"
            },
            integer: {
                alias: "numeric",
                digits: 0,
                radixPoint: ""
            },
            percentage: {
                alias: "numeric",
                digits: 2,
                digitsOptional: true,
                radixPoint: ".",
                placeholder: "0",
                autoGroup: false,
                min: 0,
                max: 100,
                suffix: " %",
                allowMinus: false
            }
        });
        return Inputmask;
    });
}, function(module, exports, __webpack_require__) {
    "use strict";
    var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;
    var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function(obj) {
        return typeof obj;
    } : function(obj) {
        return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    };
    (function(factory) {
        if (true) {
            !(__WEBPACK_AMD_DEFINE_ARRAY__ = [ __webpack_require__(4), __webpack_require__(2) ], 
            __WEBPACK_AMD_DEFINE_FACTORY__ = factory, __WEBPACK_AMD_DEFINE_RESULT__ = typeof __WEBPACK_AMD_DEFINE_FACTORY__ === "function" ? __WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__) : __WEBPACK_AMD_DEFINE_FACTORY__, 
            __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
        } else {}
    })(function($, Inputmask) {
        if ($.fn.inputmask === undefined) {
            $.fn.inputmask = function(fn, options) {
                var nptmask, input = this[0];
                if (options === undefined) options = {};
                if (typeof fn === "string") {
                    switch (fn) {
                      case "unmaskedvalue":
                        return input && input.inputmask ? input.inputmask.unmaskedvalue() : $(input).val();

                      case "remove":
                        return this.each(function() {
                            if (this.inputmask) this.inputmask.remove();
                        });

                      case "getemptymask":
                        return input && input.inputmask ? input.inputmask.getemptymask() : "";

                      case "hasMaskedValue":
                        return input && input.inputmask ? input.inputmask.hasMaskedValue() : false;

                      case "isComplete":
                        return input && input.inputmask ? input.inputmask.isComplete() : true;

                      case "getmetadata":
                        return input && input.inputmask ? input.inputmask.getmetadata() : undefined;

                      case "setvalue":
                        Inputmask.setValue(input, options);
                        break;

                      case "option":
                        if (typeof options === "string") {
                            if (input && input.inputmask !== undefined) {
                                return input.inputmask.option(options);
                            }
                        } else {
                            return this.each(function() {
                                if (this.inputmask !== undefined) {
                                    return this.inputmask.option(options);
                                }
                            });
                        }
                        break;

                      default:
                        options.alias = fn;
                        nptmask = new Inputmask(options);
                        return this.each(function() {
                            nptmask.mask(this);
                        });
                    }
                } else if (Array.isArray(fn)) {
                    options.alias = fn;
                    nptmask = new Inputmask(options);
                    return this.each(function() {
                        nptmask.mask(this);
                    });
                } else if ((typeof fn === "undefined" ? "undefined" : _typeof(fn)) == "object") {
                    nptmask = new Inputmask(fn);
                    if (fn.mask === undefined && fn.alias === undefined) {
                        return this.each(function() {
                            if (this.inputmask !== undefined) {
                                return this.inputmask.option(fn);
                            } else nptmask.mask(this);
                        });
                    } else {
                        return this.each(function() {
                            nptmask.mask(this);
                        });
                    }
                } else if (fn === undefined) {
                    return this.each(function() {
                        nptmask = new Inputmask(options);
                        nptmask.mask(this);
                    });
                }
            };
        }
        return $.fn.inputmask;
    });
} ]);

--- END FILE ---

--- FILE: js/mystickyelements-fronted.js ---
( function( $ ) {
    "use strict";
    var social_id = '';
    var second_social_id = '';
    var $i = 0;
    var $flg = false;
	var social_tab_click = 0;
	var open_first_click = -1;
    $( document ).ready( function(){
        if ($.cookie("hide_mystickyelements") == 'closed') {
            $('.mystickyelements-fixed').each(function(){
                jQuery(this).hide();
            });
        }
        $( '.contact_form_consent_txt').each(function(){
			if ( $(this).find('.contact_form_consent_required' ).length != 0 ) {				
				$(this).find("p:last").append( '<span>*</span>' ) ;
				$(this).find('.contact_form_consent_required' ).remove();
			}
		});
        if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
            $(".mystickyelements-fixed").addClass("mystickyelements-on-click").removeClass("mystickyelements-on-hover");
        }
        if ( $( '#stickyelements-form' ).find( '.mse-g-recaptcha-response' ).length ) {			
            getRecaptcha();
            $( "#stickyelements-form input:not(.stickyelements-submit-form), #stickyelements-form textarea, #stickyelements-form select" ).on( 'click', function(){
                getRecaptcha();
            });
        }
        
        var totalErrors = 0;
        $(document).on('change','.contact-form-file-upload',function(){
            totalErrors = 0;
            if( jQuery(this).next().hasClass('mse-input-message')) {
                $( this ).removeClass( "mse-input-error" ); 
                $(this).next().text('');
            }
            if( $(this).get(0).files.length > 5){
                $( this ).addClass( "mse-input-error" );
                $( this ).after( "" );
                $( this ).after( "<span class='mse-input-message'>Please upload files up to 5</span>" );
                totalErrors++;  
            }
        });
        
		/*Time Trigger*/
		



		$('.mystickyelements-fixed').each(function(){
			var is_time_delay = $(this).data("istimedelay"); 
			var id = $(this).attr("id");
            var mystickyelement_show = localStorage.getItem(id + '_show');

            if( mystickyelement_show != 'yes' && is_time_delay != 0){
                var time_delay = $(this).data("widget-time-delay"); 
                time_delay = parseInt(time_delay)*1000;	
                 setTimeout( showWidget, time_delay, id );
                localStorage.setItem( id + '_show', 'yes');
                
            }else{
                showWidget(id)
            }

		});
		
		function showWidget(id) {
			if($("#"+id).hasClass("delay-efect-slidein-left")){
                jQuery("#"+id).css("left",'0');
        	}else if($("#"+id).hasClass("delay-efect-slidein-right")){
                 jQuery("#"+id).css("right",'0');
			}else if($("#"+id).hasClass("delay-efect-slidein-bottom")){
                jQuery("#"+id).css("bottom",'0');

			}else if($("#"+id).hasClass("delay-efect-fade")){
                jQuery("#"+id).css("opacity",'1');
			}		
		}
		
		
        $( '.stickyelements-form' ).on( 'submit', function( event ){
            event.preventDefault();
			var mystickyelement_widget_no = $( this ).data( 'mystickyelement-widget' );
            var close_after = $( this ).data( 'close-after' );
            if ( $( this ).find( '.mse-g-recaptcha-response' ).length ) {
                getRecaptcha();
                if( $( ".mystickyelements-fixed-widget-" + mystickyelement_widget_no + " #contact-form-recaptcha" ).hasClass( 'mystickyelement-invisible-recaptcha' ) ) {
                    $( '.grecaptcha-badge' ).css( 'visibility', 'hidden' );
                }
            }

            $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-form .mse-input-error' ).removeClass("mse-input-error");
            $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-form .mse-input-message' ).remove();
            if( $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-form .required' ).length ) {
                $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-form .required' ).each( function(){
                    if( $.trim( $( this ).val() ) == "" ) {
                        $( this ).addClass( "mse-input-error" );
                        $( this ).after( "<span class='mse-input-message'>This field is required</span>" );
                        totalErrors++;
                    }
                });
            }
			
            if( $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-form .email.required:not(.mse-input-error)' ).length ) {
                $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-form .email.required:not(.mse-input-error)' ).each( function(){
                    var thisVal = $.trim( $( this ).val() );
                    var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                    if ( !regex.test(thisVal) ) {
                        $( this ).addClass("mse-input-error");
                        $( this ).after("<span class='mse-input-message'>Email address is not valid</span>");
                        totalErrors++;
                    }
                });
            }
            if ( $( this ).find( 'input[type="file"]' ).length ) {
                var extension_list = ["jpg","jpeg","png","gif","pdf","doc","docx","ppt","pptx","pps","ppsx","odt","xls","xlsx","mp3","mp4","wav","mpg","avi","mov","wmv","3gp","ogv"];
                jQuery( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' form#stickyelements-form input[type="file"]' ).each( function(){
                    var contact_file_string = $( this ).val().toLowerCase();
                    var extension = contact_file_string.replace(/^.*\./, '');
					if ( contact_file_string != '' && extension != '' && jQuery.inArray($.trim(extension), extension_list) == -1) {
						//&&jQuery.inArray($.trim(extension), extension_list) == -1
                        $( this ).addClass( "mse-input-error" );
                        $( this ).after( "<span class='mse-input-message'>Please Upload .jpg, .jpeg, .png, .gif, .pdf, .doc, .docx, .ppt, .pptx, .pps, .ppsx, .odt, .xls, .xlsx, .mp3, .mp4, .wav, .mpg, .avi, .mov, .wmv, .3gp, .ogv file extension only</span>" );
                        totalErrors++;
                    }
                } );
            }
            
            if( totalErrors == 0  ) {
                if ( mystickyelements.google_analytics === '1' ) {
                    stickyelements_google_analytics( 'contact-form' );
                }
                var formData = new FormData( this );

                jQuery.ajax({
                    url: mystickyelements.ajaxurl,
                    type: 'post',
                    processData: false,
                    contentType: false,
                    data: formData,
                    beforeSend: function() {
                        $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-submit-form' ).prop('disabled', true);
                    },
                    success: function (data) {
                        $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-submit-form' ).prop('disabled', false);
                        $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-form .mse-input-error' ).removeClass("mse-input-error");
                        $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-form .mse-input-message' ).remove();
                        if ( $( this ).find( '.mse-g-recaptcha-response' ).length ) {
                            getRecaptcha();
                        }

                        data = $.parseJSON(data);
                        if( data.error == '1' ) {
                            for( var i=0; i<data.errors.length; i++ ) {
                                if( data.errors[i].key != "mse-form-error" ) {
                                    $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-form #' + data.errors[i].key).addClass("mse-input-error");
                                    $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-form #' + data.errors[i].key).after( "<span class='mse-input-message'>" + data.errors[i].message + "</span>" );
                                    if( data.errors[i].key == 'contact-form-recaptcha' ) {
                                        $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' .grecaptcha-badge' ).css( 'visibility', 'visible' );
                                    }
                                } else {
                                    $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #mse-form-error' ).removeClass( "mse-form-success-message" ).addClass( "mse-form-error-message" ).show();
                                    $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #mse-form-error' ).html( data.errors[i].message );
                                }
                            }
                        } else if( data.status == '0' ) {
                            $('.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #mse-form-error' ).removeClass('mse-form-success-message').addClass('mse-form-error-message').show();
                            $('.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #mse-form-error' ).html( data.message );
                        } else {
                            $('.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #mse-form-error' ).removeClass("mse-form-error-message").addClass("mse-form-success-message").show();
                            $('.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #mse-form-error' ).html( data.message );

                            $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-form input[type="text"], .mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-form input[type="tel"], .mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-form input[type="email"], .mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-form input[type="url"], .mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-form input[type="number"], .mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-form input[type="date"], .mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-form input[type="file"]').val("");
                            $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-form textarea').val("");
                            $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #stickyelements-form option:selected' ).prop("selected", false);

                            $.cookie("closed_contactform_" + mystickyelement_widget_no, "closed", { path: '/' });
                        }
                        setTimeout(function () {
                            $('.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' .mse-form-success-message').slideUp("slow");
                        }, 5000);

                        /* redirct Page After Submission */
                        if ( data.status == 1 && data.redirect_link != '' ) {
                            if( data.open_new_tab == 1 ) {
                                window.open( data.redirect_link, '_blank' );
                            } else {
                                window.location = data.redirect_link;
                            }
                        } else {

                            close_after = close_after * 1000;
                            setTimeout(function () {
                                $('.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' .mystickyelements-contact-form ').removeClass("elements-active");
                            }, close_after);
                        }
                        return false;
                    }
                });
            }       
            
            return false;
        });
        
        /* Open tab on Click Event */
		
		 function set_open_tab_first_click( thisElement ){
			open_first_click = 0;
            thisElement.find('a').attr('href', "#");
            social_tab_click++; 
        }

        function set_open_channel_first_click( thisElement , url ){
            social_tab_click++;
			open_first_click = 1;
			thisElement.find('a').attr('href',url);
        }

        function setMobileTabBehavior( thisElement , tab_setting , click , url  ) {
            
            if( tab_setting == 'hover' && thisElement.data('mobile-behavior') == 'enable' ){
                thisElement.data('click','1');
                if( social_tab_click == 0 ){
					set_open_tab_first_click( thisElement );  
                } else {
				   set_open_channel_first_click( thisElement , url );
                   thisElement.parent().parent().removeClass('elements-active');
				   return;
                }
            }else if( tab_setting == 'click' &&  thisElement.data('flyout') == 'enable' ){
                thisElement.data('click','1');
                if( social_tab_click == 0 ){
                    set_open_tab_first_click( thisElement );    
                } else {
                    set_open_channel_first_click( thisElement , url );
                    return;
                }
            }else if( tab_setting == 'click' && $(this).data('flyout') == 'disable' ){
				open_first_click = 1;
				return;
			} else{
				if (!thisElement.children('a').length) {
					thisElement.parent('li').addClass('elements-active');
				}else{
					$('.mystickyelements-on-click .elements-active').removeClass("elements-active");
				}
                open_first_click = 1;
				return;
            } 
        }   

        function setDesktopTabBehavior( thisElement , tab_setting , click , url  ) {
           
            if( tab_setting == 'click' && thisElement.data('flyout') == 'enable' ){
				if( thisElement.data('flyout') == 'enable' ){
					thisElement.data('click','1');
                   if( social_tab_click == 0 ){
					    set_open_tab_first_click( thisElement );    
                    } else {
                        set_open_channel_first_click( thisElement , url );
						return;
                    }
                }
            } else{
				
				if( thisElement.data('flyout') == 'enable' ){
					set_open_channel_first_click(thisElement , url );
					open_first_click = 1;
				} else {
					if (!thisElement.children('a').length) {
						thisElement.parent('li').addClass('elements-active');
					}else{
						$('.mystickyelements-on-click .elements-active').removeClass("elements-active");
					}
					open_first_click = 1;
					thisElement.find('a').attr('href',url);
					return;	
				}
			}			
        }

        function setTabBehaviorSettings( thisElement , device_type ) {
			
            var tab_setting = thisElement.data('tab-setting');
            var click = thisElement.data('click');
            var url = thisElement.find('a').data('url');

            if( device_type == 'mobile' ){
                setMobileTabBehavior( thisElement , tab_setting , click , url );
            } else {
                setDesktopTabBehavior( thisElement , tab_setting , click , url);
            }
        }

        jQuery(document).on("click",".mystickyelements-on-click .mystickyelements-social-icon",function(event){
            var click = $(this).data('click');
			
            if(!$( this ).parent( 'li' ).hasClass( 'mystickyelements-contact-form' )){
                var thisElement = $(this);
                var device_type = getDeviceType();
                
                if(click == '0'){
                    $('.mystickyelements-social-icon').data('click','0');
                    social_tab_click = 0;
                }
                setTabBehaviorSettings( thisElement , device_type );
                if( open_first_click == 1 ){
                    return;
                }    
            }
			
			if(!$(this).parent('li').hasClass("elements-active")) {
                $('.mystickyelements-on-click .elements-active').removeClass("elements-active");
                $(this).parent('li').addClass('elements-active');
				 if ( mystickyelements.google_analytics === '1' && $( this ).parent( 'li' ).hasClass( 'mystickyelements-contact-form' ) ) {
					stickyelements_google_analytics( 'contact-form-open' );
				 }
            } else {
                $(this).parent('li').removeClass('elements-active');
                $.cookie("closed_contactform", "closed", { path: '/' });
                event.preventDefault();
            }
        });

        /*close contact form on click close icon*/
        $('.mystickyelements-on-hover .mystickyelements-social-icon').on( 'click', function(event){
            if($(this).parent('li').hasClass("elements-active") && $( this ).children('a').length == 0 ) {
                //$(this).parent('li').removeClass('elements-active');
                $(this).parent('li').removeClass('elements-hover-active');
                event.preventDefault();
                $(this).parent().parent().parent().parent('.mystickyelements-on-hover').removeClass('mystickyelements-on-click');
            }
        });

        $( '.mystickyelements-on-hover .mystickyelements-social-icon-li' ).on('mouseenter', function(){
            if($(this).hasClass("elements-active")) {
                //$(this).parent('li').removeClass('elements-active');
            }
            if(!$(this).hasClass("elements-active")) {
                $('.mystickyelements-on-click .elements-active').removeClass("elements-active");
                $(this).addClass('elements-active');
                $(this).addClass('elements-hover-active');
                $(this).parent().parent().parent('.mystickyelements-on-hover').addClass('mystickyelements-on-click');
            }
        }).on('mouseleave', function(){
            $(this).removeClass('elements-active');
            $(this).removeClass('elements-hover-active');
            $(this).parent().parent().parent('.mystickyelements-on-hover').removeClass('mystickyelements-on-click');
        });
		
        $( '.mystickyelements-on-hover ul li.mystickyelements-contact-form' ).on('mouseenter', function(){
            $( this ).addClass( 'element-contact-active' );
			
			if ( mystickyelements.google_analytics === '1' ) {
				stickyelements_google_analytics( 'contact-form-open' );
			}
			
        } ).on('mouseleave', function(){			
			$( this ).removeClass( 'element-contact-active' );
        });
		
        $( '.element-contact-close' ).on( 'click touch', function(event){
            $( '.mystickyelements-contact-form' ).removeClass('elements-active');
            $( '.mystickyelements-contact-form' ).removeClass('element-contact-active');

            var mystickyelement_widget_no = $( this ).data( 'mystickyelement-widget' );
            $.cookie("closed_contactform_" + mystickyelement_widget_no, "closed", { path: '/' });
        });

        $('#stickyelements-form input:not(#stickyelements-submit-form), #stickyelements-form textarea ').on( 'keyup', function(event){
            if ($(this).val()){
                $(this).css('background-color', '#EFF5F8');
                $(this).css('border-color', '#7761DF');
            }

        });
        mystickyelements_border_radius();
        /* Minimize Sticky Elements  */        
        $('li.mystickyelements-minimize').on('click',function(event){
            var element_minimize, minimize_device, position_device,element_on_device;
            var mystickyelement_widget_no = $( this ).data( 'mystickyelement-widget' );

            $( this ).toggleClass( 'element-minimize' );
            if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
                minimize_device = 'mobile';
                position_device = 'mobile-';
                element_on_device = 'element-mobile-on';
            } else {
                minimize_device = 'desktop';
                position_device = '';
                element_on_device = 'element-desktop-on';
            }
            if ( $( this ).hasClass( 'element-minimize' ) === true ) {
                $.cookie("minimize_" + minimize_device + "_" + mystickyelement_widget_no, "minimize", { path: '/' });
                element_minimize = true;
            } else {
                $.cookie("minimize_" + minimize_device + "_" + mystickyelement_widget_no, 'minimize_not', { path: '/' });
                element_minimize = false;
            }

            /* Left Position */
            $(".mystickyelements-position-" + position_device + "left.mystickyelements-fixed-widget-" + mystickyelement_widget_no + " ul li").each( function() {
                if ( $(this).hasClass( element_on_device ) == true ) {
                    var mystickyelements_size = $( '.mystickyelements-fixed.mystickyelements-fixed-widget-' + mystickyelement_widget_no ).hasClass( 'mystickyelements-size-large' );
                    if ( mystickyelements_size == true ) {
                        $(this).animate({
                            width: 'toggle',
                            left: ( element_minimize === true ) ? '-=80' : ''
                        });
                    } else {
                        $(this).animate({
                            width: 'toggle',
                            left: ( element_minimize === true ) ? '-=50' : ''
                        });
                    }
                }
            });

            /* Right Position */
            $(".mystickyelements-position-" + position_device + "right.mystickyelements-fixed-widget-" + mystickyelement_widget_no + " ul li").each( function() {
                if ( $(this).hasClass( element_on_device ) == true ) {
                    var mystickyelements_size = $( '.mystickyelements-fixed.mystickyelements-fixed-widget-' + mystickyelement_widget_no ).hasClass( 'mystickyelements-size-large' );
                    if ( mystickyelements_size == true ) {
                        $(this).animate({
                            width: 'toggle',
                            left: ( element_minimize === true ) ? '+=80' : ''
                        }, 300 , function() {
                        });
                    } else {
                        $(this).animate({
                            width: 'toggle',
                            left: ( element_minimize === true ) ? '+=50' : ''
                        }, 300 , function() {
                        });
                    }
                }
            });
            /* Bottom Position */
            $(".mystickyelements-position-" + position_device + "bottom.mystickyelements-fixed-widget-" + mystickyelement_widget_no + " ul li").each( function() {
                if ( $(this).hasClass( element_on_device ) == true ) {
                    $(this).css( 'position', 'relative' );
                    var mystickyelements_size = $( '.mystickyelements-fixed.mystickyelements-fixed-widget-' + mystickyelement_widget_no ).hasClass( 'mystickyelements-size-large' );
                    if ( mystickyelements_size == true ) {
                        $(this).animate({
                            height: 'toggle',
                            bottom: ( element_minimize === true ) ? '-=80' : '',
                        }, 300 , function() {
                            $(this).css( 'position', ( element_minimize === true ) ? 'relative' : 'static' );
                        });
                    } else {
                        $(this).animate({
                            height: 'toggle',
                            bottom: ( element_minimize === true ) ? '-=60' : '',
                        }, 300 , function() {
                            $(this).css( 'position', ( element_minimize === true ) ? 'relative' : 'static' );
                        });
                    }
                }
				
				
            });
            /* Top Position */
            $(".mystickyelements-position-" + position_device + "top.mystickyelements-fixed-widget-" + mystickyelement_widget_no + " ul li").each( function() {
                if ( $(this).hasClass( element_on_device ) == true ) {
                    $(this).css( 'position', 'relative' );
                    var mystickyelements_size = $( '.mystickyelements-fixed.mystickyelements-fixed-widget-' + mystickyelement_widget_no ).hasClass( 'mystickyelements-size-large' );
                    if ( mystickyelements_size == true ) {
                        $(this).animate({
                            height: 'toggle',
                            top: ( element_minimize === true ) ? '-=80' : '',
                        }, 300 , function() {
                            $(this).css( 'position', ( element_minimize === true ) ? 'relative' : 'static' );
                        });
                    } else {
                        $(this).animate({
                            height: 'toggle',
                            top: ( element_minimize === true ) ? '-=60' : '',
                        }, 300 , function() {
                            $(this).css( 'position', ( element_minimize === true ) ? 'relative' : 'static' );
                        });
                    }
                }
            });

            /* Move arrow base on minimize */
            if ( $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' span.mystickyelements-minimize' ).hasClass( 'minimize-position-' + position_device + 'left' ) === true ) {

                if ( $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' li.mystickyelements-minimize' ).hasClass( 'element-minimize' ) === true) {
                    $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' .mystickyelements-minimize.minimize-position-' + position_device + 'left' ).html('&rarr;')
                } else {
                    $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' .mystickyelements-minimize.minimize-position-' + position_device + 'left' ).html('&larr;')
                }
            } else if ( $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' span.mystickyelements-minimize' ).hasClass( 'minimize-position-' + position_device + 'bottom' ) === true ) {

                if ( $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' li.mystickyelements-minimize' ).hasClass( 'element-minimize' ) === true) {
                    $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' .mystickyelements-minimize.minimize-position-' + position_device + 'bottom' ).html('&uarr;')
                } else {
                    $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' .mystickyelements-minimize.minimize-position-' + position_device + 'bottom' ).html('&darr;')
                }
            } else if ( $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' span.mystickyelements-minimize' ).hasClass( 'minimize-position-' + position_device + 'top' ) === true ) {

                if ( $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' li.mystickyelements-minimize' ).hasClass( 'element-minimize' ) === true) {
                    $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' .mystickyelements-minimize.minimize-position-' + position_device + 'top' ).html('&darr;')
                } else {
                    $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' .mystickyelements-minimize.minimize-position-' + position_device + 'top' ).html('&uarr;')
                }
            } else {
                if ( $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' li.mystickyelements-minimize' ).hasClass( 'element-minimize' ) === true) {
                    $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' .mystickyelements-minimize.minimize-position-' + position_device + 'right' ).html('&larr;')
                } else {
                    $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' .mystickyelements-minimize.minimize-position-' + position_device + 'right' ).html('&rarr;')
                }
            }
            mystickyelements_border_radius();
        });

        /* Google Analytics */
        $( "body" ).on( "click touch", ".update-analytics", function (e) {
            var elementname;
            elementname = $(this).attr( 'data-social-slug');
            if(elementname != undefined && elementname != "") {
                stickyelements_google_analytics( elementname );
            }
        });

        $(".analytics-update").on( "click touch", function (e) {
            var elementname;
            elementname = $(this).attr("id").split('mystickyelements-social-');
            elementname = elementname[1];
            if(elementname != undefined && elementname != "") {
                stickyelements_google_analytics( elementname );
            }
        });
        $(".mystickyelements-on-hover .analytics-update").on('mouseenter',  function(){
            $( this ).trigger( "click" );
        });

        /*iframe set*/
        $( '.mystickyelements-fixed ul li' ).each( function(){
            var custom_html_class = $( this ).hasClass( 'mystickyelements-custom-html-main' );
            var mystickyelement_widget_no = $( this ).parent().data( 'mystickyelement-widget' );
            if( custom_html_class ) {
                var custom_html_child_class = $( this ).hasClass( 'mystickyelements-custom-html-iframe' );
                if( custom_html_child_class ) {
                    //var custom_html_iframe = $( this ).find( 'iframe' ).height();
                    var custom_html_iframe = $( this ).find( '.mystickyelements-custom-html' ).height();
                    var main_ul_height = $( '.mystickyelements-fixed.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' ul' ).height();
                    if( main_ul_height > custom_html_iframe ) {
                        //$( this ).addClass( 'mystickyelements-custom-iframe-bottom' );
                    }
                }
            }
        });

      /*  setTimeout( function(){
            $( '.mystickyelements-entry-effect-fade.entry-effect,.mystickyelements-entry-effect-slide-in.entry-effect' ).css( 'transition', 'all 0s ease 0s' );
        }, 1000 );*/

        $( '.mystickyelements-fixed ul li' ).on( 'click', function(){
            var mystickyelement_widget_no = $( this ).parent().data( 'mystickyelement-widget' );
            if ( $( this ).hasClass( 'mystickyelements-custom-html-iframe' ) ) {
                $( '.mystickyelements-fixed.mystickyelements-fixed-widget-' + mystickyelement_widget_no ).toggleClass( 'mystickyelements-custom-html-iframe-open' );
            } else {
                $( '.mystickyelements-fixed.mystickyelements-fixed-widget-' + mystickyelement_widget_no ).removeClass( 'mystickyelements-custom-html-iframe-open' );
            }
        } );

        $( '.mystickyelements-fixed' ).addClass( 'entry-effect' );
        if ( $( window ).width() > 1024  ) {
            $( '.mystickyelements-fixed' ).each( function(){
                var mystickyelement_widget_no = $( this ).data( 'mystickyelement-widget' );
                var mystickyelements_bottom_width = $( '.mystickyelements-position-bottom.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' .mystickyelements-lists' ).width();
                if ( mystickyelements_bottom_width < 300 ) {
                    $( '.mystickyelements-position-bottom.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' .mystickyelements-contact-form .element-contact-form' ).width( '300' );
                }
            } );
        }
        mystickyelements_mobile_top_pos();

        /* DATE: 13-12-2019 Start */
        $( '.mystickyelements-fixed' ).each( function(){
            var mystickyelement_widget_no = $( this ).data( 'mystickyelement-widget' );
            var WindowHeight = ( jQuery(window).height() );
            var ElementHeight = ( jQuery( '.mystickyelements-fixed.mystickyelements-fixed-widget-' + mystickyelement_widget_no ).height() );
            var AttributeVal = ( jQuery( '.mystickyelements-fixed.mystickyelements-fixed-widget-' + mystickyelement_widget_no ).data( "custom-position" ) );
            var Ele_Att_Height = parseInt( ElementHeight ) + parseInt( AttributeVal );
            var Total_Count = parseInt( WindowHeight ) - parseInt( Ele_Att_Height );
            var Height = parseInt( WindowHeight / 3 );
            var contact_frm_height = $('.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #mystickyelements-contact-form .element-contact-form').height();
            if ( Total_Count > Height && WindowHeight < contact_frm_height) {
                jQuery( '.mystickyelements-fixed.mystickyelements-fixed-widget-' + mystickyelement_widget_no ).addClass("mystickyelements-custom-position-on");
            }
        } );
		
        /* DATE: 13-12-2019 End */
        /*Country option*/
		
        $('.mystickyelements-fixed #stickyelements-form .contact-phone-default-field').each(function(index, value) {
			var is_number_formate = $(this).next().val();

            if( is_number_formate == 1 ){
                $(this).addClass("contact-form-phone-"+index);
                var contactFormClass = "contact-form-phone-"+index;
                $(this).attr("data-class-slug",contactFormClass);
                var contact_number_input = document.querySelector("."+contactFormClass);
                if(contact_number_input != null){
                    var iti = window.intlTelInput( contact_number_input, {
                        dropdownContainer: document.body,
                        formatOnDisplay: true,
                        hiddenInput: "full_number",
                        initialCountry: "auto",
                        nationalMode: true,
                        separateDialCode: true,
                        utilsScript: mystickyelement_obj.plugin_url+"intl-tel-input-src/build/js/utils.js",
                    });
                    $(this).addClass("tel_formate");
                }
            }else{
                if( $(this).hasClass('tel_formate') ){
                    $(this).removeClass("tel_formate");
                }
            }
    	});
	
		$('.iti__flag-container').each(function(index, value) {
			var slug = 'field-contact-form-phone-'+index;
			jQuery(this).addClass(slug);
			jQuery(this).attr("data-slug",slug);
		});	
	});
	
    $( window ).on('resize', function() {
        mystickyelements_border_radius();
        mystickyelements_mobile_top_pos();
    });
	
	function getDeviceType() {
        if( /Android|webOS|iPhone|iPad|Mac|Macintosh|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
            return 'mobile';
        }else{
            return 'desktop';
        }
    }

    function mystickyelements_mobile_top_pos() {
        if ( $( window ).width() <= 1024  ) {
            $( '.mystickyelements-fixed' ).each( function(){
                var mystickyelement_widget_no = $( this ).data( 'mystickyelement-widget' );
                if ( $( '.mystickyelements-fixed.mystickyelements-fixed-widget-' + mystickyelement_widget_no ).hasClass( 'mystickyelements-position-mobile-top' ) ) {
                    var mystickyelements_height = $( '.mystickyelements-fixed.mystickyelements-fixed-widget-' + mystickyelement_widget_no ).height();
                    $( 'html' ).attr( 'style', 'margin-top: ' + mystickyelements_height + 'px !important' );
                }
            });
        } else {
            $( 'html' ).css( 'margin-top', '' );
        }
    }

    function mystickyelements_border_radius(){

        /* Contact Us form Height */
        $( '.mystickyelements-fixed' ).each( function(){
            var mystickyelement_widget_no = $( this ).data( 'mystickyelement-widget' );
            if ( $('.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' .element-contact-form').length !== 0 ) {
                var win_height = $(window).height();
                var element_position = $( '.mystickyelements-fixed.mystickyelements-fixed-widget-' + mystickyelement_widget_no ).position().top;
                var element_offset = $('.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' .element-contact-form').offset().top;
                
                var contact_frm_height = $('.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #mystickyelements-contact-form #stickyelements-form').innerHeight() + $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' .element-contact-form h3' ).innerHeight();
				
				if ( $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #mystickyelements-contact-form .stickyelements-textblock-content' ).length != 0 ) {
					var contact_frm_height = $('.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #mystickyelements-contact-form #stickyelements-form').innerHeight() + $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' .element-contact-form h3' ).innerHeight() + $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' .element-contact-form .stickyelements-textblock-content' ).innerHeight();
				}
               
                if ( win_height < contact_frm_height ) {
                    var new_height = (win_height - 70 );
                    $('.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #mystickyelements-contact-form .element-contact-form').css('max-height', new_height+ 'px' );
                    $('.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #mystickyelements-contact-form .element-contact-form').css('overflowY', 'auto' );
                    var contact_form_top = element_position - 10;
                    if( $(window).width() > 1025 &&  ! $( '.mystickyelements-fixed.mystickyelements-fixed-widget-' + mystickyelement_widget_no ).hasClass( 'mystickyelements-position-bottom' ) ){
                        $('.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #mystickyelements-contact-form .element-contact-form').css('top', '-' + contact_form_top + 'px' );
                    }
                    if( $(window).width() < 1024 &&  ! $( '.mystickyelements-fixed.mystickyelements-fixed-widget-' + mystickyelement_widget_no ).hasClass( 'mystickyelements-position-mobile-bottom' ) ){
                        $('.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #mystickyelements-contact-form .element-contact-form').css('top', '-' + contact_form_top + 'px' );
                    }
                } else {
                    var minimize_height = $('.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' ul.mystickyelements-lists .mystickyelements-minimize').height();
                    if ( minimize_height === null ) {
                        minimize_height = 0;
                    }
                    var contact_form_top = element_position - (win_height - contact_frm_height) + minimize_height + 10;
                    if( $(window).width() > 1025 &&  ! $( '.mystickyelements-fixed.mystickyelements-fixed-widget-' + mystickyelement_widget_no ).hasClass('mystickyelements-position-bottom') ){
                        $('.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #mystickyelements-contact-form .element-contact-form').css('top', '-' + contact_form_top + 'px' );
                    }
                    if( $(window).width() < 1024 &&  ! $( '.mystickyelements-fixed.mystickyelements-fixed-widget-' + mystickyelement_widget_no ).hasClass('mystickyelements-position-mobile-bottom') ){
                        $('.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #mystickyelements-contact-form .element-contact-form').css('top', '-' + contact_form_top + 'px' );
                    }

                    $('.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #mystickyelements-contact-form .element-contact-form').css('overflowY', '' );
                    $('.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #mystickyelements-contact-form .element-contact-form').css('max-height', '');
                }
            }

            var position_device = '';
            if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
                position_device = 'mobile-';
            }
            var $mobile_bottom = 0;
            var $j = 0;
            var element_mobile_count = 0;

            $('.mystickyelements-fixed.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' ul li').each( function () {
                /* Check google analytics enable then add 'update-analytics' class */
                if ( mystickyelements.google_analytics === '1'  && $(this).hasClass('mystickyelements-minimize') !== true && $(this).attr('id') !== 'mystickyelements-contact-form' ) {
                    if ( $(this).find( "a" ).length !== 0 ) {
                        var elementname = $(this).attr("id").split('mystickyelements-social-');
                        $(this).find( "a" ).addClass('update-analytics');
                        $(this).find( "a" ).attr( 'data-social-slug', elementname[1]);
                    } else {
                        $(this).addClass('analytics-update');
                    }
                }
                $('.mystickyelements-position-' + position_device + 'left.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #' + $(this).attr('id') + ' .mystickyelements-social-icon').css('border-radius','');
                $('.mystickyelements-position-' + position_device + 'right.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #' + $(this).attr('id') + ' .mystickyelements-social-icon').css('border-radius','');

                if ( $( window ).width() < 1025 ) {
                    element_mobile_count = '12';
                }
                if ( $( window ).width() < 992 ) {
                    element_mobile_count = '9';
                }
                if ( $( window ).width() < 768 ) {
                    element_mobile_count = '4';
                }
                if( $(this).hasClass('element-mobile-on') && $j != element_mobile_count ) {
                    $(this).addClass('mystickyelements-show-last-element');
                    $j++;
                } else {
                    $(this).removeClass('mystickyelements-show-last-element');
                }

                /* Check First LI */
                if ( $i == 0 ){
                    if ( $( window ).width() > 1024 &&  !$(this).hasClass('element-desktop-on')){
                        $flg = true;
                    }
                    if ( $( window ).width() < 1025 &&  !$(this).hasClass('element-mobile-on')){
                        $flg = true;
                    }
                }
                if ( $( window ).width() > 1024 &&  $(this).hasClass('element-desktop-on')){
                    social_id = $(this).attr('id');
                }
                if ( $( window ).width() < 1025 &&  $(this).hasClass('element-mobile-on')){
                    social_id = $(this).attr('id');
                    $mobile_bottom++;
                }
                if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
                    second_social_id == '';
                }
                if( second_social_id == '' ) {
                    //if ( $i == 1 && $flg === true) {
                    if ( $flg === true ) {
                        if ( $( window ).width() > 1024 && $(this).hasClass('element-desktop-on') ){
                            second_social_id = $(this).attr('id');
                        }
                        if ( $( window ).width() < 1025 && $(this).hasClass('element-mobile-on') ){
                            second_social_id = $(this).attr('id');
                        }
                    }
                }
                $i++;
            });

            $( '.mystickyelements-fixed.mystickyelements-position-mobile-bottom.mystickyelements-fixed-widget-' + mystickyelement_widget_no ).addClass( 'mystickyelements-bottom-social-channel-' + $mobile_bottom );
            $( '.mystickyelements-fixed.mystickyelements-position-mobile-top.mystickyelements-fixed-widget-' + mystickyelement_widget_no ).addClass( 'mystickyelements-top-social-channel-' + $mobile_bottom );
            if ( social_id != '' ) {
                if ( social_id === 'mystickyelements-contact-form' ){
                    $('.mystickyelements-position-' + position_device + 'left.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #' + social_id + ' .mystickyelements-social-icon').css('border-bottom-left-radius', '10px' );
                    $('.mystickyelements-position-' + position_device + 'right.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #' + social_id + ' .mystickyelements-social-icon').css('border-top-left-radius', '10px' );
                    $('.mystickyelements-position-' + position_device + 'bottom.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #' + social_id + ' .mystickyelements-social-icon').css('border-top-right-radius', '10px' );

                    if( $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' li.mystickyelements-minimize' ).length !== 1 ){
                        $('.mystickyelements-position-' + position_device + 'left.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #' + social_id + ' .mystickyelements-social-icon').css('border-bottom-right-radius', '10px' );
                        $('.mystickyelements-position-' + position_device + 'right.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #' + social_id + ' .mystickyelements-social-icon').css('border-top-right-radius', '10px' );
                    }
                } else if ( social_id !== 'mystickyelements-contact-form') {
                    if ( $i=== 1 ) {
                        $('.mystickyelements-position-' + position_device + 'left.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #' + social_id + ' .mystickyelements-social-icon').css('border-radius', '0px 10px 10px 0' );
                        $('.mystickyelements-position' + position_device + '-right.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #' + social_id + ' .mystickyelements-social-icon').css('border-radius', '10px 0 0 10px' );
                    } else {
                        $('.mystickyelements-position-' + position_device + 'left.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #' + social_id + ' .mystickyelements-social-icon').css('border-bottom-right-radius', '10px' );
                        $('.mystickyelements-position-' + position_device + 'right.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #' + social_id + ' .mystickyelements-social-icon').css('border-bottom-left-radius', '10px' );
                        $('.mystickyelements-position-' + position_device + 'bottom.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #' + social_id + ' .mystickyelements-social-icon').css('border-top-right-radius', '10px' );
                    }
                }
            } else {
                $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' .mystickyelement-credit' ).hide();
                $( '.mystickyelements-fixed.mystickyelements-fixed-widget-' + mystickyelement_widget_no ).hide();
            }
            if ( second_social_id != '' && second_social_id !== 'mystickyelements-contact-form' && $( '.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' li.mystickyelements-minimize' ).length !== 1  ) {
                $('.mystickyelements-position-' + position_device + 'left.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #' + second_social_id + ' .mystickyelements-social-icon').css('border-top-right-radius', '10px' );
                $('.mystickyelements-position-' + position_device + 'right.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #' + second_social_id + ' .mystickyelements-social-icon').css('border-top-left-radius', '10px' );
                $('.mystickyelements-position-' + position_device + 'bottom.mystickyelements-fixed-widget-' + mystickyelement_widget_no + ' #' + second_social_id + ' .mystickyelements-social-icon').css('border-top-left-radius', '10px' );
            }
        });
		
		/* Hide Widget when all widget hide on desktop or mobile and only minimize bar available */
		jQuery('.mystickyelements-fixed .mystickyelements-lists').each(function(){			
			if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
                var element_on_device = 'element-mobile-on';
            } else {                
                var element_on_device = 'element-desktop-on';
            }
			var total_count = jQuery(this).find('li.' + element_on_device).length ;
			if (total_count == 0 ) {
				$(this).hide();
			}			
		});
    }

    /*
     * Google Analytics for Sticky Elements
     */
    function stickyelements_google_analytics( elementname ){
        if (window.hasOwnProperty("gtag")) {
            gtag('event', 'stickyelements_' + elementname, { 'eventCategory': 'stickyelements_' + elementname, 'event_action': 'stickyelements_' + elementname});
        }
        if (window.hasOwnProperty("ga")) {
            var gaVar = window.ga.getAll()[0];
            if(gaVar) {
                gaVar.send("event", "click", { eventCategory: 'stickyelements_' + elementname, eventAction: 'stickyelements_' + elementname});
            }
        }
    }
    $(window).ready(function() {
        setTimeout(function(){ mystickyelements_border_radius(); }, 1500);
    });

    $('#mystickyelements-contact-form').on( 'hover', function(){
        mystickyelements_border_radius();
    }) ;
    
    jQuery(document).on('click','.mystickyelements-social-text a',function(){
        social_tab_click = 0;
        $(this).parent().parent().removeClass("elements-active");   
    });

    jQuery(document).on("click",".mystickyelements-social-icon a",function(){
        if( /Android|webOS|iPhone|iPad|Mac|Macintosh|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
            
            if( $(this).data('tab-setting') == 'hover' && $(this).data('mobile-behavior') !== 'enable') {
                $(this).parent().parent().removeClass("elements-active");
            } else if( $(this).data('tab-setting') == 'click' && $(this).data('flyout') == 'disable' ){
				$(this).parent().parent().removeClass("elements-active");
            } else{
				if( social_tab_click > 0 ){
					$(this).parent().parent().removeClass("elements-active"); 
                    social_tab_click = -1;
                }
            }
        }else{
			if( $(this).data('flyout') !== 'enable') {
                $(this).parent().parent().removeClass("elements-active");
            } else{
                if( social_tab_click > 0 ){
                    $(this).parent().parent().removeClass("elements-active"); 
                    social_tab_click = -1;
                }
            } 
        }
    });

    jQuery('body').mouseup(function (e) {
        if ( $(e.target).closest(".mystickyelement-lists-wrap").length === 0 ) {
			social_tab_click = 0;				
            jQuery('.mystickyelements-social-icon-li').removeClass('elements-active');        
        }
    });
	
	
	jQuery(document).on("click",".iti--allow-dropdown",function(){
		if( jQuery(this).closest(".mystickyelements-contact-form").data("tab-opt") == "hover" && jQuery(this).closest("#mystickyelements-contact-form").parent().closest(".mystickyelements-on-hover").length > 0 ){
			jQuery(this).closest(".mystickyelements-contact-form").addClass("country-code-trigger");
			jQuery(this).closest(".mystickyelements-contact-form").removeClass("element-contact-active");
			jQuery(this).closest(".mystickyelements-contact-form").addClass("elements-active");


		}
	});
	
	jQuery(document).on("click","ul.iti__country-list li",function(){
		$( ".mystickyelements-contact-form" ).each(function( index ) {            
            /* When select any country then check element-active class on open contact form only. So To avoide other content form */
            if( jQuery(this).data("tab-opt") == "hover" && $(this).data('isphone-formate') == 1 && $(this).hasClass( 'elements-active' )){
				jQuery(this).addClass("element-contact-active");			
				jQuery(this).removeClass("elements-active");
			}	
		});
	});
})( jQuery );

function launch_mystickyelements( ele_no ){
    var ele_device = 'desktop';
    var lists_loop =1;
	ele_no = (typeof ele_no !== 'undefined') ?  ele_no : 1
    if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
        ele_device = 'mobile';
    }
    jQuery('.mystickyelements-fixed .mystickyelements-lists').each(function(){
        if ( lists_loop > 1) {
            return;
        }
        var count = 1;
        jQuery(this).find('li').each(function(){
            /* Return Minimize Element */
            if ( jQuery(this).hasClass('mystickyelements-minimize')) {
                if ( jQuery(this).hasClass('element-minimize')) {
                    jQuery(this).trigger('click');
                }
                return;
            }
            /* Return element device not found */
            if ( !jQuery(this).hasClass('element-' + ele_device + '-on')) {
                return;
            }

            if ( ele_no == count) {
                jQuery(this).addClass('elements-active');
                if ( !jQuery(this).parent().parent().parent().hasClass('mystickyelements-on-click') ) {
                    jQuery(this).parent().parent().parent().addClass('mystickyelements-on-click');
                }
                return false;
            }
            count++;
        });

        lists_loop++;
    });
}


function close_mystickyelements(){
    var ele_device = 'desktop';
    var lists_loop =1;
    if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
        ele_device = 'mobile';
    }

    jQuery('.mystickyelements-fixed .mystickyelements-lists').each(function(){
        jQuery(this).find('li').each(function(){
            if ( jQuery(this).hasClass('elements-active') ) {
                jQuery(this).removeClass('elements-active');
            }
        });
    });
}

function hide_mystickyelements(){
    jQuery('.mystickyelements-fixed').each(function(){
        jQuery(this).hide();
        jQuery.cookie("hide_mystickyelements"  , "closed", { expires: 365, path: '/' });
    });
}

function show_mystickyelements(){
    jQuery('.mystickyelements-fixed').each(function(){
        jQuery(this).show();
        jQuery.cookie("hide_mystickyelements"  , "opened", { expires: 1, path: '/' });
    });
}






--- END FILE ---

--- FILE: js/jquery.cookie.js ---
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2006, 2014 Klaus Hartl
 * Released under the MIT license
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var n=/\+/g;function o(e){return t.raw?e:encodeURIComponent(e)}function i(e){return o(t.json?JSON.stringify(e):String(e))}function r(o,i){var r=t.raw?o:function(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(n," ")),t.json?JSON.parse(e):e}catch(e){}}(o);return e.isFunction(i)?i(r):r}var t=e.cookie=function(n,c,u){if(arguments.length>1&&!e.isFunction(c)){if("number"==typeof(u=e.extend({},t.defaults,u)).expires){var s=u.expires,a=u.expires=new Date;a.setMilliseconds(a.getMilliseconds()+864e5*s)}return document.cookie=[o(n),"=",i(c),u.expires?"; expires="+u.expires.toUTCString():"",u.path?"; path="+u.path:"",u.domain?"; domain="+u.domain:"",u.secure?"; secure":""].join("")}for(var d,f=n?void 0:{},p=document.cookie?document.cookie.split("; "):[],l=0,m=p.length;l<m;l++){var x=p[l].split("="),g=(d=x.shift(),t.raw?d:decodeURIComponent(d)),v=x.join("=");if(n===g){f=r(v,c);break}n||void 0===(v=r(v))||(f[g]=v)}return f};t.defaults={},e.removeCookie=function(n,o){return e.cookie(n,"",e.extend({},o,{expires:-1})),!e.cookie(n)}});

--- END FILE ---

--- FILE: admin/general-settings.php ---
<?php
include('mystickyelements_timezone.php');	

$traffic_source  = ( isset($general_settings['traffic-source'])) ? $general_settings['traffic-source'] : '';
$direct_visit  	 = ( isset($traffic_source['direct-visit'])) ? $traffic_source['direct-visit'] : '';
$social_network  = ( isset($traffic_source['social-network'])) ? $traffic_source['social-network'] : '';
$search_engines  = ( isset($traffic_source['search-engines'])) ? $traffic_source['search-engines'] : '';
$google_ads      = ( isset($traffic_source['google-ads'])) ? $traffic_source['google-ads'] : '';
$other_source_option	= ( isset($traffic_source['other-source-option'])) ? $traffic_source['other-source-option'] : '';
$other_source_url      	= ( isset($traffic_source['other-source-url'])) ? $traffic_source['other-source-url'] : array('');
$general_settings['flyout'] = isset($general_settings['flyout']) ? $general_settings['flyout']: 'enable';
$general_settings['mobile_behavior'] = isset($general_settings['mobile_behavior']) ? $general_settings['mobile_behavior']: 'disable';
$general_settings['google_analytics'] = isset($general_settings['google_analytics']) ? $general_settings['google_analytics'] : '';
$general_settings['form_open_automatic'] = isset($general_settings['form_open_automatic']) ? $general_settings['form_open_automatic'] : '';
$general_settings['minimize_desktop'] = isset($general_settings['minimize_desktop']) ? $general_settings['minimize_desktop'] : '';
$general_settings['minimize_mobile'] = isset($general_settings['minimize_mobile']) ? $general_settings['minimize_mobile'] : '';
$furl = false;
foreach( $other_source_url as $surl ){
	if ( $surl != '') {
		$furl = true;
	}
}
if ( !$furl){
	$other_source_url = array();
}

?>

<div id="mystickyelements-tab-display-settings" class="mystickyelements-tab-display-settings mystickyelements-options"  style="display: <?php echo ( isset($widget_tab_index) && $widget_tab_index == 'mystickyelements-display-settings' ) ? 'block' : 'none'; ?>;">
	<div class="">
		
		<div class="mystickyelements-display-main-options myStickyelements-contact-form-field-advance-tab">
			<div class="myStickyelements-header-title">
				<h3><?php _e('Display & Behavior Settings', 'mystickyelements'); ?></h3>
			</div>
			<div class="myStickyelements-content-section">
				<div class="mystickyelements-content-section-main">
					<div class="mystickyelements-content-section-wrap">
						<span class="myStickyelements-label" ><?php _e( 'Templates', 'mystickyelements' );?></span>
						<div class="myStickyelements-inputs myStickyelements-label">
							<?php $general_settings['templates'] = (isset($general_settings['templates']) && $general_settings['templates']!= '') ? $general_settings['templates'] : 'default'; ?>
							<select id="myStickyelements-inputs-templete" name="general-settings[templates]" >
								<option value="default" <?php selected( @$general_settings['templates'], 'default' ); ?>><?php _e( 'Default', 'mystickyelements' );?></option>
								<option value="sharp" <?php selected( @$general_settings['templates'], 'sharp' ); ?>><?php _e( 'Sharp ', 'mystickyelements' );?></option>
								<option value="roundad" <?php selected( @$general_settings['templates'], 'roundad' ); ?>><?php _e( 'Rounded', 'mystickyelements' );?></option>
								<option value="leaf_right" <?php selected( @$general_settings['templates'], 'leaf_right' ); ?>><?php _e( 'Leaf right', 'mystickyelements' );?></option>
								<option value="round" <?php selected( @$general_settings['templates'], 'round' ); ?>><?php _e( 'Round', 'mystickyelements' );?></option>
								<option value="diamond" <?php selected( @$general_settings['templates'], 'diamond' ); ?>><?php _e( 'Diamond', 'mystickyelements' );?></option>
								<option value="leaf_left" <?php selected( @$general_settings['templates'], 'leaf_left' ); ?>><?php _e( 'Leaf left', 'mystickyelements' );?></option>
								<option value="arrow" <?php selected( @$general_settings['templates'], 'arrow' ); ?>><?php _e( 'Arrow', 'mystickyelements' );?></option>
								<option value="triangle" <?php selected( @$general_settings['templates'], 'triangle' ); ?>><?php _e( 'Triangle', 'mystickyelements' );?></option>
							</select>
						</div>
					</div>
					<div class="mystickyelements-content-section-wrap">
						<span class="myStickyelements-label" ><?php _e( 'Position on desktop', 'mystickyelements' );?></span>
						<div class="myStickyelements-inputs">
							<ul>
								<li>
									<label>
										<input type="radio" name="general-settings[position]" value="left" <?php checked( @$general_settings['position'], 'left' );?> />
										<?php _e( 'Left', 'mystickyelements' );?>
									</label>
								</li>
								<li class="myStickyelements-pos-rtl">
									<label>
										<input type="radio" name="general-settings[position]" value="right" <?php checked( @$general_settings['position'], 'right' );?> />
										<?php _e( 'Right', 'mystickyelements' );?>
									</label>
								</li>
								<li>
									<label>
										<input type="radio" name="general-settings[position]" value="bottom" <?php checked( @$general_settings['position'], 'bottom' );?> />
										<?php _e( 'Bottom', 'mystickyelements' );?>
									</label>
								</li>
							</ul>
						</div>
					</div>
					<div class="myStickyelements-position-on-screen-wrap" style="<?php echo (isset($general_settings['position']) && $general_settings['position'] != 'bottom') ? 'display: none;' : ''; ?>">
						<div class="mystickyelements-content-section-wrap">
							<span class="myStickyelements-label" ><?php _e( 'Position on screen', 'mystickyelements' );?></span>
							<div class="myStickyelements-inputs myStickyelements-label">
								<?php $general_settings['position_on_screen'] = (isset($general_settings['position_on_screen']) && $general_settings['position_on_screen']!= '') ? $general_settings['position_on_screen'] : 'center'; ?>
								<select id="myStickyelements-inputs-position-on-screen" name="general-settings[position_on_screen]" >
									<option value="center" <?php selected( @$general_settings['position_on_screen'], 'center' ); ?>><?php _e( 'Center', 'mystickyelements' );?></option>
									<option value="left" <?php selected( @$general_settings['position_on_screen'], 'left' ); ?>><?php _e( 'Left', 'mystickyelements' );?></option>
									<option value="right" <?php selected( @$general_settings['position_on_screen'], 'right' ); ?>><?php _e( 'Right', 'mystickyelements' );?></option>
								</select>
							</div>
						</div>
					</div>
					<div class="mystickyelements-content-section-wrap">
						<span class="myStickyelements-label" ><?php _e( 'Position on mobile', 'mystickyelements' );?></span>
						<div class="myStickyelements-inputs">
							<ul>
								<li>
									<label>
										<input type="radio" name="general-settings[position_mobile]" value="left" <?php checked( @$general_settings['position_mobile'], 'left' );?> />
										<?php _e( 'Left', 'mystickyelements' );?>
									</label>
								</li>
								<li class="myStickyelements-pos-rtl">
									<label>
										<input type="radio" name="general-settings[position_mobile]" value="right" <?php checked( @$general_settings['position_mobile'], 'right' );?> />
										<?php _e( 'Right', 'mystickyelements' );?>
									</label>
								</li>
								<li>
									<label>
										<input type="radio" name="general-settings[position_mobile]" value="top" <?php checked( @$general_settings['position_mobile'], 'top' );?> />
										<?php _e( 'Top', 'mystickyelements' );?>
									</label>
								</li>
								<li>
									<label>
										<input type="radio" name="general-settings[position_mobile]" value="bottom" <?php checked( @$general_settings['position_mobile'], 'bottom' );?> />
										<?php _e( 'Bottom', 'mystickyelements' );?>
									</label>
								</li>
							</ul>
						</div>
					</div>
					<div class="myStickyelements-position-desktop-wrap" style="<?php echo (isset($general_settings['position']) && $general_settings['position'] == 'bottom') ? 'display: none;' : ''; ?>">
						<div class="mystickyelements-content-section-wrap">
							<span class="myStickyelements-label" >
								<label for="custom_position"><?php _e( 'On-Screen Position Y Desktop', 'mystickyelements' );?></label>
								<?php if(!$is_pro_active) {?><span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span><?php } ?>
							</span>

							<div class="myStickyelements-inputs">
								<div class="px-wrap px-wrap-left">
									<input  <?php echo !$is_pro_active?"disabled":"" ?> type="number" id="custom_position"  name="general-settings[custom_position]" value="<?php echo @$general_settings['custom_position'];?>" placeholder="[optional]" />
									<span class="input-px">PX</span>
								</div>
								<div class="px-wrap px-wrap-right">
									<select name="general-settings[custom_position_from]">
										<option value="bottom" <?php if(isset($general_settings['custom_position_from']) && $general_settings['custom_position_from'] == 'bottom'): echo "selected"; endif; ?>>From bottom</option>
										<option value="top" <?php if(isset($general_settings['custom_position_from']) && $general_settings['custom_position_from'] == 'top'): echo "selected"; endif; ?>>From top</option>
									</select>
								</div>
								
							</div>
						</div>
					</div>
					<div class="myStickyelements-position-mobile-wrap" style="<?php echo (isset($general_settings['position_mobile']) && ($general_settings['position'] == 'bottom' || $general_settings['position'] == 'top' )) ? 'display: none;' : ''; ?>">
						<div class="mystickyelements-content-section-wrap">
							<span class="myStickyelements-label" >
								<label for="custom_position_mobile"><?php _e( 'On-Screen Position Y Mobile', 'mystickyelements' );?></label>
								<?php if(!$is_pro_active) {?><span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span><?php } ?>
							</span>

							<div class="myStickyelements-inputs">
								<div class="px-wrap px-wrap-left">
									<input  <?php echo !$is_pro_active?"disabled":"" ?> type="number" id="custom_position_mobile"  name="general-settings[custom_position_mobile]" value="<?php echo @$general_settings['custom_position_mobile'];?>" placeholder="[optional]" />
									<span class="input-px">PX</span>
								</div>
								<div class="px-wrap px-wrap-right">
									<select name="general-settings[custom_position_from_mobile]">
										<option value="bottom" <?php if(isset($general_settings['custom_position_from_mobile']) && $general_settings['custom_position_from_mobile'] == 'bottom'): echo "selected"; endif; ?>>From bottom</option>
										<option value="top" <?php if(isset($general_settings['custom_position_from_mobile']) && $general_settings['custom_position_from_mobile'] == 'top'): echo "selected"; endif; ?>>From top</option>
									</select>
								</div>
							</div>
						</div>
					</div>
					
                    <!--<div class="more-setting-rows"> -->
					<div class="mystickyelements-content-section-wrap">
						<span class="myStickyelements-label" >
						<label>
							<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
								<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
								<p><?php esc_html_e("Configure when the tabs will slide out with the full text", 'mystickyelements'); ?></p>
							</div>
							<?php _e( 'Open tabs when', 'mystickyelements' );?>
						</label>
						
						</span>
						<div class="myStickyelements-inputs">
							<ul>
								<li>
									<label>
										<input type="radio" name="general-settings[open_tabs_when]" value="hover" <?php checked( @$general_settings['open_tabs_when'], 'hover' );?> />
										<?php _e( 'Hover', 'mystickyelements' );?>
									</label>
								</li>
								<li>
									<label>
										<input type="radio" name="general-settings[open_tabs_when]" value="click" <?php checked( @$general_settings['open_tabs_when'], 'click' );?> />
										<?php _e( 'Click', 'mystickyelements' );?>
									</label>
								</li>
							</ul>
						</div>
					</div>
						
					<!--</div> -->
					<div class="mystickyelements-content-section-wrap" id="mystickyelements-tab-hover-bebahvior">
						<span class="myStickyelements-label" >
						<label>
							<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
								<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
								<p><?php esc_html_e("When turned on (on mobile), the first tap, will show the hover text first and it'll stay until the second tap", 'mystickyelements'); ?></p>
							</div>
							<?php _e( 'Improved mobile behavior', 'mystickyelements' );?>
						</label>
						
						</span>
						<div class="myStickyelements-inputs">
							<ul>
								<li>
									<label>
										<input type="radio" name="general-settings[mobile_behavior]" value="disable" <?php checked( @$general_settings['mobile_behavior'], 'disable' );?> />
										<span><?php _e( 'First tap opens link', 'mystickyelements' );?></span>
									</label>
								</li>
								<li>
									<label>
										<input type="radio" name="general-settings[mobile_behavior]" value="enable" <?php checked( @$general_settings['mobile_behavior'], 'enable' );?> />
										<span><?php _e( 'First tap opens flyout', 'mystickyelements' );?></span>
									</label>
								</li>
								
							</ul>
						</div>
					</div>

					<div class="mystickyelements-content-section-wrap" id="mystickyelements-tab-flyout" style="display:none;">
						<span class="myStickyelements-label" >
						<label>
							<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
								<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
								<p><?php esc_html_e("If enabled, first click would open the flyout menu and second click would take users to the actual link", 'mystickyelements'); ?></p>
							</div>
							<?php _e( 'Flyout Option', 'mystickyelements' );?>
						</label>
						
						</span>
						<div class="myStickyelements-inputs">
							<ul>
								<li>
									<label>
										<input type="radio" name="general-settings[flyout]" value="enable" <?php checked( @$general_settings['flyout'], 'enable' );?> />
										<?php _e( 'First click opens the flyout', 'mystickyelements' );?>
									</label>
								</li>
								<li>
									<label>
										<input type="radio" name="general-settings[flyout]" value="disable" <?php checked( @$general_settings['flyout'], 'disable' );?> />
										<?php _e( 'First click opens the link', 'mystickyelements' );?>
									</label>
								</li>
							</ul>
						</div>
					</div>
						
						
					<!--<div class="more-setting-rows"> -->
					<div class="mystickyelements-content-section-wrap">
						<span class="myStickyelements-label" >
							<label for="myStickyelements-google-alanytics-enabled">
								<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
									<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
									<p><?php esc_html_e("If enabled, you can track clicks to your widget using ", 'mystickyelements'); ?><a href='https://premio.io/help/mystickyelements/how-do-i-track-clicks-using-google-analytics/' target='_blank'><?php esc_html_e("Google Analytics","mystickyelements"); ?></a></p>
								</div>
								<?php _e( 'Google Analytics Events', 'mystickyelements' );?>
							</label>
							
							<?php if(!$is_pro_active) {?><span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span><?php } ?>
						</span>
						<div class="myStickyelements-inputs myStickyelements-label">
							<label for="myStickyelements-google-alanytics-enabled" class="myStickyelements-switch" >
								<input type="checkbox" id="myStickyelements-google-alanytics-enabled" name="general-settings[google_analytics]" value="1" <?php checked( @$general_settings['google_analytics'], '1' );?> <?php echo !$is_pro_active?"disabled":"" ?>  />
								<span class="slider round"></span>
							</label>
						</div>
					</div>
					<!-- </div> -->
					
				<!--	<div class="more-setting-rows">  -->
						<div class="mystickyelements-content-section-wrap">
							<span class="myStickyelements-label" >
								<?php _e( 'Font Family', 'mystickyelements' );?></label>
							</span>
							<div class="myStickyelements-inputs myStickyelements-label">
								<select name="general-settings[font_family]" class="form-fonts">
									<option value=""><?php _e( 'Select font family', 'mystickyelements' );?></option>
									<?php $group= ''; 
										foreach( mystickyelements_fonts() as $key=>$value):
												if ($value != $group){
													echo '<optgroup label="' . $value . '">';
													$group = $value;
												}
											?>
										<option value="<?php echo $key;?>" <?php selected( @$general_settings['font_family'], $key ); ?>><?php echo $key;?></option>
									<?php endforeach;?>
								</select>
								
								<input type="hidden" name="general-settings[is_select_google_fonts]" id="is_select_google_fonts" value="<?php echo isset($general_settings['is_select_google_fonts']) ? $general_settings['is_select_google_fonts'] : '0'; ?>">
							</div>
						</div>
						
						<div class="mystickyelements-content-section-wrap load-google-fonts-enabled" style="display:<?php echo (isset($general_settings['is_select_google_fonts']) && $general_settings['is_select_google_fonts'] == 1) ? 'flex' : 'none';?>;">
							<span class="myStickyelements-label" >
								<label for="myStickyelements-load-google-fonts-enabled">
									<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
										<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
										<p><?php esc_html_e("Disabling the feature will stop loading the fonts from  Google's server and you have to manually load the font to make it work", 'mystickyelements'); ?></p>
									</div>
									<?php _e( 'Load Google fonts from Google (By default stays turned on)', 'mystickyelements' );?>
								</label>
							</span>
							<div class="myStickyelements-inputs myStickyelements-label">
								<label for="myStickyelements-load-google-fonts-enable" class="myStickyelements-switch" >
									<input type="checkbox" id="myStickyelements-load-google-fonts-enable" name="general-settings[load_google_fonts]" value="1" <?php checked( @$general_settings['load_google_fonts'], '1' );?>  />
									<span class="slider round"></span>
								</label>
							</div>
						</div>
						
				<!--	</div>  -->
					<!-- <div class="more-setting-rows">-->
						<div class="mystickyelements-content-section-wrap">
							<span class="myStickyelements-label" >
								<?php _e( 'Desktop Widget Size', 'mystickyelements' );?>
							</span>
							<div class="myStickyelements-inputs myStickyelements-label">
								<?php $general_settings['widget-size'] = (isset($general_settings['widget-size']) && $general_settings['widget-size']!= '') ? $general_settings['widget-size'] : 'medium'; ?>
								<select id="myStickyelements-widget-size" name="general-settings[widget-size]" >
									<option value="small" <?php selected( @$general_settings['widget-size'], 'small' ); ?>><?php _e( 'Small', 'mystickyelements' );?></option>
									<option value="medium" <?php selected( @$general_settings['widget-size'], 'medium' ); ?>><?php _e( 'Medium', 'mystickyelements' );?></option>
									<option value="large" <?php selected( @$general_settings['widget-size'], 'large' ); ?>><?php _e( 'Large', 'mystickyelements' );?></option>
									<option value="extra-large" <?php selected( @$general_settings['widget-size'], 'extra-large' ); ?>><?php _e( 'Extra Large', 'mystickyelements' );?></option>
								</select>
							</div>
						</div>
					<!-- </div> -->
					<!--<div class="more-setting-rows"> -->
						<div class="mystickyelements-content-section-wrap">
							<span class="myStickyelements-label" >
								<?php _e( 'Mobile Widget size', 'mystickyelements' );?>
							</span>
							<div class="myStickyelements-inputs myStickyelements-label">
								<?php $general_settings['mobile-widget-size'] = (isset($general_settings['mobile-widget-size']) && $general_settings['mobile-widget-size']!= '') ? $general_settings['mobile-widget-size'] : 'medium'; ?>
								<select id="myStickyelements-widget-mobile-size" name="general-settings[mobile-widget-size]" >
									<option value="small" <?php selected( @$general_settings['mobile-widget-size'], 'small' ); ?>><?php _e( 'Small', 'mystickyelements' );?></option>
									<option value="medium" <?php selected( @$general_settings['mobile-widget-size'], 'medium' ); ?>><?php _e( 'Medium', 'mystickyelements' );?></option>
									<option value="large" <?php selected( @$general_settings['mobile-widget-size'], 'large' ); ?>><?php _e( 'Large', 'mystickyelements' );?></option>
								</select>
							</div>
						</div>
					<!-- </div>-->
					<!-- <div class="more-setting-rows"> -->
						<div class="mystickyelements-content-section-wrap">
							<span class="myStickyelements-label" >
								<?php _e( 'Entry effect', 'mystickyelements' );?></label>
							</span>
							<div class="myStickyelements-inputs myStickyelements-label">
								<?php $general_settings['entry-effect'] = (isset($general_settings['entry-effect']) && $general_settings['entry-effect']!= '') ? $general_settings['entry-effect'] : 'slide-in'; ?>
								<select id="myStickyelements-entry-effect" name="general-settings[entry-effect]" >
									<option value="none" <?php selected( @$general_settings['entry-effect'], 'none' ); ?>><?php _e( 'None', 'mystickyelements' );?></option>
									<option value="slide-in" <?php selected( @$general_settings['entry-effect'], 'slide-in' ); ?>><?php _e( 'Slide in', 'mystickyelements' );?></option>
									<option value="fade" <?php selected( @$general_settings['entry-effect'], 'fade' ); ?>><?php _e( 'Fade', 'mystickyelements' );?></option>
								</select>
							</div>
						</div>
						
				<!--	</div> -->
				
					
						<div class="mystickyelements-content-section-wrap">
							<span class="myStickyelements-label">
								<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip" style="margin-top: 5px;">
									<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
									<p><?php echo esc_html_e("Your My Sticky Elements widget will first appear to the user according to the selected trigger. After the widget appeared for the first time, it'll always be visible on-load - once the user is aware of the widget, the user expects it to always appear","myStickyelements");?></p>
								</div>
								<label for="myStickyelements-time-delay">Time delay</label>
								<?php if(!$is_pro_active) {?><span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span><?php } ?>
							</span>
							<div class="myStickyelements-inputs myStickyelements-label myStickyelements-time-delay">
								<label for="myStickyelements-time-delay" class="myStickyelements-switch">
									<input type="checkbox" id="myStickyelements-time-delay" name="general-settings[time_delay]" <?php checked(@$general_settings['time_delay'],'1') ?> value="<?php echo isset($general_settings['time_delay']) ? $general_settings['time_delay'] : '1'; ?>" <?php if(!$is_pro_active):?> disabled="disabled" <?php endif;?>>
									<span class="slider round"></span>
								</label>
								&nbsp;<span class="input-time-delay-sec" style="margin-left: 10px;display:<?php echo isset($general_settings['time_delay']) ? 'inline' : 'none';?>"><?php echo _e("Display after ","myStickyelements");?><input type="number" name="general-settings[timer_delay_sec]"  min="0" value="<?php echo ( isset($general_settings['timer_delay_sec']) && $general_settings['timer_delay_sec'] != '' ) ? $general_settings['timer_delay_sec'] : '0' ; ?>" <?php if(isset($general_settings['time_delay']) && $general_settings['time_delay'] != 1 ): ?> disabled="disabled" <?php endif; ?>><?php echo _e(" seconds on the page","myStickyelements"); ?></span>
							</div>
						</div>
					

					<!-- Show On Pages Rules -->
					<!-- <div class="show-on-apper more-setting-rows"> -->
						<div class="myStickyelements-show-on-wrap mystickyelements-content-section-wrap show-on-apper">
							<span class="myStickyelements-label myStickyelements-extra-label">
								<label>
									<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
										<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
										<p><?php esc_html_e("Show or don't show the widget on specific pages. You can use rules like contains, exact match, starts with, and ends with", 'mystickyelements'); ?></p>
									</div>
									<?php _e( 'Show on Pages', 'mystickyelements' );?>
								</label>
								<?php if(!$is_pro_active) {?><span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span><?php } ?>
							</span>
							<div class="myStickyelements-show-on-right">
								<div class="myStickyelements-page-options myStickyelements-inputs" id="myStickyelements-page-options">
									<?php $page_option = (isset($general_settings['page_settings'])) ? $general_settings['page_settings'] : array();
									$url_options = array(
										'page_contains' => 'pages that contain',
										'page_has_url' => 'a specific page',
										'page_start_with' => 'pages starting with',
										'page_end_with' => 'pages ending with',
									);

									if(!empty($page_option) && is_array($page_option)) {
										$count = 0;
										foreach($page_option as $k=>$option) {
											$count++;
											?>
											<div class="myStickyelements-page-option <?php echo $k==count($page_option)?"last":""; ?>">
												<div class="url-content">
													<div class="myStickyelements-url-select">
														<select name="general-settings[page_settings][<?php echo $count; ?>][shown_on]" id="url_shown_on_<?php echo $count  ?>_option">
															<option value="show_on" <?php echo $option['shown_on']=="show_on"?"selected":"" ?> ><?php esc_html_e( 'Show on', 'mystickyelements' )?></option>
															<option value="not_show_on" <?php echo $option['shown_on']=="not_show_on"?"selected":"" ?>><?php esc_html_e( "Don't show on", "mystickyelements" );?></option>
														</select>
													</div>
													<div class="myStickyelements-url-option">
														<select class="myStickyelements-url-options" name="general-settings[page_settings][<?php echo $count; ?>][option]" id="url_rules_<?php echo $count  ?>_option">
															<option disabled value=""><?php esc_html_e( "Select Rule", "mystickyelements" );?></option>
															<?php foreach($url_options as $key=>$value) {
																$selected = ( isset($option['option']) && $option['option']==$key )?" selected='selected' ":"";
																echo '<option '.$selected.' value="'.$key.'">'.$value.'</option>';
															} ?>
														</select>
													</div>
													<div class="myStickyelements-url-box">
														<span class='myStickyelements-url'><?php echo site_url("/"); ?></span>
													</div>
													<div class="myStickyelements-url-values">
														<input type="text" value="<?php echo $option['value'] ?>" name="general-settings[page_settings][<?php echo $count; ?>][value]" id="url_rules_<?php echo $count; ?>_value" />
													</div>
													<div class="myStickyelements-url-buttons">
														<a class="myStickyelements-remove-rule" href="javascript:;">x</a>
													</div>
													<div class="clear"></div>
												</div>
											</div>
											<?php
										}
									}
									?>
								</div>
								
								<a href="javascript:void(0);" class="create-rule" id="create-rule"><?php esc_html_e( "Add Rule", "mystickyelements" );?></a>
								<a href="javascript:void(0);" class="create-rule remove-rule" id="remove-page-rules" <?php if(empty($page_option) ) :?>style="display:none" <?php endif;?>><?php esc_html_e( "Remove Rules", "mystickyelements" );?></a>
							</div>
						</div>
					<!-- </div> -->
					<!-- END Show on Pages -->
					
					<!-- Show On Days & Hours -->
					<!-- <div class="show-on-apper more-setting-rows"> -->
						<div class="myStickyelements-show-on-wrap mystickyelements-content-section-wrap">
							<span class="myStickyelements-label myStickyelements-extra-label">
								<label>
									<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
										<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
										<p><?php esc_html_e("Display the widget on specific days and hours based on your opening days and hours", 'mystickyelements'); ?></p>
									</div>
									<?php _e( 'Days and Hours', 'mystickyelements' );?>
								</label>
								<?php if(!$is_pro_active) {?><span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span><?php } ?>
							</span>
							<div class="myStickyelements-show-on-right">
								<div class="myStickyelements-days-hours-options myStickyelements-inputs" id="myStickyelements-days-hours-options">
									<?php 
									$days_hours = (isset($general_settings['days-hours'])) ? $general_settings['days-hours'] : array();
									$days = array(
													"0" => "Everyday of week",
													"1" => "Sunday",
													"2" => "Monday",
													"3" => "Tuesday",
													"4" => "Wednesday",
													"5" => "Thursday",
													"6" => "Friday",
													"7" => "Saturday",
													"8" => "Sunday to Thursday",
													"9" => "Monday to Friday",
													"10" => "Weekend",
												);

									if(!empty($days_hours) && is_array($days_hours)) {
										$count = 0;
										foreach($days_hours as $k=> $day_hour) {
											$count++;
											?>
											<div class="myStickyelements-page-option <?php echo $k==count($days_hours)?"last":""; ?>">
												<div class="url-content">
													<div class="myStickyelements-url-select">
														<select name="general-settings[days-hours][<?php echo $count; ?>][days]" id="url_shown_on_<?php echo $count  ?>_option">
															<?php foreach ($days as $key=>$value) { ?>
																<option <?php echo ($key == $day_hour['days'])?'selected="selected"':''; ?> value="<?php echo $key; ?>"><?php echo $value; ?></option>
															<?php } ?>
														</select>
													</div>
													<div class="myStickyelements-url-option">
														<label class="myStickyelements-days-hours-label-wrap">
															<span class="myStickyelements-days-hours-label">From</span>
															<input type="text" class=" time-picker ui-timepicker-input timepicker_time"  value="<?php echo $day_hour['start_time']; ?>" name="general-settings[days-hours][<?php echo $count; ?>][start_time]" id="start_time_<?php echo $count ?>" />
														</label>
													</div>
													<div class="myStickyelements-url-box">
														<label class="myStickyelements-days-hours-label-wrap">
															<span class="myStickyelements-days-hours-label">To</span>
															<input type="text" class=" time-picker ui-timepicker-input timepicker_time"  value="<?php echo $day_hour['end_time']; ?>" name="general-settings[days-hours][<?php echo $count ?>][end_time]" id="end_time_<?php echo $count ?>" />
														</label>
													</div>
													<div class="myStickyelements-url-values">
														<label class="myStickyelements-days-hours-label-wrap">
															<span class="myStickyelements-days-hours-label">Time Zone</span>
															<select class=" gmt-data stickyelement-gmt-timezone gmt-timezone" name="general-settings[days-hours][<?php echo $count; ?>][gmt]" id="url_shown_on_<?php echo $count; ?>_option">
																<?php echo stickyelement_timezone_choice( $day_hour['gmt'], false );?>
															</select>
														</label>
													</div>
													<?php if (isset($is_pro_active) && !$is_pro_active ) { ?>
													<span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements'); ?></a></span>
												<?php } ?>
													<div class="myStickyelements-url-buttons">
														<a class="myStickyelements-remove-rule" href="javascript:;">x</a>
													</div>
													<div class="clear"></div>
												</div>
											</div>
											<?php
										}
									}
									?>
								</div>
								
								<a href="javascript:void(0);" class="create-rule" id="create-data-and-time-rule"><?php esc_html_e( "Add Rule", "mystickyelements" );?></a>
								<a href="javascript:void(0);" class="create-rule remove-rule" id="remove-data-and-time-rule"<?php if(empty($days_hours) ) :?> style="display:none" <?php endif;?>><?php esc_html_e( "Remove Rules", "mystickyelements" );?></a>
							</div>
						</div>
					<!--</div> -->
					<!-- END Days and Hours -->					
					
					<!-- Traffic Source -->
					<!-- <div class="more-setting-rows"> -->
						<div class="mystickyelements-content-section-wrap">
							<span class="myStickyelements-label myStickyelements-extra-label" >
								<label for="traffic-add-other-source">
									<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
										<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
										<p><?php esc_html_e("Show the widget only to visitors who come from specific traffic sources including direct traffic, social networks, search engines, Google Ads, or any other traffic source", 'mystickyelements'); ?></p>
									</div>
									<?php _e( "Traffic source", 'mystickyelements' );?>
								</label>
								<?php if(!$is_pro_active) {?><span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span><?php } ?>
							</span>
							<div class="myStickyelements-show-on-right myStickyelements-inputs myStickyelements-traffic-source-right">
								<div class=" myStickyelements-label myStickyelements-traffic-source-inputs traffic-source-option <?php echo esc_attr($is_pro_active?"is-pro":"not-pro") ?>" <?php if ( $direct_visit == '' && $social_network == '' && $search_engines == '' && $google_ads == '' && empty($other_source_url) ):?>style="display:none;" <?php endif;?>>
									<div class="traffic-direct-source clear">
										<label class="myStickyelements-switch">
											<input type="checkbox" id="myStickyelements-direct-traffic-source" <?php if($is_pro_active){ ?>name="general-settings[traffic-source][direct-visit]"<?php } ?> value="1"  <?php if($direct_visit == "1"){ echo "checked"; } ?>  <?php echo !$is_pro_active?"disabled":"" ?> />
											<span class="slider round"></span>
										</label>
										<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
											<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
											<p><?php esc_html_e("Show the widget to visitors who arrived to your website from direct traffic", 'mystickyelements'); ?></p>
										</div>
										<label for="myStickyelements-direct-traffic-source">
											Direct visit
										</label>
									</div>
									<br />
									<div class="traffic-social-network-source clear">
										<label class="myStickyelements-switch">
											<input type="checkbox" id="myStickyelements-social-network-traffic-source" <?php if($is_pro_active){ ?>name="general-settings[traffic-source][social-network]"<?php } ?> value="1"  <?php if($social_network == "1"){ echo "checked"; } ?>  <?php echo !$is_pro_active?"disabled":"" ?> />
											<span class="slider round"></span>
										</label>
										<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
											<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
											<p><?php esc_html_e("Show the widget to visitors who arrived to your website from social networks including: Facebook, Twitter, Pinterest, Instagram, Google+, LinkedIn, Delicious, Tumblr, Dribbble, StumbleUpon, Flickr, Plaxo, Digg and more", 'mystickyelements'); ?></p>
										</div>
										<label for="myStickyelements-social-network-traffic-source">
											Social networks
										</label>
									</div>
									<br />
									<div class="traffic-search-engines-source clear">
										<label class="myStickyelements-switch">
											<input type="checkbox" id="myStickyelements-search-engines-traffic-source" <?php if($is_pro_active){ ?>name="general-settings[traffic-source][search-engines]"<?php } ?> value="1"  <?php if($search_engines == "1"){ echo "checked"; } ?>  <?php echo !$is_pro_active?"disabled":"" ?> />
											<span class="slider round"></span>
										</label>
										<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
											<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
											<p><?php esc_html_e("Show the widget to visitors who arrived from search engines including: Google, Bing, Yahoo!, Yandex, AOL, Ask, WOW,  WebCrawler, Baidu and more", 'mystickyelements'); ?></p>
										</div>
										<label for="myStickyelements-search-engines-traffic-source">
											Search engines
										</label>
									</div>
									<br />
									<div class="traffic-google-ads-source clear">
										<label class="myStickyelements-switch">
											<input type="checkbox" id="myStickyelements-google-ads-traffic-source" <?php if($is_pro_active){ ?>name="general-settings[traffic-source][google-ads]" <?php } ?> value="1" <?php if($google_ads == "1"){ echo "checked"; } ?>  <?php echo !$is_pro_active?"disabled":"" ?> />
											<span class="slider round"></span>
										</label>
										<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
											<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
											<p><?php esc_html_e("Show the widget to visitors who arrived from search engines including: Google, Bing, Yahoo!, Yandex, AOL, Ask, WOW,  WebCrawler, Baidu and more", 'mystickyelements'); ?></p>
										</div>
										<label for="myStickyelements-google-ads-traffic-source">
										
											Google Ads
											
										</label>
									</div>
									<br />
									<div class="traffic-other-source clear">
										<div class="other-source-features clear">
											<table id="custom-traffic-source-lists" width="100%">
												<thead>
													<tr>
														<th colspan="3">Specific URL</th>
													</tr>
												</thead>
												<tbody>
													<?php if ( !empty($other_source_url)): ?>
														<?php for($i=0; $i<sizeof($other_source_url); $i++ ):?>
															<tr>
																<td>
																	<select <?php if($is_pro_active){ ?>name="general-settings[traffic-source][other-source-option][]"<?php }?>  <?php echo !$is_pro_active?"disabled":"" ?> >
																		<option value="contain" <?php if($other_source_option[$i] == "contain"){ echo "selected"; } ?> >Contains</option>
																		<option value="not_contain" <?php if($other_source_option[$i] == "not_contain"){ echo "selected"; } ?> >Not contains</option>
																	</select>
																</td>
																<td>
																	<input type="text" <?php if($is_pro_active){ ?>name="general-settings[traffic-source][other-source-url][]"<?php }?> value="<?php echo $other_source_url[$i];?>" placeholder="http://www.example.com"  <?php echo !$is_pro_active?"disabled":"" ?> />
																</td>
																<td>
																	<div class="day-buttons">
																		<a href="javascript:;" class="traffic-delete-other-source">X</a>
																	</div>
																</td>									
															</tr>
														<?php endfor;?>
														
													<?php else : ?>
														<tr>
															<td>
																<select <?php if($is_pro_active){ ?>name="general-settings[traffic-source][other-source-option][]"<?php }?> <?php echo !$is_pro_active?"disabled":"" ?> >
																	<option value="contain">Contains</option>
																	<option value="not_contain">Not contains</option>
																</select>
															</td>
															<td>
																<input type="text" <?php if($is_pro_active){ ?>name="general-settings[traffic-source][other-source-url][]"<?php }?> value="" placeholder="http://www.example.com" <?php echo !$is_pro_active?"disabled":"" ?> />
															</td>
															<td>
																<div class="day-buttons">
																	<a href="javascript:;" class="traffic-delete-other-source">X</a>
																</div>
															</td>								
														</tr>
													<?php endif;?>
												</tbody>
											</table>							
										</div>
									</div>
									<?php if(!$is_pro_active) {?>
										<span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span>
									<?php } ?>
								</div>
								<?php if ( $direct_visit == '' && $social_network == '' && $search_engines == '' && $google_ads == '' && empty($other_source_url) ){
									$traffic_class	= 'traffic-add-source';
								} else {
									$traffic_class	= 'traffic-add-other-source';
								}
								?>
								<a href="javascript:void(0);" class="<?php echo $traffic_class;?> create-rule" id="traffic-add-other-source"><?php esc_html_e( "Add Rule", "mystickyelements" );?></a>
								<a href="javascript:void(0);" class="create-rule remove-rule" id="remove-traffic-add-other-source" <?php if ( $direct_visit == '' && $social_network == '' && $search_engines == '' && $google_ads == '' && empty($other_source_url) ):?> style="display:none"<?php endif;?>><?php esc_html_e( "Remove Rules", "mystickyelements" );?></a>
							</div>
						</div>
					<!--</div> -->
					
					<!-- END Traffic Source -->
					<?php $countries = array(array("short_name" => "AF", "country_name" => "Afghanistan"), array("short_name" => "AL", "country_name" => "Albania"), array("short_name" => "DZ", "country_name" => "Algeria"), array("short_name" => "AD", "country_name" => "Andorra"), array("short_name" => "AO", "country_name" => "Angola"), array("short_name" => "AI", "country_name" => "Anguilla"), array("short_name" => "AG", "country_name" => "Antigua and Barbuda"), array("short_name" => "AR", "country_name" => "Argentina"), array("short_name" => "AM", "country_name" => "Armenia"), array("short_name" => "AW", "country_name" => "Aruba"), array("short_name" => "AU", "country_name" => "Australia"), array("short_name" => "AT", "country_name" => "Austria"), array("short_name" => "AZ", "country_name" => "Azerbaijan"), array("short_name" => "BS", "country_name" => "Bahamas"), array("short_name" => "BH", "country_name" => "Bahrain"), array("short_name" => "BD", "country_name" => "Bangladesh"), array("short_name" => "BB", "country_name" => "Barbados"), array("short_name" => "BY", "country_name" => "Belarus"), array("short_name" => "BE", "country_name" => "Belgium"), array("short_name" => "BZ", "country_name" => "Belize"), array("short_name" => "BJ", "country_name" => "Benin"), array("short_name" => "BM", "country_name" => "Bermuda"), array("short_name" => "BT", "country_name" => "Bhutan"), array("short_name" => "BO", "country_name" => "Bolivia"), array("short_name" => "BA", "country_name" => "Bosnia and Herzegowina"), array("short_name" => "BW", "country_name" => "Botswana"), array("short_name" => "BV", "country_name" => "Bouvet Island"), array("short_name" => "BR", "country_name" => "Brazil"), array("short_name" => "IO", "country_name" => "British Indian Ocean Territory"), array("short_name" => "BN", "country_name" => "Brunei Darussalam"), array("short_name" => "BG", "country_name" => "Bulgaria"), array("short_name" => "BF", "country_name" => "Burkina Faso"), array("short_name" => "BI", "country_name" => "Burundi"), array("short_name" => "KH", "country_name" => "Cambodia"), array("short_name" => "CM", "country_name" => "Cameroon (Republic of Cameroon)"), array("short_name" => "CA", "country_name" => "Canada"), array("short_name" => "CV", "country_name" => "Cape Verde"), array("short_name" => "KY", "country_name" => "Cayman Islands"), array("short_name" => "CF", "country_name" => "Central African Republic"), array("short_name" => "TD", "country_name" => "Chad"), array("short_name" => "CL", "country_name" => "Chile"), array("short_name" => "CN", "country_name" => "China"), array("short_name" => "CX", "country_name" => "Christmas Island"), array("short_name" => "CC", "country_name" => "Cocos (Keeling) Islands"), array("short_name" => "CO", "country_name" => "Colombia"), array("short_name" => "KM", "country_name" => "Comoros"), array("short_name" => "CG", "country_name" => "Congo"), array("short_name" => "CK", "country_name" => "Cook Islands"), array("short_name" => "CR", "country_name" => "Costa Rica"), array("short_name" => "CI", "country_name" => "Cote D\Ivoire"), array("short_name" => "HR", "country_name" => "Croatia"), array("short_name" => "CU", "country_name" => "Cuba"), array("short_name" => "CY", "country_name" => "Cyprus"), array("short_name" => "CZ", "country_name" => "Czech Republic"), array("short_name" => "DK", "country_name" => "Denmark"), array("short_name" => "DJ", "country_name" => "Djibouti"), array("short_name" => "DM", "country_name" => "Dominica"), array("short_name" => "DO", "country_name" => "Dominican Republic"), array("short_name" => "EC", "country_name" => "Ecuador"), array("short_name" => "EG", "country_name" => "Egypt"), array("short_name" => "SV", "country_name" => "El Salvador"), array("short_name" => "GQ", "country_name" => "Equatorial Guinea"), array("short_name" => "ER", "country_name" => "Eritrea"), array("short_name" => "EE", "country_name" => "Estonia"), array("short_name" => "ET", "country_name" => "Ethiopia"), array("short_name" => "FK", "country_name" => "Falkland Islands (Malvinas)"), array("short_name" => "FO", "country_name" => "Faroe Islands"), array("short_name" => "FJ", "country_name" => "Fiji"), array("short_name" => "FI", "country_name" => "Finland"), array("short_name" => "FR", "country_name" => "France"), array("short_name" => "Me", "country_name" => "Montenegro"), array("short_name" => "GF", "country_name" => "French Guiana"), array("short_name" => "PF", "country_name" => "French Polynesia"), array("short_name" => "TF", "country_name" => "French Southern Territories"), array("short_name" => "GA", "country_name" => "Gabon"), array("short_name" => "GM", "country_name" => "Gambia"), array("short_name" => "GE", "country_name" => "Georgia"), array("short_name" => "DE", "country_name" => "Germany"), array("short_name" => "GH", "country_name" => "Ghana"), array("short_name" => "GI", "country_name" => "Gibraltar"), array("short_name" => "GR", "country_name" => "Greece"), array("short_name" => "GL", "country_name" => "Greenland"), array("short_name" => "GD", "country_name" => "Grenada"), array("short_name" => "GP", "country_name" => "Guadeloupe"), array("short_name" => "GT", "country_name" => "Guatemala"), array("short_name" => "GN", "country_name" => "Guinea"), array("short_name" => "GW", "country_name" => "Guinea bissau"), array("short_name" => "GY", "country_name" => "Guyana"), array("short_name" => "HT", "country_name" => "Haiti"), array("short_name" => "HM", "country_name" => "Heard Island And Mcdonald Islands"), array("short_name" => "HN", "country_name" => "Honduras"), array("short_name" => "HK", "country_name" => "Hong Kong"), array("short_name" => "HU", "country_name" => "Hungary"), array("short_name" => "IS", "country_name" => "Iceland"), array("short_name" => "IN", "country_name" => "India"), array("short_name" => "ID", "country_name" => "Indonesia"), array("short_name" => "IR", "country_name" => "Iran, Islamic Republic Of"), array("short_name" => "IQ", "country_name" => "Iraq"), array("short_name" => "IE", "country_name" => "Ireland"), array("short_name" => "IL", "country_name" => "Israel"), array("short_name" => "IT", "country_name" => "Italy"), array("short_name" => "JM", "country_name" => "Jamaica"), array("short_name" => "JP", "country_name" => "Japan"), array("short_name" => "JO", "country_name" => "Jordan"), array("short_name" => "KZ", "country_name" => "Kazakhstan"), array("short_name" => "KE", "country_name" => "Kenya"), array("short_name" => "KI", "country_name" => "Kiribati"), array("short_name" => "KP", "country_name" => "Korea, Democratic People's Republic Of"), array("short_name" => "KR", "country_name" => "South Korea"), array("short_name" => "KW", "country_name" => "Kuwait"), array("short_name" => "KG", "country_name" => "Kyrgyzstan"), array("short_name" => "LA", "country_name" => "Lao People\s Democratic Republic"), array("short_name" => "LV", "country_name" => "Latvia"), array("short_name" => "LB", "country_name" => "Lebanon"), array("short_name" => "LS", "country_name" => "Lesotho"), array("short_name" => "LR", "country_name" => "Liberia"), array("short_name" => "LY", "country_name" => "Libyan Arab Jamahiriya"), array("short_name" => "LI", "country_name" => "Liechtenstein"), array("short_name" => "LT", "country_name" => "Lithuania"), array("short_name" => "LU", "country_name" => "Luxembourg"), array("short_name" => "MO", "country_name" => "Macao"), array("short_name" => "MK", "country_name" => "Macedonia"), array("short_name" => "MG", "country_name" => "Madagascar"), array("short_name" => "MW", "country_name" => "Malawi"), array("short_name" => "MY", "country_name" => "Malaysia"), array("short_name" => "MV", "country_name" => "Maldives"), array("short_name" => "ML", "country_name" => "Mali"), array("short_name" => "MT", "country_name" => "Malta"), array("short_name" => "MQ", "country_name" => "Martinique"), array("short_name" => "MR", "country_name" => "Mauritania"), array("short_name" => "MU", "country_name" => "Mauritius"), array("short_name" => "YT", "country_name" => "Mayotte"), array("short_name" => "MD", "country_name" => "Moldova"), array("short_name" => "MC", "country_name" => "Monaco"), array("short_name" => "MN", "country_name" => "Mongolia"), array("short_name" => "MS", "country_name" => "Montserrat"), array("short_name" => "MA", "country_name" => "Morocco"), array("short_name" => "MZ", "country_name" => "Mozambique"), array("short_name" => "MM", "country_name" => "Myanmar"), array("short_name" => "NA", "country_name" => "Namibia"), array("short_name" => "NR", "country_name" => "Nauru"), array("short_name" => "NP", "country_name" => "Nepal"), array("short_name" => "NL", "country_name" => "Netherlands"), array("short_name" => "AN", "country_name" => "Netherlands Antilles"), array("short_name" => "NC", "country_name" => "New Caledonia"), array("short_name" => "NZ", "country_name" => "New Zealand"), array("short_name" => "NI", "country_name" => "Nicaragua"), array("short_name" => "NE", "country_name" => "Niger"), array("short_name" => "NG", "country_name" => "Nigeria"), array("short_name" => "NU", "country_name" => "Niue"), array("short_name" => "NF", "country_name" => "Norfolk Island"), array("short_name" => "NO", "country_name" => "Norway"), array("short_name" => "OM", "country_name" => "Oman"), array("short_name" => "PK", "country_name" => "Pakistan"), array("short_name" => "PA", "country_name" => "Panama"), array("short_name" => "PG", "country_name" => "Papua New Guinea"), array("short_name" => "PY", "country_name" => "Paraguay"), array("short_name" => "PE", "country_name" => "Peru"), array("short_name" => "PH", "country_name" => "Philippines"), array("short_name" => "PN", "country_name" => "Pitcairn"), array("short_name" => "PL", "country_name" => "Poland"), array("short_name" => "PT", "country_name" => "Portugal"), array("short_name" => "QA", "country_name" => "Qatar"), array("short_name" => "RE", "country_name" => "Reunion"), array("short_name" => "RO","country_name" => "Romania"), array("short_name" => "RU", "country_name" => "Russia"), array("short_name" => "RW", "country_name" => "Rwanda"), array("short_name" => "KN", "country_name" => "Saint Kitts and Nevis"), array("short_name" => "LC", "country_name" => "Saint Lucia"), array("short_name" => "VC", "country_name" => "St. Vincent"), array("short_name" => "WS", "country_name" => "Samoa"), array("short_name" => "SM", "country_name" => "San Marino"), array("short_name" => "ST", "country_name" => "Sao Tome and Principe"), array("short_name" => "SA", "country_name" => "Saudi Arabia"), array("short_name" => "SN", "country_name" => "Senegal"), array("short_name" => "SC", "country_name" => "Seychelles"), array("short_name" => "SL", "country_name" => "Sierra Leone"), array("short_name" => "SG", "country_name" => "Singapore"), array("short_name" => "SK", "country_name" => "Slovakia"), array("short_name" => "SI", "country_name" => "Slovenia"), array("short_name" => "SB", "country_name" => "Solomon Islands"), array("short_name" => "SO", "country_name" => "Somalia"), array("short_name" => "ZA", "country_name" => "South Africa"), array("short_name" => "GS", "country_name" => "South Georgia & South Sandwich Islands"), array("short_name" => "ES", "country_name" => "Spain"), array("short_name" => "LK", "country_name" => "Sri Lanka"), array("short_name" => "SH", "country_name" => "Saint Helena"), array("short_name" => "PM", "country_name" => "Saint Pierre And Miquelon"), array("short_name" => "SD", "country_name" => "Sudan"), array("short_name" => "SR", "country_name" => "Suriname"), array("short_name" => "SJ", "country_name" => "Svalbard And Jan Mayen"), array("short_name" => "SZ", "country_name" => "Swaziland"), array("short_name" => "SE", "country_name" => "Sweden"), array("short_name" => "CH", "country_name" => "Switzerland"), array("short_name" => "SY", "country_name" => "Syria"), array("short_name" => "TW", "country_name" => "Taiwan"), array("short_name" => "TJ", "country_name" => "Tajikistan"), array("short_name" => "TZ", "country_name" => "Tanzania, United Republic Of"), array("short_name" => "TH", "country_name" => "Thailand"), array("short_name" => "TG", "country_name" => "Togo"), array("short_name" => "TK", "country_name" => "Tokelau"), array("short_name" => "TO", "country_name" => "Tonga"), array("short_name" => "TT", "country_name" => "Trinidad and Tobago"), array("short_name" => "TN", "country_name" => "Tunisia"), array("short_name" => "TR", "country_name" => "Turkey"), array("short_name" => "TM", "country_name" => "Turkmenistan"), array("short_name" => "TC", "country_name" => "Turks and Caicos Islands"), array("short_name" => "TV", "country_name" => "Tuvalu"), array("short_name" => "UG", "country_name" => "Uganda"), array("short_name" => "UA", "country_name" => "Ukraine"), array("short_name" => "AE", "country_name" => "United Arab Emirates"), array("short_name" => "GB", "country_name" => "United Kingdom"), array("short_name" => "US", "country_name" => "United States"), array("short_name" => "UM", "country_name" => "United States Minor Outlying Islands"), array("short_name" => "UY", "country_name" => "Uruguay"), array("short_name" => "UZ", "country_name" => "Uzbekistan"), array("short_name" => "VU", "country_name" => "Vanuatu"), array("short_name" => "VA", "country_name" => "Holy See (Vatican City State)"), array("short_name" => "VE", "country_name" => "Venezuela"), array("short_name" => "VN", "country_name" => "Vietnam"), array("short_name" => "VG", "country_name" => "Virgin Islands (British)"), array("short_name" => "WF", "country_name" => "Wallis and Futuna Islands"), array("short_name" => "EH", "country_name" => "Western Sahara"), array("short_name" => "YE", "country_name" => "Yemen"), array("short_name" => "ZM", "country_name" => "Zambia"), array("short_name" => "ZW", "country_name" => "Zimbabwe"), array("short_name" => "AX", "country_name" => "Aland Islands"), array("short_name" => "CD", "country_name" => "Congo, The Democratic Republic Of The"), array("short_name" => "CW", "country_name" => "Cura√ßao"), array("short_name" => "GG", "country_name" => "Guernsey"), array("short_name" => "IM", "country_name" => "Isle Of Man"), array("short_name" => "JE", "country_name" => "Jersey"), array("short_name" => "KV", "country_name" => "Kosovo"), array("short_name" => "PS", "country_name" => "Palestinian Territory"), array("short_name" => "BL", "country_name" => "Saint Barth√©lemy"), array("short_name" => "MF", "country_name" => "Saint Martin"), array("short_name" => "RS", "country_name" => "Serbia"), array("short_name" => "SX", "country_name" => "Sint Maarten"), array("short_name" => "TL", "country_name" => "Timor Leste"), array("short_name" => "MX", "country_name" => "Mexico"));
					$selected_countries = (isset($general_settings['countries_list'])) ? $general_settings['countries_list'] : '' ;
					$selected_countries = ( $selected_countries === false || empty($selected_countries) || !is_array($selected_countries) ) ? array() : $selected_countries;
					$count = count($selected_countries);
					$countries_message =  "All countries";
					if($count == 1) {
						$countries_message = "1 country selected";
					} else if($count > 1){
						$countries_message = $count." countries selected";
					}
					?>
					<!--<div class="more-setting-rows"> -->
						<div class="mystickyelements-content-section-wrap mystickyelements-content-section-wrap">
							<span class="myStickyelements-label myStickyelements-extra-label" >
								<label for="countries_list">
									<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
										<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
										<p><?php esc_html_e("Target your widget to specific countries. You can create different widgets for different countries", 'mystickyelements'); ?></p>
									</div>
									<?php _e( "Country targeting", 'mystickyelements' );?>
								</label>
								<?php if(!$is_pro_active) {?><span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span><?php } ?>
							</span>
							
							<div class="myStickyelements-inputs myStickyelements-country-inputs <?php echo esc_attr($is_pro_active?"is-pro":"not-pro") ?>">
								<button type="button" class="myStickyelements-country-button"><?php echo esc_attr($countries_message) ?></button>
								<div class="myStickyelements-country-list-box">
									<select id="countries_list" name="general-settings[countries_list][]" multiple placeholder="Select Country" class="myStickyelements-country-list <?php echo esc_attr($is_pro_active?"is-pro":"not-pro") ?>" <?php echo !$is_pro_active?"disabled":"" ?>>
										<?php foreach($countries as $country) {
											$selected = in_array($country["short_name"], $selected_countries)?"selected":"";
											?>
											<option <?php echo esc_attr($selected) ?> value="<?php echo esc_attr($country["short_name"]) ?>"><?php echo esc_attr($country["country_name"]) ?></option>
										<?php } ?>
									</select>
								</div>
								<?php if(!$is_pro_active) {?>
									<span class="upgrade-myStickyelements">
										<a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a>
									</span>
								<?php } ?>
							</div>
						</div>
					<!--</div>	-->
            
                    <div class="myStickyelements-page-options-html" style="display: none">
                        <div class="myStickyelements-page-option">
                            <div class="url-content">
                                <div class="myStickyelements-url-select">
                                    <select name="general-settings[page_settings][__count__][shown_on]" id="url_shown_on___count___option" <?php echo !$is_pro_active?"disabled":"" ?>>
                                        <option value="show_on"><?php esc_html_e("Show on", "mystickyelements" );?></option>
                                        <option value="not_show_on"><?php esc_html_e("Don't show on", "mystickyelements" );?></option>
                                    </select>
                                </div>
                                <div class="myStickyelements-url-option">
                                    <select class="myStickyelements-url-options" name="general-settings[page_settings][__count__][option]" id="url_rules___count___option" <?php echo !$is_pro_active?"disabled":"" ?>>
                                        <option selected="selected" disabled value=""><?php esc_html_e("Select Rule", "mystickyelements" );?></option>
                                        <?php foreach($url_options as $key=>$value) {
                                            echo '<option value="'.$key.'">'.$value.'</option>';
                                        } ?>
                                    </select>
                                </div>
                                <div class="myStickyelements-url-box">
                                    <span class='myStickyelements-url'><?php echo site_url("/"); ?></span>
                                </div>
                                <div class="myStickyelements-url-values">
                                    <input type="text" value="" name="general-settings[page_settings][__count__][value]" id="url_rules___count___value" <?php echo !$is_pro_active?"disabled":"" ?> />
                                </div>
                                <div class="myStickyelements-url-buttons">
                                    <a class="myStickyelements-remove-rule" href="javascript:void(0);">x</a>
                                </div>
                                <div class="clear"></div>
                            </div>
                            <?php if(!$is_pro_active) {?>
                                <span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span>
                            <?php } ?>

                        </div>
                    </div>
            
                    <div class="mystickyelements-content-section-wrap">
						<p class="next mystickyelements-more-setting-btn" id="next-show-on-apper">
							<button type="submit" name="more" id="btn-more" class="button button-primary"><?php _e('More Settings', 'mystickyelements');?>&nbsp;&nbsp;<i class="fas fa-angle-down"></i></button>
						</p>
					</div>
            
                    <div class="more-setting-rows">
						<div class="mystickyelements-content-section-wrap">
							<span class="myStickyelements-label" >
								<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
									<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
									<p><?php esc_html_e("The form will automatically open up on page load until the user closes the form or fills out the form", 'mystickyelements'); ?></p>
								</div>
								<label for="myStickyelements-form_open_automatic"><?php _e( 'Open the form automatically', 'mystickyelements' );?></label>
							</span>
							
							<div class="myStickyelements-inputs myStickyelements-label myStickyelements-form-open">
								<label for="myStickyelements-form_open_automatic" class="myStickyelements-switch" >
									<input type="checkbox" id="myStickyelements-form_open_automatic" name="general-settings[form_open_automatic]"<?php checked( @$general_settings['form_open_automatic'], '1' );?>  value="1" />
									<span class="slider round"></span>
								</label>												
							</div>
						</div>
					</div>
					<div class="more-setting-rows">
						<div class="mystickyelements-content-section-wrap">
							<span class="myStickyelements-label">
								<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
									<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
									<p><?php esc_html_e("If enabled, a small black button will appear on top to minimize the widget", 'mystickyelements'); ?></p>
								</div>
								<label for="myStickyelements-minimize-tab">
									<?php esc_html_e( 'Minimize tab', 'mystickyelements' );?>
								</label>
							</span>
							<div class="myStickyelements-inputs myStickyelements-label myStickyelements-minimize-tab">
								<label for="myStickyelements-minimize-tab" class="myStickyelements-switch" >
									<input type="checkbox" id="myStickyelements-minimize-tab" name="general-settings[minimize_tab]"<?php checked( @$general_settings['minimize_tab'], '1' );?>  value="1" />
									<span class="slider round"></span>
								</label>
								&nbsp;
								<input type="text" id="minimize_tab_background_color" name="general-settings[minimize_tab_background_color]" class="mystickyelement-color" value="<?php echo esc_attr($general_settings['minimize_tab_background_color']);?>" />
							</div>
						</div>
					</div>
					<div class="myStickyelements-minimized more-setting-rows">
						<div class="mystickyelements-content-section-wrap">
							<span class="myStickyelements-label">
								<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
									<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
									<p><?php esc_html_e("If enabled, the widget will be hidden by default and will show an icon instead to restore to its full size", 'mystickyelements'); ?></p>
								</div>
								<label>
									<?php esc_html_e( 'Minimized bar on load', 'mystickyelements' );?>
								</label>
							</span>
							<div class="myStickyelements-inputs">
								<ul>
									<li>
										<label>
											<input type="checkbox" name="general-settings[minimize_desktop]" value="desktop" <?php checked( @$general_settings['minimize_desktop'], 'desktop' );?> />
											<?php _e( 'Desktop', 'mystickyelements' );?>
										</label>
									</li>
									<li>
										<label>
											<input type="checkbox" name="general-settings[minimize_mobile]" value="mobile" <?php checked( @$general_settings['minimize_mobile'], 'mobile' );?> />
											<?php _e( 'Mobile', 'mystickyelements' );?>
										</label>
									</li>
								</ul>
							</div>
						</div>
					</div>
					<div class="more-setting-rows">
						<div class="mystickyelements-content-section-wrap">
							<span class="myStickyelements-label" >
								<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
									<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
									<p><?php esc_html_e("Write custom CSS to customize the tabs", 'mystickyelements'); ?></p>
								</div>
								<label for="general-settings-tabs-css"><?php _e( 'Tabs CSS', 'mystickyelements' );?></label>
								<?php if(!$is_pro_active) {?><span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span><?php } ?>
							</span>
							<div class="myStickyelements-inputs">
								<textarea  <?php echo !$is_pro_active?"disabled":"" ?> placeholder=".example { background-color: green;}" name="general-settings[tabs_css]" rows="5" cols="50" id="general-settings-tabs-css" class="code"><?php echo ( isset($general_settings['tabs_css'])) ? stripslashes($general_settings['tabs_css']) : '';?></textarea>
							</div>
						</div>
					</div>
					<div class="more-setting-rows">
						<div class="mystickyelements-content-section-wrap">
							<span class="myStickyelements-label" >
								<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
									<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
									<p><?php esc_html_e("Write custom CSS to customize the form", 'mystickyelements'); ?></p>
								</div>
								<label> <?php _e('Form CSS','mystickyelements');?></label>								
								<?php if(!$is_pro_active) {?><span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span><?php } ?>
							</span>
							 <div class="myStickyelements-inputs">
								<textarea  <?php echo !$is_pro_active?"disabled":"" ?> name="general-settings[form_css]" rows="5" cols="50" id="general-settings-form-css" class="code" placeholder=".example { background-color: green;}"><?php echo ( isset($general_settings['form_css'])) ? stripslashes($general_settings['form_css']) : '';?></textarea>
							</div>
						</div>
					</div>    
            
					<div class="mystickyelements-more-setting-btn mystickyelements-less-setting-btn">
						<button type="submit" name="less" id="btn-less" class="button button-primary" style="display:none;"><?php _e('Less Settings', 'mystickyelements');?>&nbsp;&nbsp;<i class="fas fa-angle-up"></i></button>
					</div>
				</div>
				<input type="hidden" id="myStickyelements_site_url" value="<?php echo site_url("/") ?>" >
				
			</div>
			
		</div> 
	</div>
</div>

<!-- Days & Hours HTML--->
<div class="myStickyelements-days_hours-options-html" style="display: none">
	<div class="myStickyelements-page-option">
		<div class="url-content">
			<div class="myStickyelements-url-select">
				<select name="general-settings[days-hours][__count__][days]" id="url_shown_on___count___option">
					<?php foreach ($days as $key=>$value) { ?>
						<option value="<?php echo $key; ?>"><?php echo $value; ?></option>
					<?php } ?>
				</select>
			</div>
			<div class="myStickyelements-url-option">
				<label class="myStickyelements-days-hours-label-wrap">
					<span class="myStickyelements-days-hours-label">From</span>
					<input type="text" class=" time-picker ui-timepicker-input"  value="" name="general-settings[days-hours][__count__][start_time]" id="start_time___count__" />
				</label>
			</div>
			<div class="myStickyelements-url-box">
				<label class="myStickyelements-days-hours-label-wrap">
					<span class="myStickyelements-days-hours-label">To</span>
					<input type="text" class=" time-picker ui-timepicker-input"  value="" name="general-settings[days-hours][__count__][end_time]" id="end_time___count__" />
				</label>
			</div>
			<div class="myStickyelements-url-values">
				<label class="myStickyelements-days-hours-label-wrap">
					<span class="myStickyelements-days-hours-label">Time Zone</span>
					<select class=" gmt-data stickyelement-gmt-timezone" name="general-settings[days-hours][__count__][gmt]" id="url_shown_on___count___option">
						<?php echo stickyelement_timezone_choice( '', false );?>
					</select>
				</label>
			</div>
			<div class="myStickyelements-url-buttons">
				<a class="myStickyelements-remove-rule" href="javascript:;">x</a>
			</div>
			<div class="clear"></div>
		</div>
		<?php if(!$is_pro_active) {?>
			<span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span>
		<?php } ?>
	</div>						
</div>

--- END FILE ---

--- FILE: admin/sticktelements-preview.php ---
<div class="mystickyelements-preview">
	<div class="myStickyelements-preview-tab">
		<div class="myStickyelements-preview-screen">
			<div class="mystickyelements-fixed <?php echo (isset($contact_form['direction']) && $contact_form['direction'] == "RTL")?"is-rtl":"" ?> mystickyelements-position-<?php echo esc_attr($general_settings['position'])?> <?php echo (isset($general_settings['position_on_screen']) && $general_settings['position_on_screen']!= '') ? 'mystickyelements-position-screen-' .$general_settings['position_on_screen'] : 'mystickyelements-position-screen-center';?> mystickyelements-position-mobile-<?php echo esc_attr($general_settings['position_mobile'])?> <?php echo (isset($general_settings['widget-size']) && $general_settings['widget-size']!= '') ? 'mystickyelements-size-' .$general_settings['widget-size'] : 'mystickyelements-size-medium';?> <?php echo (isset($general_settings['mobile-widget-size']) && $general_settings['mobile-widget-size']!= '') ? 'mystickyelements-mobile-size-' .$general_settings['mobile-widget-size'] : 'mystickyelements-mobile-size-medium';?> <?php echo (isset($general_settings['entry-effect']) && $general_settings['entry-effect']!= '') ? 'mystickyelements-entry-effect-' .$general_settings['entry-effect'] : 'mystickyelements-entry-effect-slide-in';?> <?php echo (isset($general_settings['templates']) && $general_settings['templates']!= '') ? 'mystickyelements-templates-' .$general_settings['templates'] : 'mystickyelements-templates-default';?>">

				<ul class="myStickyelements-preview-ul <?php if ( !isset($general_settings['minimize_tab'])) :?>remove-minimize <?php endif;?> ">
					<?php if ( isset($general_settings['minimize_tab'])) :?>
					<li class="mystickyelements-minimize">
						<span class="mystickyelements-minimize minimize-position-<?php echo esc_attr($general_settings['position'])?> minimize-position-mobile-<?php echo esc_attr($general_settings['position_mobile'])?>"  <?php if (isset($general_settings['minimize_tab_background_color']) && $general_settings['minimize_tab_background_color'] != ''): ?>style="background: <?php echo esc_attr($general_settings['minimize_tab_background_color']); ?>" <?php endif;
						?>>
						<?php
						if ( $general_settings['position'] == 'left' ) :
							echo "&larr;";
						endif;
						if( $general_settings['position'] == 'right' ):
							echo "&rarr;";
						endif;
						if( $general_settings['position'] == 'bottom' ):
							echo "&darr;";
						endif;
						?>
						</span>
					</li>
					<?php endif;?>
					<li id="myStickyelements-preview-contact" class="mystickyelements-contact-form element-desktop-on element-mobile-on <?php if (!isset($contact_form['enable'])) : ?> mystickyelements-contact-form-hide <?php endif; ?>" <?php if ( !isset($contact_form['enable'])) : ?> style="display:none;" <?php endif;?>>
					<?php
					$contact_form_text_class = '';
					if ($contact_form['text_in_tab'] == '') {
						$contact_form_text_class = "mystickyelements-contact-notext";
					}?>
						<span class="mystickyelements-social-icon <?php echo $contact_form_text_class?>" style="background-color: <?php echo esc_attr($contact_form['tab_background_color']);?>; color: <?php echo $contact_form['tab_text_color'];?>;">
							
							<i class="far fa-envelope"></i><?php echo isset($contact_form['text_in_tab'])?$contact_form['text_in_tab']:"Contact Us";?>
						</span>
					</li>
					<?php
					if (!empty($social_channels_tabs) && !isset($social_channels_tabs['is_empty'])) {
						$social_channels_lists = mystickyelements_custom_social_channels();
						foreach( $social_channels_tabs as $key => $value) {
							
							if (  strpos($key, 'custom_channel') !== false || strpos($key, 'custom_shortcode') !== false ) {
								$custom_channel_key_temp = '';
								if( strpos($key, 'custom_channel') !== false){
									$custom_channel_key_temp = $key;
									$key = 'custom_channel';
								} 
								if( strpos($key, 'custom_shortcode') !== false){
									$custom_channel_key_temp = $key;
									$key = 'custom_shortcode';
								} 
								
								$social_channels_lists = mystickyelements_custom_social_channels();
								$social_channels_list  = $social_channels_lists[$key];
								
								if ( $custom_channel_key_temp != '') {
									$key = $custom_channel_key_temp;
								}
					
							} else {
								$social_channels_lists = mystickyelements_social_channels();
								$social_channels_list = $social_channels_lists[$key];
							}
							
							if ( empty($value)) {
								$value['bg_color'] = $social_channels_list['background_color'];
							}
							
							$element_class = '';
							if (isset($value['desktop']) && $value['desktop'] == 1) {
								$element_class .= ' element-desktop-on';
							}
							if (isset($value['mobile']) && $value['mobile'] == 1) {
								$element_class .= ' element-mobile-on';
							}
							$value['is_locked'] = (isset($social_channels_list['custom']) && $social_channels_list['custom'] == 1 && !$is_pro_active)?1:0;
							?>
							<li id="mystickyelements-social-<?php echo esc_attr($key);?>" class="mystickyelements-social-<?php echo esc_attr($key);?> mystickyelements-social-preview  <?php echo esc_attr($element_class);?>">
								<?php
								/*diamond template css*/
								if ( isset($value['bg_color']) && $value['bg_color'] != '' ) {
									?>
									<style>
										.myStickyelements-preview-mobile-screen .mystickyelements-position-mobile-bottom.mystickyelements-templates-diamond li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>,.myStickyelements-preview-mobile-screen .mystickyelements-position-mobile-bottom.mystickyelements-templates-triangle li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>,
										.myStickyelements-preview-mobile-screen .mystickyelements-position-mobile-top.mystickyelements-templates-diamond li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>,.myStickyelements-preview-mobile-screen .mystickyelements-position-mobile-top.mystickyelements-templates-triangle li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?> {
											background-color: <?php echo $value['bg_color']; ?> !important;
										}
										<?php
										if( isset($general_settings['templates']) && $general_settings['templates'] == 'diamond' ) {
										?>
											.mystickyelements-templates-diamond li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before {
												background: <?php echo $value['bg_color']; ?>;
											}
										<?php
										}
										if( isset($general_settings['templates']) && $general_settings['templates'] == 'arrow' ) {
										?>
											.myStickyelements-preview-screen:not(.myStickyelements-preview-mobile-screen) .mystickyelements-position-left.mystickyelements-templates-arrow li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before {
												border-left-color: <?php echo $value['bg_color']; ?>;
											}
											.myStickyelements-preview-screen:not(.myStickyelements-preview-mobile-screen) .mystickyelements-position-right.mystickyelements-templates-arrow li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before {
												border-right-color: <?php echo $value['bg_color']; ?>;
											}
											.myStickyelements-preview-screen:not(.myStickyelements-preview-mobile-screen) .mystickyelements-position-bottom.mystickyelements-templates-arrow li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before {
												border-bottom-color: <?php echo $value['bg_color']; ?>;
											}
											.myStickyelements-preview-screen.myStickyelements-preview-mobile-screen .mystickyelements-position-mobile-left.mystickyelements-templates-arrow li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before {
												border-left-color: <?php echo $value['bg_color']; ?>;
											}
											.myStickyelements-preview-screen.myStickyelements-preview-mobile-screen .mystickyelements-position-mobile-right.mystickyelements-templates-arrow li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before {
												border-right-color: <?php echo $value['bg_color']; ?>;
											}
											<?php if( $key == 'insagram' ) { ?>
											.myStickyelements-preview-screen:not(.myStickyelements-preview-mobile-screen) .mystickyelements-templates-arrow li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before {
												background: <?php echo $value['bg_color']; ?>;
											}
											.myStickyelements-preview-screen.myStickyelements-preview-mobile-screen .mystickyelements-templates-arrow li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before {
												background: <?php echo $value['bg_color']; ?>;
											}
											<?php } ?>
										<?php
										}
										if( isset($general_settings['templates']) && $general_settings['templates'] == 'triangle' ) {
										?>
											.myStickyelements-preview-screen:not(.myStickyelements-preview-mobile-screen) .mystickyelements-templates-triangle li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before {
												background: <?php echo $value['bg_color']; ?>;
											}
											.myStickyelements-preview-screen.myStickyelements-preview-mobile-screen .mystickyelements-templates-triangle li:not(.mystickyelements-contact-form) span.mystickyelements-social-icon.social-<?php echo esc_attr($key);?>::before {
												background: <?php echo $value['bg_color']; ?>;
											}
										<?php
										}
										?>
									</style>
									<?php
								}
								$channel_type = (isset($value['channel_type'])) ? $value['channel_type'] : '';
									if ( $channel_type != 'custom' && $channel_type != '' ) {
										if ( isset($social_channels_lists[$channel_type]['custom_svg_icon']) ) {
											$social_channels_list['custom_svg_icon'] = $social_channels_lists[$channel_type]['custom_svg_icon'];
										}
										$social_channels_list['class'] 	= $social_channels_lists[$channel_type]['class'];
										$value['fontawesome_icon']		= $social_channels_lists[$channel_type]['class'];
									}
								$social_channels_list['class'] = isset($social_channels_list['class']) ? $social_channels_list['class'] : '';
								
									if( !isset($value['bg_color']) ){
										$value['bg_color'] = $social_channels_list['background_color'];	
									}
									
								?>
								<span class="mystickyelements-social-icon social-<?php echo esc_attr($key);?> social-<?php echo esc_attr($channel_type); ?>" style="background: <?php echo esc_attr($value['bg_color']);?>">
								<?php 
									if ( isset($social_channels_list['custom']) && $social_channels_list['custom'] == 1 && $value['custom_icon'] != '' && $value['fontawesome_icon'] == '' ):?>
										<img class="<?php echo ( isset($value['stretch_custom_icon']) && $value['stretch_custom_icon'] == 1 ) ? 'mystickyelements-stretch-custom-img' : '';  ?>" src="<?php echo esc_url($value['custom_icon']);?>" width="40" height="40" />
									<?php else:
										if ( isset($social_channels_list['custom']) && $social_channels_list['custom'] == 1 && $value['fontawesome_icon'] != '' ) {
											$social_channels_list['class'] = $value['fontawesome_icon'];
										}
										
										if ( isset($social_channels_list['custom_svg_icon']) && $social_channels_list['custom_svg_icon'] != '' ) {
											echo $social_channels_list['custom_svg_icon'];
										}else{
										?>
											<i class="<?php echo esc_attr($social_channels_list['class']);?>" <?php if ( isset($value['icon_color']) && $value['icon_color'] != '') : echo "style='color:" . $value['icon_color'] . "'"; endif; ?>></i>	
										<?php
										
										}
									endif;
									$icon_text_size = "display: none;";
									$value['icon_text'] = ( isset($value['icon_text']) && $value['icon_text'] != '' ) ? $value['icon_text'] : '';
									
									if ( isset($value['icon_text']) && $value['icon_text'] != '' && isset($general_settings['templates']) && $general_settings['templates'] == 'default' ) {
										$icon_text_size .= "display: block;";
										if ( isset($value['icon_text_size']) && $value['icon_text_size'] != '') {
											$icon_text_size .= "font-size: " . $value['icon_text_size'] . "px;";
										}
									}
									echo "<span class='mystickyelements-icon-below-text' style='".$icon_text_size."'>" . esc_html($value['icon_text']) . "</span>";
									if ( $key == 'line') {
										echo "<style>.mystickyelements-social-icon.social-". $key ." svg .fil1{ fill:" .$value['icon_color']. "}</style>";
									}
									if ( $key == 'qzone') {
										echo "<style>.mystickyelements-social-icon.social-". $key ." svg .fil2{ fill:" . $value['icon_color'] . "}</style>";
									}
									?>
								</span>
							</li>
							<?php
						}
					}
					?>
				</ul>
			</div>
		</div>
		<p class="description" id="myStickyelements_mobile_templete_desc" style="display: none;">
			<strong><?php esc_html_e( 'The default template is the only template that is currently available for the mobile bottom position', 'mystickyelements');?></strong>
		</p>
		<div class="mystickyelements-preivew-below-sec" data-id="<?php 
			if(isset($_GET['page']) && $_GET['page'] == 'my-sticky-elements-new-widget'):?>my-sticky-elements-new-widget<?php endif; ?>">
			<div class="myStickyelements-header-title">
				<h3><?php _e('Live Preview', 'mystickyelements'); ?></h3>
				<span class="myStickyelements-preview-window">
					<ul>
						<li class="preview-desktop preview-active"><i class="fas fa-desktop"></i></li>
						<li class="preview-mobile"><i class="fas fa-mobile-alt"></i></li>
					</ul>
				</span>
			</div>
			<div class="mystickyelements-preivew-save-btn">
				<p class="save">
					
					<button type="submit" name="submit" value="Save" id="save" data-id="" class="button button-primary preview-publish"><?php _e('Save', 'mystickyelements');?></button>
					&nbsp;
					<button type="submit" name="next-button" id="next-button-prev" class="button button-primary"><?php _e('Next', 'mystickyelements');?></button>
				</p>
			</div>
		</div>
	</div>
</div>
<?php
	
	if(isset($_GET['new_widget']) && $_GET['new_widget'] == 1){
		show_save_popup();
	}

	if( isset($_POST['submit']) && $_POST['submit'] == 'Save'){
		echo '<script type="text/javascript"> jQuery("#flash_message").addClass("show");setTimeout(function(){jQuery("#flash_message").removeClass("show");
		}, 3000);</script>';
	}

	if( isset($_POST['submit']) && $_POST['submit'] == 'Publish'){
		if( isset($_POST['widget_status']) && $_POST['widget_status'] == 'my-sticky-elements' ){
			echo '<script type="text/javascript"> jQuery("#loader").show(); </script>';
			echo '<script>setTimeout(function(){ window.location.href = "'.admin_url( "admin.php?page=my-sticky-elements" ).'" }, 800);</script>';
		}
	}

	if(isset($_POST['save_view']) && $_POST['save_view'] == 'Save View'){

		if( isset($_POST['widget_status']) && $_POST['widget_status'] != 'my-sticky-elements-new-widget'){
			echo '<script type="text/javascript"> jQuery("#loader").show(); </script>';
			echo '<script>setTimeout(function(){ window.location.href = "'.admin_url( "admin.php?page=my-sticky-elements" ).'" }, 800);</script>';
		}
	}
	
	function show_save_popup(){
		if( isset($_GET['widget_available']) && $_GET['widget_available'] == 0 ){
			?>
				<div class="main-popup-mystickyelement-bg first-widget-popup"><div class="main-popup-mystickyelement-bg mystickyelement_container_popupbox"><div class="firstwidget-popup-contain"><img src="<?php echo MYSTICKYELEMENTS_PRO_URL; ?>/images/firstwidget_header.svg"><h4><?php _e('Your first widget is up! üéâ','mystickyelement'); ?></h4> <p> <?php _e('Yay - we‚Äôre happy you chose MyStickyElements for your website. If you run into anything, the','mystickyelement') ?> <a href="https://premio.io/help/" target="_blank" style="text-decoration: underline !important;"><strong><?php _e('help center','mystickyelement');?></strong></a> <?php _e('is always here for you.','mystickyelement');?></p><a href="<?php echo admin_url("admin.php?page=my-sticky-elements");?>" class="mystickymenu btn-black btn-back-dashboard"><?php _e('Back to Dashboard','mystickyelement');?></a></div><div class="popup-modul-close-btn firstwidget-model"><a href="<?php echo admin_url( "admin.php?page=my-sticky-elements" ); ?>" class="close-chaty-maxvisitor-popup stickyelement-save-close-wrap" id="close-first-popup"><svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15 5L5 15" stroke="#4A4A4A" stroke-width="2.08" stroke-linecap="round" stroke-linejoin="round"/><path d="M5 5L15 15" stroke="#4A4A4A" stroke-width="2.08" stroke-linecap="round" stroke-linejoin="round"/></svg></a></div></div></div>
				<div class="stickyelement-overlay" id="success-popup-overlay" data-id="<?php echo admin_url( "admin.php?page=my-sticky-elements" ); ?>"></div>
			<?php
		}else{
			if ( isset($_GET['dashboard']) && $_GET['dashboard'] == 1) {			
				echo '<script type="text/javascript"> jQuery("#loader").show(); </script>';
				echo '<script>setTimeout(function(){ window.location.href = "'.admin_url( "admin.php?page=my-sticky-elements" ).'" }, 800);</script>';
			}
		}
	}
?>

<div class="mystickyelements-action-popup-open  mystickyelements-action-popup-status" id="mystickyelements-load-google-enable-popup" style="display:none;">
	
	<div class="popup-ui-widget-header">
		<span id="ui-id-1" class="ui-dialog-title"><?php esc_html_e("Are you sure?",'mystickyelement')?></span>
		<span class="close-dialog" data-id="0" data-from='load-google-fonts'>&#10006</span>
	</div>
	<div id="widget-delete-confirm" class="ui-widget-content">
		<p><?php _e("You're about to turn off loading Google fonts from Google server. By turning it off, fonts will not be loaded by default and you have to manually load them to use properly. Are you sure?",'mystickyelement');?></p>
	</div>
	
	<div class="popup-ui-dialog-buttonset"><button type="button" class="mystickyelement-cancel-widget-btn" id="mystickyelement-disable-loadfonts"  data-popupfrom=""><?php esc_html_e("Disable anyway",'mystickyelement');?></button><button type="button" class="mystickyelement-btn-orange mystickyelement-btn-ok" id="mystickyelement-button-keep-loadfonts"><?php esc_html_e('Keep using','mystickyelement');?></button></div>
</div>
<div id="mystickyelement-load-google-popup-overlay" class="stickyelement-overlay" style="display:none;"></div>

<div class="mystickyelements-action-popup-open  mystickyelements-action-popup-status" id="mystickyelements-ccbcc-popup" style="display:none;">
	
	<div class="popup-ui-widget-header">
		<span id="ui-id-1" class="ui-dialog-title"><?php esc_html_e("You're trying to add more than 3 emails",'mystickyelement')?></span>
		<span class="close-dialog" data-id="0" data-from='cc_bcc_close'>&#10006</span>
	</div>
	<div id="widget-delete-confirm" class="ui-widget-content">
		<p><?php esc_html_e('My Sticky Element supports up to 3 emails for CC or BCC fields. Please rsemove the extra email, and save to continue' , 'mystickyelement');?></p>
	</div>
	
	<div class="popup-ui-dialog-buttonset"><button type="button" class="mystickyelement-btn-orange mystickyelement-btn-ok" id="btn-bcc-ok"><?php esc_html_e('Ok','mystickyelement');?></button></div>
</div>
<div id="mystickyelement-ccbcc-popup-overlay" class="stickyelement-overlay" style="display:none;"></div>

<div class="mystickyelements-action-popup-open mystickyelements-missing-link-popup mystickyelements-action-popup-status" id="mystickyelements-missing-link-popup" style="display:none;">
	
	<div class="popup-ui-widget-header">
		<span id="ui-id-1" class="ui-dialog-title"><?php esc_html_e('Missing link','mystickyelement')?></span>
		<span class="close-dialog" data-id="0" data-from='widget-social-link'>&#10006</span>
	</div>
	<div id="widget-delete-confirm" class="ui-widget-content">
		<p>Please fill out the link information for all the selected channels</p>
	</div>
	
	<div class="popup-ui-dialog-buttonset"><button type="button" class="mystickyelement-cancel-widget-btn mystickyelement-dolater-widget-btn"  data-popupfrom=""><?php esc_html_e("I'll do it later",'mystickyelement');?></button><button type="button" class="mystickyelement-btn-orange mystickyelement-btn-ok" id="mystickyelement-button-ok"><?php esc_html_e('Ok','mystickyelement');?></button></div>
</div>
<div id="mystickyelement-missing-link-overlay" class="stickyelement-overlay" style="display:none;"></div>

--- END FILE ---

--- FILE: admin/stickyelements-settings.php ---
<?php
$mystickyelement_class =  ( isset($_GET['page']) && $_GET['page'] == 'my-sticky-elements-settings' && !isset($_GET['widget']) ) ? 'mystickyelement-wrap-default' : '' ;

$form_action = ( isset($_GET['new_widget']) && $_GET['new_widget'] == 1 ) ? admin_url("admin.php?page=my-sticky-elements&widget=" . $_GET['widget'] ) : '#';
?>

<div class="wrap mystickyelement-wrap mystickyelements-pro-plugin-wrap <?php echo esc_attr($mystickyelement_class); ?>">
	<h2 class="mystickyelement-empty-h2" style="font-size: 0px;margin-bottom: 0px;"></h2>
	<div class="mystickyelements-wrap">
		<form class="mystickyelements-form" id="mystickyelement-form" method="post" action="<?php echo esc_url($form_action);?>">
			<?php
				$active_step1_class = '';
				$completed_step1_class = '';
				$active_step2_class = '';
				$completed_step2_class = '';
				$active_step3_class = '';
				
				if(isset($widget_tab_index) && $widget_tab_index == 'mystickyelements-contact-form'){

					$active_step1_class = 'active';
					$completed_step1_class = '';
					$active_step2_class = '';
					$completed_step2_class = '';
					$active_step3_class = '';
				}
				else if( isset($widget_tab_index) && $widget_tab_index == 'mystickyelements-social-media' ){
					$active_step1_class = '';
					$completed_step1_class = 'completed';
					$active_step2_class = 'active';
					$completed_step2_class = '';
					$active_step3_class = '';
				}
				else{
					$active_step1_class = '';
					$completed_step1_class = 'completed';
					$active_step2_class = '';
					$completed_step2_class = 'completed';
					$active_step3_class = 'active';
				}
			?>
			<ul class="mystickyelements-tabs">
				<li>
					<a href="javascript:void(0)" class="mystickyelements-tab <?php echo $active_step1_class . $completed_step1_class ;?>" data-tab-id="mystickyelements-tab-contact-form" id="mystickyelements-contact-form" data-tab-index= "<?php  if(isset($widget_tab_index) && $widget_tab_index=='mystickyelements-contact-form'){
					echo $widget_tab_index;}else{ if($widget_tab_index == 'mystickyelements-contact-form' ){echo  $widget_tab_index; } } ?>" data-tab="first">
						<span class="mystickyelements-tabs-heading"> <?php esc_html_e('Add Contact Form','mystickyelements');?> </span>
						<span class="mystickyelements-tabs-subheading"> <?php esc_html_e('Collect form responses','mystickyelements');?></span>
					</a>
				</li>
				<li>
					<a href="javascript:void(0)" class="mystickyelements-tab <?php echo $active_step2_class . $completed_step2_class ;?>" data-tab-id="mystickyelements-tab-social-media" id="mystickyelements-social-media" data-tab="middle" data-tab-index= "<?php echo (isset($widget_tab_index) && $widget_tab_index == 'mystickyelements-social-media') ? $widget_tab_index : ''; ?>">
						<span class="mystickyelements-tabs-heading"><?php esc_html_e('Add Chat and Social media','mystickyelements');?></span>
						<span class="mystickyelements-tabs-subheading"><?php esc_html_e('Integrate chat & social media','mystickyelements');?></span> 
					</a>
				</li>
				<li>
					<a href="javascript:void(0)" class="mystickyelements-tab <?php echo $active_step3_class; ?>" data-tab-id="mystickyelements-tab-display-settings" id="mystickyelements-display-settings" data-tab="last" data-tab-index="<?php echo (isset($widget_tab_index) && $widget_tab_index == 'mystickyelements-display-settings') ? $widget_tab_index : ''; ?>">
						<span class="mystickyelements-tabs-heading"><?php esc_html_e('Display & Behavior Settings','mystickyelements');?></span>
						<span class="mystickyelements-tabs-subheading"><?php esc_html_e('Triggers & targeting','mystickyelements');?></span> 
					</a>
				</li>
			</ul>
			<div class="mystickyelements-tabs-wrap mystickyelements-common-form-section">
				<div id="flash_message" > <?php echo esc_html__('Settings saved.','mystickyelements'); ?> <span><a href="#" class="close_flash_popup">&#x2715;</a></span></div>

				<div id="loader" class="center" style="display:none;"><svg  version="1.1" id="L9" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 0 0" xml:space="preserve" style="width:150px;height:150px;"><path fill="#fff" d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="0 50 50" to="360 50 50" repeatCount="indefinite"></animateTransform></path></svg></div>

				<?php include( 'contact-forms.php' );?>
				<?php include( 'social-media.php' );?>
				<?php include( 'general-settings.php' );?>
				<?php include( 'sticktelements-preview.php' );?>				
			</div>
			
			<div class="mystickyelements-progress-bar-wrap show-on-apper-main">
				<p class="prev mystickyelements-prev-btn-wrap" id="prev-show-on-apper">
					<button type="submit" name="prev" id="btn-prev" class="button button-primary" style="display: none;"><i class="fas fa-arrow-circle-left"></i>&nbsp;&nbsp;<?php _e('Back', 'mystickyelements');?></button>
				</p>
				<!-- <ul class="mystickyelements-progress-bar-main">
					<li class="mystickyelements-step1"><?php //_e('30%', 'mystickyelements');?></li>
				</ul> -->
				<p class="next mystickyelements-next-btn-wrap" id="next-show-on-apper">
					<button type="submit" name="next" id="btn-next" class="button button-primary"><i class="fas fa-arrow-circle-right"></i>&nbsp;&nbsp;<?php _e('Next', 'mystickyelements');?></button>
				</p>
				<p class="submit mystickyelements-done-btn-wrap" id="submit-show-on-apper">
					<!-- <button type="submit" name="submit" value="Done" id="submit" class="button button-primary"><i class="far fa-check-circle"></i>&nbsp;&nbsp;<?php //_e('Publish', 'mystickyelements');?></button> -->
				</p>
				<p class="save mystickyelements-save-btn-wrap" id="save-show-on-apper">
					<button type="submit" name="submit" value="Save" id="save" class="button button-primary save-button"><?php _e('Save', 'mystickyelements');?></button>
				</p>
				<p class="save_view mystickyelements-save-view-btn-wrap" id="save-view-show-on-apper">
					<button type="submit" name="save_view" value="Save View" data-url="<?php echo admin_url( "admin.php?page=my-sticky-elements" ); ?>" id="save_view" class="button button-primary"><?php _e('Save & View Dashboard', 'mystickyelements');?></button>
				</p>
			</div>
			
			<input type="hidden" id="mystickyelement_save_confirm_status" name="mystickyelement_save_confirm_status" value=""/>
			<?php wp_nonce_field( 'mystickyelement-submit', 'mystickyelement-submit' ); ?>
		</form>		
	</div>
</div>

--- END FILE ---

--- FILE: admin/stickyelements-dashboard.php ---
<?php
$elements_widgets = get_option( 'mystickyelements-widgets' );
$counts = (!empty($elements_widgets)) ? count($elements_widgets) : 0 ;
$elements_mc_api_key = get_option( 'elements_mc_api_key');
$elements_mailpoet_connect = get_option( 'elements_mailpoet_connect');
$stickyelements_widgets = get_option('stickyelements_widgets');
$class = ( !$is_pro_active ) ? 'mystickyelement-dashboard-free'  : '';
?>
<div class="wrap mystickyelement-wrap">
	<div class="mystickyelement-dashboard <?php echo esc_attr($class);?>">
		<div class="container">
			<?php if( $counts != 0 ):?>
				<div class="mystickyelement-widgets">
					<table class="mystickyelement-widgets-lists">
						<thead>
							<tr>
								<th><?php esc_html_e( 'My Sticky Elements', 'mystickyelement');?></th>
								<th><?php esc_html_e( 'Edit', 'mystickyelement');?></th>
								<th><?php esc_html_e( 'Status', 'mystickyelement');?></th>
								<th><?php esc_html_e( 'Quick Action', 'mystickyelement');?></th>
							</tr>
						</thead>
						<tbody>
							<?php if ( !empty($elements_widgets) && $elements_widgets != '' ) :
							
								foreach( $elements_widgets as $key=>$value ) : 
									if ( !isset( $stickyelements_widgets[$key]['status'])) {
										$widget_status = 1;
									}
									if ( isset( $stickyelements_widgets[$key]['status']) ) {
										$widget_status = $stickyelements_widgets[$key]['status'];
									}
								?>
								<tr id="stickyelement-widget-<?php echo esc_attr($key);?>">
									<td><a href="<?php echo admin_url('admin.php?page=my-sticky-elements&load_from=dashboard&widget=' . $key )?>"><?php echo $value?></a></td>
									<td>
										<a href="<?php echo admin_url('admin.php?page=my-sticky-elements&load_from=dashboard&widget=' . $key )?>" class="mystickyelement-widgets-lists-edit-btn" >
											<i class="fas fa-pencil-alt"></i>
										</a>
									</td>
									<td>
										<label class="myStickyelements-switch">
											<input type="checkbox" data-id="<?php echo esc_attr($key);?>" class="mystickyelement-widgets-lists-enabled" name="stickyelement-widget-enabled" id= "mystickyelement-widget-enabled-<?php echo esc_attr($key); ?>" value="1" <?php checked( $widget_status, 1); ?> />
											<span class="slider round"></span>
										</label>

										<div class="mystickyelements-action-popup-open mystickyelements-action-popup-status" id="widget-status-popup-<?php echo $key; ?>" style="display:none;">
											<div class="popup-ui-widget-header">
												<span id="ui-id-1" class="ui-dialog-title"><?php echo esc_html_e( 'Are you sure?', 'mystickyelement');?></span><span class="close-dialog" data-id="<?php echo esc_attr($key); ?>" data-from ='widget-status'> &#10006 </span>
											</div>	
											<div id="widget-delete-confirm" class="ui-widget-content"><p><?php 
												echo esc_html_e( "You're about to turn off the widget. By turning it off, this widget won't appear on your website. Are you sure?", "mystickyelement");
											?></p></div>
											<div class="popup-ui-dialog-buttonset"><button type="button" class="btn-disable-cancel" data-id="<?php echo esc_attr($key);?>"><?php echo esc_html_e('Disable anyway','mystickyelement');?></button><button type="button" class="mystickyelement-keep-widget-btn" data-id="<?php echo $key; ?>"><?php echo esc_html_e('Keep using','mystickyelement');?></button></div>
										</div>
										<div id="mystickyelement-status-popup-overlay-<?php echo $key;?>" class="stickyelement-overlay" style="display:none;" data-id="<?php echo $key; ?>" data-from="widget-status"></div>

									</td>
									<td>
										<div class="mystickyelement-quick-action-wrap">
											<div class="mystickyelements-custom-fields-tooltip"><a href="#"class="mystickyelements-tooltip dashboard mystickyelemt-rename-widget"  data-id="<?php echo $key; ?>"><svg width="20" height="20" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.93754 1.83337H12.6024C12.7766 1.83343 12.9442 1.8996 13.0715 2.01852C13.1988 2.13743 13.2762 2.30023 13.2881 2.47401C13.2999 2.6478 13.2454 2.81961 13.1355 2.95473C13.0256 3.08985 12.8684 3.17821 12.6959 3.20196L12.6024 3.20837H11.4584V18.7917H12.6005C12.7667 18.7917 12.9272 18.8519 13.0524 18.9611C13.1776 19.0703 13.259 19.2211 13.2816 19.3857L13.288 19.4792C13.288 19.6453 13.2279 19.8059 13.1187 19.9311C13.0095 20.0563 12.8586 20.1377 12.694 20.1603L12.6005 20.1667H8.93754C8.76335 20.1667 8.59568 20.1005 8.4684 19.9816C8.34112 19.8626 8.26372 19.6999 8.25185 19.5261C8.23998 19.3523 8.29451 19.1805 8.40444 19.0454C8.51436 18.9102 8.67148 18.8219 8.84404 18.7981L8.93754 18.7917H10.0825V3.20837H8.93754C8.77141 3.20837 8.61089 3.1482 8.48569 3.039C8.36048 2.92981 8.27905 2.77896 8.25646 2.61437L8.25004 2.52087C8.25005 2.35474 8.31021 2.19423 8.41941 2.06902C8.52861 1.94381 8.67945 1.86238 8.84404 1.83979L8.93754 1.83337ZM16.7255 4.58062C17.5154 4.58135 18.2728 4.89546 18.8313 5.45401C19.3899 6.01255 19.704 6.76989 19.7047 7.55979L19.7084 14.4385C19.7089 15.1993 19.4182 15.9316 18.8959 16.4849C18.3736 17.0382 17.6594 17.3706 16.8997 17.414L16.7292 17.4185H12.3796V4.57971H16.7246L16.7255 4.58062ZM9.16396 4.58062L9.15937 17.4167H4.81254C4.02258 17.4167 3.26495 17.103 2.70628 16.5445C2.1476 15.986 1.83362 15.2284 1.83337 14.4385V7.55979C1.83337 6.76967 2.14725 6.0119 2.70595 5.4532C3.26465 4.8945 4.02242 4.58062 4.81254 4.58062H9.16396V4.58062Z" fill="#97A6BA"/></svg></a><p>Rename</p></div>
											
											<div class="mystickyelements-custom-fields-tooltip">
											<a class="mystickyelements-tooltip dashboard" href="<?php echo admin_url('admin.php?copy-from=' . $key .'&page=my-sticky-elements-new-widget');?>"><i class="fas fa-copy"></i></a><p>Duplicate</p></div>
											
											<div class="mystickyelement-delete-widget mystickyelements-custom-fields-tooltip" data-id="<?php echo esc_attr($key);?>">

											<a class="mystickyelements-tooltip dashboard" href="#"><i class="fas fa-trash-alt"></i></a><p>Delete</p></div>
											
											<div class="mystickyelements-action-popup-open" id="stickyelement-action-popup-<?php echo $key; ?>" style="display:none;">
												<div class="popup-ui-widget-header">
													<span id="ui-id-1" class="ui-dialog-title"><?php echo esc_html_e( 'Are you sure about deleting the widget?', 'mystickyelement');?></span><span class="close-dialog" data-id="<?php echo esc_attr($key); ?>" data-from ='widget-delete'> &#10006 </span>
												</div>	
												<div id="widget-delete-confirm" class="ui-widget-content"><p><?php 
													echo esc_html_e( "Are you sure want to delete the widget? By doing this, you'll delete your saved settings, channels, & information within the widget. You will lose the widget permanently and will not be able to retrieve it.", "mystickyelement");
												?></p></div>
												<div class="popup-ui-dialog-buttonset"><button type="button" class="btn-cancel" data-id="<?php echo esc_attr($key);?>"><?php echo esc_html_e('Cancel','mystickyelement');?></button><button type="button" class="mystickyelement-delete-widget-btn" data-id="<?php echo $key; ?>"><?php echo esc_html_e('Delete anyway','mystickyelement');?></button></div>
											</div>
											<div id="mystickyelement-action-popup-overlay-<?php echo $key;?>" class="stickyelement-overlay" style="display:none;" data-id="<?php echo $key; ?>" data-from="widget-action"></div>	
											
											<div class="mystickyelements-action-popup-open mystickyelements-action-popup-rename mystickyelements-action-popup-status" id="stickyelement-widget-rename-popup-<?php echo $key; ?>" style="display:none;">												
												<div class="popup-ui-widget-header">
													<span id="ui-id-1" class="ui-dialog-title"><?php esc_html_e('Rename widget','mystickyelement')?></span>
													<span class="close-dialog" data-id="<?php echo $key; ?>" data-from='widget-rename'>&#10006</span>
												</div>
												<div id="widget-delete-confirm" class="ui-widget-content">
													<input type="text" name="widget_rename" id="widget_rename_<?php echo esc_attr($key); ?>" value="<?php echo $value; ?>" />
												</div>
												<div class="popup-ui-dialog-buttonset"><button type="button" class="mystickyelement-cancel-without-color-widget-btn" data-id="<?php echo $key; ?>"><?php  esc_html_e('Cancel','mystickyelement');?></button><button type="button" class="mystickyelement-btn-rename" data-id="<?php echo esc_attr($key);?>"><?php  esc_html_e('Rename','mystickyelement');?></button></div>
											</div>
											<div id="mystickyelement-rename-popup-overlay-<?php echo $key; ?>" class="stickyelement-overlay" style="display:none;" data-id="<?php echo $key; ?>" data-from="widget-rename"></div>
										</div>
									</td>
								</tr>
								
							<?php
								endforeach;
							endif;
							?>
						</tbody>
					</table>
				</div>	
				<div class="mystickyelement-widgets-btn-wrap">
					<a href="<?php echo admin_url('admin.php?page=my-sticky-elements-new-widget')?>" class="btn"><i class="fas fa-plus-circle"></i>&nbsp;Create a New Widget</a>
				</div>	
				
				<?php 
					global $wpdb;
					$table_name = $wpdb->prefix . "mystickyelement_contact_lists";
					$result = $wpdb->get_results ( "SELECT * FROM ".$table_name ." ORDER BY ID DESC LIMIT 5" );
					
					function dateDiffInDays($date1, $date2){ 
						$diff = strtotime($date2) - strtotime($date1); 
						return abs(round($diff / 86400)); 
					} 
					
					function set_lead_message($message_date,$contact_name){
						$messageDate = date_format($message_date,"d-M-Y");
						$messageTime = date_format($message_date,"h:i A");
						$currentDate = date("d-M-Y");
						$days = dateDiffInDays($currentDate, $messageDate);
						
						if($days == 0){
							$message = "<p><span>".$contact_name."</span> has left message on today on ". $messageTime."</p>";
						}
						else if($days == 1){
							$message = "<p><span>".$contact_name."</span> has left message on 1 day ago on ". $messageTime."</p>";
						}
						else if($days == 2){
							$message = "<p><span>".$contact_name."</span> has left message on 2 days ago on ". $messageTime."</p>";
						}
						else if($days == 3){
							$message = "<p><span>".$contact_name."</span> has left message on 3 days ago on ". $messageTime."</p>";
						}
						else if($days == 4){
							$message = "<p><span>".$contact_name."</span> has left message on 4 days ago on ". $messageTime."</p>";
						}
						else if($days == 5){
							$message = "<p><span>".$contact_name."</span> has left message on 5 days ago on ". $messageTime."</p>";
						}
						else if($days == 6){
							$message = "<p><span>".$contact_name."</span> has left message on 6 days ago on ". $messageTime."</p>";
						}
						else if($days == 7){
							$message = "<p><span>".$contact_name."</span> has left message on 7 days ago on ". $messageTime."</p>";
						}
						else if($days == 8){
							$message = "<p><span>".$contact_name."</span> has left message on 8 days ago on ". $messageTime."</p>";
						}
						else if($days == 9){
							$message = "<p><span>".$contact_name."</span> has left message on 9 days ago on ". $messageTime."</p>";
						}
						else if($days == 10){
							$message = "<p><span>".$contact_name."</span> has left message on 10 days ago on ". $messageTime."</p>";
						}
						else{
							$message = "<p><span>".$contact_name."</span> has left message on ".$messageDate." on ". $messageTime."</p>";
						}
						return $message;		
					}
				?>
				<div class="mystickyelement-tab-boxes">
					<div class="mystickyelement-tab-box-documentation">
						<div class="mystickyelement-tab-boxes-wrap">
							<div class="mystickyelement-tab-box title-box">
								<label><i class="far fa-edit"></i>&nbsp;&nbsp; <?php esc_html_e('DOCUMENTATION','mystickyelements');?></label>
							</div>
							<div class="mystickyelement-tab-box-content">
								<ul class="documents-wrap-list">
									<li><a href="https://premio.io/help/mystickyelements/how-to-use-my-sticky-elements/" target="_blank"><?php esc_html_e('How to use MyStickyElements like a pro?','mystickyelements');?></a></li>
									<li><a href="https://premio.io/help/mystickyelements/how-to-use-my-sticky-elements/" target="_blank"><?php esc_html_e('How do I change or translate My Sticky Elements placeholders?','mystickyelements');?></a></li>
									<li><a href="https://premio.io/help/mystickyelements/how-to-use-my-sticky-elements/" target="_blank"><?php esc_html_e('How do I send my contact form leads to email?','mystickyelements');?></a></li>
									<li><a href="https://premio.io/help/mystickyelements/how-to-use-my-sticky-elements/" target="_blank"><?php esc_html_e('How do I create a custom link or JavaScript channel?','mystickyelements');?></a></li>
									<li><a href="https://premio.io/help/mystickyelements/how-to-use-my-sticky-elements/" target="_blank"><?php esc_html_e('How do I create a custom shortcode/HTML channel to your widget?','mystickyelements');?></a></li>
									
								</ul>	
								<div class="mystickyelement-tab-boxes-btn-wrap">
									<a href="https://premio.io/help/mystickyelements/" target="_blank" class="btn"><?php esc_html_e('Explore all docs','mystickyelements');?><i class="fas fa-arrow-circle-right"></i></a>
								</div>
							</div>
						</div>
					</div>	
					<div class="mystickyelement-tab-box-form-leads">
						<div class="mystickyelement-tab-boxes-wrap">
							<div class="mystickyelement-tab-box title-box">
								<label><i class="fas fa-history"></i></i>&nbsp;&nbsp;<?php esc_html_e('RECENT FORM LEADS','mystickyelements');?></label>
							</div>
							<?php 
							
								if(count($result)>0){
									?>
									<div class="mystickyelement-tab-box-content">
										<ul class="leads-wrap-list">
											<?php 
												foreach($result as $lead){
													$messageDate = date_create($lead->message_date);
													$contact_name = $lead->contact_name;
													$message = set_lead_message($messageDate,$contact_name);
													echo "<li>".$message."</li>";
												}
											?>
										</ul>
										<div class="mystickyelement-tab-boxes-btn-wrap">
										
											<a href="<?php echo admin_url('admin.php?page=my-sticky-elements-leads')?>" class="btn"> <?php esc_html_e('View all leads','mystickyelements');?>&nbsp;<i class="fas fa-arrow-circle-right"></i></a>
										</div>
									</div>
									<?php	
								}
								else{
									?>
									<div class="mystickyelement-tab-box-content mystickyelement-tab-box-content-empty-leads">
										<img src="<?php echo MYSTICKYELEMENTS_PRO_URL ?>/images/no_lead.svg" width="269" height="184"/>	
										<p><strong><?php esc_html_e("You're all caught up.","mystickyelements");?></strong>&nbsp;<?php esc_html_e("When you receive a new lead, it'll show up here.","mystickyelements");?></p>
									</div>
									<?php
								}
							?>
						</div>
					</div>
					<div class="mystickyelement-tab-box-integration">
						<div class="mystickyelement-tab-boxes-wrap">
							<div class="mystickyelement-tab-box title-box">
								<label><i class="fas fa-link"></i>&nbsp;&nbsp;<?php esc_html_e('INTEGRATION','mystickyelements');?></label>
							</div>
							<div class="mystickyelement-tab-box-content mystickyelement-tab-box-content-integration">
								<div class="mystickyelement-tab-integration-row">
									<div class="mystickyelement-tab-integration-col integration-logo">
										<img src="<?php echo MYSTICKYELEMENTS_PRO_URL ?>/images/mailchimp.png" width="25px" height="25px">
									</div>
									<div class="mystickyelement-tab-integration-col-title">
										<h3><?php esc_html_e('Mailchimp','mystickyelements');?></h3>
										<p><?php esc_html_e('Sync your leads automatically to your Mailchimp list','mystickyelements'); ?></p>
									</div>
									<div class="mystickyelement-tab-integration-action">
										<?php 
										if( $elements_mc_api_key!='' ){	?>
											<a class="integration-connect" href="<?php echo admin_url('admin.php?page=my-sticky-elements-integration')?>"><?php esc_html_e('Connected','mystickyelements');?></a>
											<?php
										}else{ ?>
											<a href="<?php echo admin_url('admin.php?page=my-sticky-elements-integration')?>"><?php esc_html_e('Connect','mystickyelements');?></a>		
											<?php
											}
										?>
									</div>
									<?php
										if( isset($is_pro_active) && !$is_pro_active ):
											?>
											<span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements'); ?></a></span>
											<?php
										endif 
									?>
								</div>
								<div class="mystickyelement-tab-integration-row">
									<div class="mystickyelement-tab-integration-col integration-logo">
										<img src="<?php echo MYSTICKYELEMENTS_PRO_URL ?>/images/mailpoet.png" width="25px" height="25px">
									</div>
									<div class="mystickyelement-tab-integration-col-title">
										<h3><?php esc_html_e('Mailpoet','mystickyelements');?></h3>
										<p><?php esc_html_e('Sync your leads automatically to your Mailpoet list','mystickyelements');?></p>
									</div>
									<div class="mystickyelement-tab-integration-action">
										<?php if( $elements_mailpoet_connect!='') {?>
											<a class="integration-connect" href="<?php echo admin_url('admin.php?page=my-sticky-elements-integration')?>" <?php if( isset($is_pro_active) && !$is_pro_active ) : ?> onclick="return false;" <?php endif; ?>><?php esc_html_e('Connected','mystickyelements');?></a>
												<?php
											} else{ ?>
												<a href="<?php echo admin_url('admin.php?page=my-sticky-elements-integration')?>"><?php esc_html_e('Connect','mystickyelements');?></a><?php
											}
										?>
									</div>
									<?php
										if( isset($is_pro_active) && !$is_pro_active ):
											?>
											<span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements'); ?></a></span>
											<?php
										endif 
									?>
								</div>
							</div>
						</div>
					</div>
				</div>			
			<?php else :?>
				<div class="mystickyelement-welcome-wrap">
					<div class="mystickyelement-welcome-img">
						<img src="<?php echo MYSTICKYELEMENTS_PRO_URL ?>/images/welcome_img.svg" width="438" height="317" alt="Welcome Image" />
					</div>
					<div class="mystickyelement-heading">
						<h3><?php esc_html_e( 'Welcome to My Sticky Elements', 'mystickyelement'); ?> üéâ</h3>
					</div>
					
					<div class="mystickyelement-content">
						<ul>
							<li><?php esc_html_e( 'Add different elements like forms, chat icons, social media icon channels, custom fields, and combine them together into 1 element', 'mystickyelement'); ?></li>
							<li><?php esc_html_e( 'Customize your form, chat, and social icons as you see fit', 'mystickyelement'); ?></li>
							<li><?php esc_html_e( 'Configure triggers & targeting rules for the behavior of the widget. Explore advanced settings for fine tuning even the smallest detail', 'mystickyelement'); ?></li>
							
							<li>Discover more on our <a href="https://premio.io/help/mystickyelements" target="_blank">Help Center</a> for video tutorials and documentation</li>
						</ul>
					</div>
					
					<div class="create-mystickyelement mystickyelement-widgets-btn-wrap">
						<a href="<?php echo admin_url( 'admin.php?page=my-sticky-elements-new-widget' )?>" class="btn"><span><i class="fas fa-plus"></i></span> Create Your First Widget</a>
					</div>
				</div>
			<?php endif; ?>
		</div>
	</div>	
</div>

--- END FILE ---

--- FILE: admin/mystickyelements_timezone.php ---
<?php
function stickyelement_timezone_choice( $selected_zone = '', $utc = true ) {	
	
	$country_name = json_decode(city_country_name_data(), true );
	$continents = array( 'Africa', 'America', 'Antarctica', 'Arctic', 'Asia', 'Atlantic', 'Australia', 'Europe', 'Indian', 'Pacific' );
	
	$zonen = array();
	
	foreach ( timezone_identifiers_list() as $zone ) {
		$zone = explode( '/', $zone );
		if ( ! in_array( $zone[0], $continents, true ) ) {
			continue;
		}

		// This determines what gets set and translated - we don't translate Etc/* strings here, they are done later.
		$exists    = array(
			0 => ( isset( $zone[0] ) && $zone[0] ),
			1 => ( isset( $zone[1] ) && $zone[1] ),
			2 => ( isset( $zone[2] ) && $zone[2] ),
		);
		$exists[3] = ( $exists[0] && 'Etc' !== $zone[0] );
		$exists[4] = ( $exists[1] && $exists[3] );
		$exists[5] = ( $exists[2] && $exists[3] );

		// phpcs:disable WordPress.WP.I18n.LowLevelTranslationFunction,WordPress.WP.I18n.NonSingularStringLiteralText
		$zonen[] = array(
			'continent'   => ( $exists[0] ? $zone[0] : '' ),
			'city'        => ( $exists[1] ? $zone[1] : '' ),
			'subcity'     => ( $exists[2] ? $zone[2] : '' ),
			't_continent' => ( $exists[3] ? str_replace( '_', ' ', $zone[0] ) : '' ),
			't_city'      => ( $exists[4] ? str_replace( '_', ' ', $zone[1] ) : '' ),
			't_subcity'   => ( $exists[5] ? str_replace( '_', ' ', $zone[2] ) : '' ),
		);
		// phpcs:enable
	}
	usort( $zonen, '_couponx_timezone_choice_usort_callback' );

	$structure = array();

	if ( empty( $selected_zone ) ) {
		$structure[] = '<option selected="selected" value="">Select a city or country</option>';
	}
	
	foreach ( $zonen as $key => $zone ) {
		// Build value in an array to join later.
		$value = array( $zone['continent'] );
		$display = '';
		
		if ( isset( $country_name[$zone['city']] )  && $country_name[$zone['city']] != '' ) {
			$display .= $country_name[$zone['city']] . "/";
		}
		
		if ( empty( $zone['city'] ) ) {
			// It's at the continent level (generally won't happen).
			$display .= $zone['t_continent'];
		} else {
			// It's inside a continent group.

			// Continent optgroup.
			if ( ! isset( $zonen[ $key - 1 ] ) || $zonen[ $key - 1 ]['continent'] !== $zone['continent'] ) {
				$label       = $zone['t_continent'];
				$structure[] = '<optgroup label="' . $label . '">';
			}

			// Add the city to the value.
			$value[] = $zone['city'];

			$display .= $zone['t_city'];
			if ( ! empty( $zone['subcity'] ) ) {
				// Add the subcity to the value.
				$value[]  = $zone['subcity'];
				$display .= ' - ' . $zone['t_subcity'];
			}
		}

		// Build the value.
		$value    = join( '/', $value );
		$selected = '';
		if ( $value === $selected_zone ) {
			$selected = 'selected="selected" ';
		}
		$structure[] = '<option ' . $selected . 'value="' . $value . '">' . $display . '</option>';

		// Close continent optgroup.
		if ( ! empty( $zone['city'] ) && ( ! isset( $zonen[ $key + 1 ] ) || ( isset( $zonen[ $key + 1 ] ) && $zonen[ $key + 1 ]['continent'] !== $zone['continent'] ) ) ) {
			$structure[] = '</optgroup>';
		}
	}

	// Do UTC.
	$structure[] = '<optgroup label="UTC">';
	$selected    = '';
	if ( 'UTC' === $selected_zone ) {
		$selected = 'selected="selected" ';
	}
	$structure[] = '<option ' . $selected . 'value="UTC">UTC</option>';
	$structure[] = '</optgroup>';

	// Do manual UTC offsets.
	$structure[]  = '<optgroup label="Manual Offsets">';
	$offset_range = array(
		-12,
		-11.5,
		-11,
		-10.5,
		-10,
		-9.5,
		-9,
		-8.5,
		-8,
		-7.5,
		-7,
		-6.5,
		-6,
		-5.5,
		-5,
		-4.5,
		-4,
		-3.5,
		-3,
		-2.5,
		-2,
		-1.5,
		-1,
		-0.5,
		0,
		0.5,
		1,
		1.5,
		2,
		2.5,
		3,
		3.5,
		4,
		4.5,
		5,
		5.5,
		5.75,
		6,
		6.5,
		7,
		7.5,
		8,
		8.5,
		8.75,
		9,
		9.5,
		10,
		10.5,
		11,
		11.5,
		12,
		12.75,
		13,
		13.75,
		14,
	);
	foreach ( $offset_range as $offset ) {
		if ( 0 <= $offset ) {
			$offset_name = ($utc ) ? '+' . $offset : $offset;
		} else {
			$offset_name = (string) $offset;
		}

		$offset_value = $offset_name;
		$offset_name  = str_replace( array( '.25', '.5', '.75' ), array( ':15', ':30', ':45' ), $offset_name );
		if ( 0 <= $offset && !$utc ){
			$offset_name  = 'UTC+' . $offset_name;		
		} else {
			$offset_name  = 'UTC' . $offset_name;		
		}
		$offset_value = ($utc ) ? 'UTC' . $offset_value : $offset_value ;
		$selected     = '';
		if ( $offset_value === $selected_zone ) {
			$selected = 'selected="selected" ';
		}
		$structure[] = '<option ' . $selected . 'value="' . $offset_value . '">' . $offset_name . '</option>';

	}
	$structure[] = '</optgroup>';

	return join( "\n", $structure );
}



/**
 * Sort-helper for timezones.
 *
 * @since 2.9.0
 * @access private
 *
 * @param array $a
 * @param array $b
 * @return int
 */
function _couponx_timezone_choice_usort_callback( $a, $b ) {
	// Don't use translated versions of Etc.
	if ( 'Etc' === $a['continent'] && 'Etc' === $b['continent'] ) {
		// Make the order of these more like the old dropdown.
		if ( 'GMT+' === substr( $a['city'], 0, 4 ) && 'GMT+' === substr( $b['city'], 0, 4 ) ) {
			return -1 * ( strnatcasecmp( $a['city'], $b['city'] ) );
		}
		if ( 'UTC' === $a['city'] ) {
			if ( 'GMT+' === substr( $b['city'], 0, 4 ) ) {
				return 1;
			}
			return -1;
		}
		if ( 'UTC' === $b['city'] ) {
			if ( 'GMT+' === substr( $a['city'], 0, 4 ) ) {
				return -1;
			}
			return 1;
		}
		return strnatcasecmp( $a['city'], $b['city'] );
	}
	if ( $a['t_continent'] == $b['t_continent'] ) {
		if ( $a['t_city'] == $b['t_city'] ) {
			return strnatcasecmp( $a['t_subcity'], $b['t_subcity'] );
		}
		return strnatcasecmp( $a['t_city'], $b['t_city'] );
	} else {
		// Force Etc to the bottom of the list.
		if ( 'Etc' === $a['continent'] ) {
			return 1;
		}
		if ( 'Etc' === $b['continent'] ) {
			return -1;
		}
		return strnatcasecmp( $a['t_continent'], $b['t_continent'] );
	}
}

function city_country_name_data(){
	return '{"Abidjan":"Ivory Coast","Accra":"Ghana","Addis Ababa":"Ethiopia","Algiers":"Algeria","Asmara":"Eritrea","Bamako":"Mali","Bangui":"Central African Republic","Banjul":"Gambia","Bissau":"Guinea-Bissau","Blantyre":"Malawi","Brazzaville":"Republic of the Congo","Bujumbura":"Burundi","Cairo":"Egypt","Casablanca":"Morocco","Ceuta":"Spain","Conakry":"Guinea","Dakar":"Senegal","Dar es Salaam":"Tanzania","Djibouti":"Djibouti","Douala":"Cameroon","Freetown":"Sierra Leone","Gaborone":"Botswana","Harare":"Zimbabwe","Johannesburg":"South Africa","Juba":"South Sudan","Kampala":"Uganda","Khartoum":"Sudan","Kigali":"Rwanda","Kinshasa":"Congo","Lagos":"Nigeria","Libreville":"Gabon","Lome":"Togo","Luanda":"Angola","Lubumbashi":"Congo","Lusaka":"Zambia","Malabo":"Equatorial Guinea","Maputo":"Mozambique","Maseru":"Lesotho","Mbabane":"Swaziland","Mogadishu":"Somalia","Monrovia":"Liberia","Nairobi":"Kenya","Niamey":"Niger","Nouakchott":"Mauritania","Ouagadougou":"Burkina Faso","Sao Tome":"Brazil","Tripoli":"Libya","Tunis":"Tunisia","Windhoek":"Namibia","Adak":"United States","Anchorage":"United States","Anguilla":"United States","Antigua":"Spain","Asuncion":"Paraguay","Atikokan":"Canada","Belem":"Brazil","Boa Vista":"Brazil","Bogota":"United States","Boise":"United States","Cambridge Bay":"Canada","Campo Grande":"Brazil","Caracas":"Venezuela","Chicago":"Mexico","Chihuahua":"Mexico","Creston":"Canada","Cuiaba":"Brazil","Dawson":"Australia","Dawson Creek":"Canada","Denver":"United States","Detroit":"United States","Dominica":"Dominican Republic","Edmonton":"Canada","El Salvador":"Guatemala","Fort Nelson":"Canada","Fortaleza":"Brazil","Glace Bay":"Canada","Grenada":"United States","Guayaquil":"Ecuador","Halifax":"Canada","Havana":"Cuba","Hermosillo":"Mexico","Indiana":"United States","Inuvik":"Canada","Iqaluit":"Canada","Jamaica":"United States","Juneau":"United States","Kralendijk":"Bonaire","La Paz":"Uruguay","Lima":"Argentina","Los Angeles":"Panama","Managua":"Nicaragua","Manaus":"Brazil","Marigot":"Dominica","Mazatlan":"Mexico","Menominee":"United States","Metlakatla":"United States","Mexico City":"Mexico","Moncton":"Canada","Monterrey":"Mexico","Montevideo":"Uruguay","Montserrat":"Argentina","Nassau":"Bahamas","New York":"United States","Nipigon":"Canada","Nome":"United States","Ojinaga":"Mexico","Panama":"United States","Paramaribo":"Suriname","Phoenix":"South Africa","Port-au-Prince":"Haiti","Port of Spain":"Trinidad and Tobago","Porto Velho":"Brazil","Puerto Rico":"Argentina","Punta Arenas":"Chile","Rankin Inlet":"Canada","Recife":"Brazil","Regina":"Canada","Rio Branco":"Brazil","Santiago":"Peru","Santo Domingo":"Costa Rica","Sao Paulo":"Brazil","Sitka":"United States","Swift Current":"Canada","Tegucigalpa":"Honduras","Thunder Bay":"Canada","Tijuana":"Mexico","Toronto":"Canada","Tortola":"British Virgin Islands","Vancouver":"Canada","Whitehorse":"Canada","Winnipeg":"Canada","Yellowknife":"Canada","Casey":"United States","Davis":"United States","Palmer":"Puerto Rico","Vostok":"Kazakhstan","Longyearbyen":"Svalbard and Jan Mayen","Aden":"Yemen","Almaty":"Kazakhstan","Amman":"Hashemite Kingdom of Jordan","Aqtau":"Kazakhstan","Ashgabat":"Turkmenistan","Atyrau":"Kazakhstan","Baghdad":"Iraq","Baku":"Azerbaijan","Bangkok":"Thailand","Barnaul":"Russia","Beirut":"Lebanon","Bishkek":"Kyrgyzstan","Chita":"Russia","Colombo":"Sri Lanka","Damascus":"Syria","Dhaka":"Bangladesh","Dili":"East Timor","Dubai":"United Arab Emirates","Dushanbe":"Tajikistan","Famagusta":"Cyprus","Gaza":"Palestine","Hebron":"Palestine","Hong Kong":"Hong Kong","Irkutsk":"Russia","Jakarta":"Indonesia","Jayapura":"Indonesia","Jerusalem":"Israel","Kabul":"Afghanistan","Kamchatka":"Russia","Karachi":"Pakistan","Kathmandu":"Nepal","Kolkata":"India","Krasnoyarsk":"Russia","Kuala Lumpur":"Malaysia","Kuching":"Malaysia","Macau":"Brazil","Magadan":"Russia","Makassar":"Indonesia","Manila":"Philippines","Muscat":"Oman","Nicosia":"Cyprus","Novokuznetsk":"Russia","Novosibirsk":"Russia","Omsk":"Russia","Oral":"Kazakhstan","Phnom Penh":"Cambodia","Pontianak":"Indonesia","Pyongyang":"North Korea","Riyadh":"Saudi Arabia","Seoul":"Republic of Korea","Shanghai":"China","Singapore":"Singapore","Taipei":"Taiwan","Tashkent":"Uzbekistan","Tbilisi":"Georgia","Thimphu":"Bhutan","Tokyo":"Japan","Tomsk":"Russia","Vientiane":"Laos","Vladivostok":"Russia","Yakutsk":"Russia","Yangon":"Myanmar [Burma]","Yekaterinburg":"Russia","Yerevan":"Armenia","Madeira":"Portugal","Reykjavik":"Iceland","Stanley":"Falkland Islands","Adelaide":"Australia","Brisbane":"Australia","Broken Hill":"Australia","Currie":"United Kingdom","Darwin":"Australia","Hobart":"Australia","Melbourne":"United Kingdom","Perth":"Canada","Sydney":"Canada","Amsterdam":"Netherlands","Andorra":"Spain","Astrakhan":"Russia","Athens":"Canada","Belgrade":"Serbia","Berlin":"Germany","Bratislava":"Slovakia","Brussels":"Belgium","Bucharest":"Romania","Budapest":"Hungary","Copenhagen":"Denmark","Dublin":"Ireland","Gibraltar":"Gibraltar","Guernsey":"United States","Helsinki":"Finland","Istanbul":"Turkey","Jersey":"United States","Kaliningrad":"Russia","Kiev":"Ukraine","Kirov":"Russia","Lisbon":"Portugal","Ljubljana":"Slovenia","London":"South Africa","Luxembourg":"Luxembourg","Madrid":"Colombia","Malta":"Latvia","Mariehamn":"\u00c5land","Minsk":"Belarus","Monaco":"Monaco","Moscow":"Russia","Oslo":"Norway","Paris":"Canada","Podgorica":"Montenegro","Prague":"Czech Republic","Riga":"Latvia","Rome":"Italy","Samara":"Russia","San Marino":"San Marino","Sarajevo":"Bosnia and Herzegovina","Saratov":"Russia","Simferopol":"Ukraine","Skopje":"Macedonia","Sofia":"Bulgaria","Stockholm":"Sweden","Tallinn":"Estonia","Ulyanovsk":"Russia","Vaduz":"Liechtenstein","Vienna":"Austria","Vilnius":"Republic of Lithuania","Volgograd":"Russia","Warsaw":"Poland","Zagreb":"Croatia","Zurich":"Switzerland","Antananarivo":"Madagascar","Christmas":"United States","Cocos":"Brazil","Apia":"Samoa","Auckland":"New Zealand","Chatham":"Canada","Funafuti":"Tuvalu","Galapagos":"Spain","Gambier":"United States","Honolulu":"United States","Majuro":"Marshall Islands","Midway":"United States","Norfolk":"United States","Noumea":"New Caledonia","Pago Pago":"American Samoa","Palau":"Spain","Pitcairn":"United States","Port Moresby":"Papua New Guinea","Saipan":"Northern Mariana Islands","Wake":"United States","Wallis":"United States"}';
}

--- END FILE ---

--- FILE: admin/contact-forms.php ---
<?php
$custom_fields = array();
foreach ( $contact_field as $key=>$value ) {
	if ( isset($value['custom_fields']) && is_array($value['custom_fields']) ) {
		$custom_fields[] = $value['custom_fields'][0];
	}
}
$textblock_text = ( isset($contact_form['textblock_text'])) ? $contact_form['textblock_text'] : '';
$textblock = ( isset($contact_form['textblock'])) ? $contact_form['textblock'] : '';
$textblock_apper = ( isset( $contact_form['textblock'] ) && $contact_form['textblock'] == 'textblock' ) ? 'mystickyelements-textblock-open' : '' ;

$recaptcha_site_key = ( isset($contact_form['recaptcha_site_key'])) ? $contact_form['recaptcha_site_key'] : '';
$recaptcha_secrete_key = ( isset($contact_form['recaptcha_secrete_key'])) ? $contact_form['recaptcha_secrete_key'] : '';

$contact_form['name_require'] = isset($contact_form['name_require']) ? $contact_form['name_require'] : '';
$contact_form['message_require'] = isset($contact_form['message_require'])  ? $contact_form['message_require']: '';
$contact_form['dropdown_require'] = isset($contact_form['dropdown_require'])  ? $contact_form['dropdown_require']: '';
$contact_form['consent_text_require'] = isset($contact_form['consent_text_require'])  ? $contact_form['consent_text_require']: '';
$contact_form['redirect'] = isset($contact_form['redirect'])  ? $contact_form['redirect']: '';
$contact_form['open_new_tab'] = isset($contact_form['open_new_tab'])  ? $contact_form['open_new_tab']: '';
$contact_form['close_form_automatic'] = isset($contact_form['close_form_automatic'])  ? $contact_form['close_form_automatic']: '';
$contact_form['close_form_automatic'] = isset($contact_form['close_form_automatic'])  ? $contact_form['close_form_automatic']: '';
$contact_form['dropdown'] = isset($contact_form['dropdown']) ? $contact_form['dropdown'] : '';




?>
<input type="hidden" id="myStickyelements-custom-fields-length" value="<?php echo (!empty($custom_fields) ) ?  max($custom_fields)+1 : 1;?>" />

<input type="hidden" name="hide_tab_index" id="hide_tab_index" />

<div id="mystickyelements-tab-contact-form" class="mystickyelements-tab-contact-form mystickyelements-options" style="display: <?php echo ( isset($widget_tab_index) && $widget_tab_index == 'mystickyelements-contact-form' ) ? 'block' : 'none'; ?>;">
	<div class="" >
		<div class="myStickyelements-header-title mystickyelements-option-field">
			<div class="myStickyelements-header-title-left">
				<h3 for="myStickyelements-contact-form-enabled">
					<?php esc_html_e('Show the Contact Form', 'mystickyelements'); ?>
				</h3>
			</div>
			<div class="myStickyelements-header-title-right">
				<label for="myStickyelements-contact-form-enabled" class="myStickyelements-switch">
					<input type="checkbox" id="myStickyelements-contact-form-enabled" name="contact-form[enable]" value="1" <?php checked( @$contact_form['enable'], '1' );?> />
					<span class="slider round"></span>
				</label>
			</div>
			<p class="contact-form-description" id="contact-form-disabled-info"><?php esc_html_e( 'Collect form submissions right from sticky side, top, or bottom bar of your website.', 'mystickyelements');?></p>
			<div class="turn-off-message" style="display: none;">
				<p><i class="fas fa-info-circle"></i><span><?php esc_html_e('Contact form in sticky bar has been turned off. ','mystickyelements');?></span>&nbsp;<a href="javascript:void(0)" class="mystickyelements-turnit-on" data-turnit="myStickyelements-contact-form-enabled"><?php esc_html_e( 'Turn it on', 'mystickyelements' );?></a><?php esc_html_e( ' to collect user submitted forms from sidebar.', 'mystickyelements' );?></p>
			</div>

			<div class="mystickyelements-action-popup-open mystickyelements-action-popup-status" id="contactform-status-popup" style="display:none;">
				<div class="popup-ui-widget-header">
					<span id="ui-id-1" class="ui-dialog-title"><?php echo esc_html_e( 'Are you sure?', 'mystickyelement');?></span><span class="close-dialog" data-from ='contact-form'> &#10006 </span>
				</div>
				<div id="widget-delete-confirm" class="ui-widget-content"><p><?php
					echo esc_html_e( "You're about to turn off the ", "mystickyelement");
				?> <span><?php echo esc_html_e( "contact form", "mystickyelement"); ?></span><?php echo esc_html_e( " widget. By turning it off, this widget won't appear on your website. Are you sure?", "mystickyelement"); ?></p></div>
				<div class="popup-ui-dialog-buttonset"><button type="button" class="btn-disable-cancel button-contact-popup-disable"><?php echo esc_html_e('Disable anyway','mystickyelement');?></button><button type="button" class="mystickyelement-keep-widget-btn button-contact-popup-keep" data-from = "contact-form" ><?php echo esc_html_e('Keep using','mystickyelement');?></button></div>
			</div>
			<div id="mystickyelement-contact-popup-overlay" class="stickyelement-overlay" data-from = "contact-form" style="display:none;"></div>
		</div>

		<?php
		if ( ( isset($_GET['page']) && $_GET['page'] == 'my-sticky-elements-new-widget' ) || ( isset($_GET['widget']) && $_GET['widget'] != '' ) || ( isset($_GET['page']) && $_GET['page'] == 'my-sticky-elements' && $counts > 1 ) ) :
			if ( isset($_GET['widget']) && $_GET['widget'] == 0) {
				$widgets = $_GET['widget'];
			}else{
				if( empty($elements_widgets) || count($elements_widgets) == 0 ){
					$widgets = 0;
				}
			}
			$mystickyelements_widget = ( isset($elements_widgets[$widgets]) && $elements_widgets[$widgets] != '' ) ? $elements_widgets[$widgets] : 'MyStickyElement #' . ($widgets+1);
		?>
		<div id="myStickyelements-widget-title" class="myStickyelements-icon-wrap myStickyelements-widget-title">

			<input type="hidden" name="widget_status" value="<?php if(isset($_GET['page'])) : echo $_GET['page']; endif; ?>" />
			<input type="hidden" id="mystickyelements-no-widget" name="mystickyelements-no-widget" value="<?php echo $widgets?>" />
			<input type="text" name="mystickyelements-widget" value="<?php echo esc_attr($mystickyelements_widget);?>" placeholder="<?php echo 'Widget #' . $widgets;?>">
			<i class="fas fa-pencil-alt"></i>
		</div>
		<?php endif;?>
		<div class="mystickyelements-disable-wrap">
			<div class="mystickyelements-disable-content-wrap" style="display:none;">
				<div class="mystickyelements-disable-content">
					<i class="fas fa-eye-slash"></i>
					<p><?php esc_html_e( 'DISABLED', 'mystickyelements' );?></p>
				</div>
			</div>
			<div class="myStickyelements-header-title mystickyelements-option-field mystickyelements-sub-header-color">
				<h3><?php esc_html_e( 'Customize Form Fields', 'mystickyelements' );?></h3>
			</div>
			<div id="mystickyelements-contact-form-fields" class="mystickyelements-contact-form-fields">
				<?php
				$enable_class = '';
				if( !isset($contact_form['textblock_checkbox']) && @$contact_form['textblock_checkbox'] != 'yes') {
					$enable_class = 'hide_field';
				}
				?>
				<div id="mystickyelements-option-field-textblock" class="mystickyelements-option-field mystickyelements-textblock-main-field<?php echo $textblock_apper; ?> mystickyelements-textblock_checkbox <?php echo $enable_class; ?>">
					<span class="mystickyelement-field-hide-content"><?php esc_html_e('Field is hidden.', 'mystickyelements');?> <label for="textblock_checkbox"><a><?php esc_html_e('Show the field', 'mystickyelements'); ?></a></label></span>
					<div class="sticky-col-1">
						<label><?php esc_html_e( 'Textblock', 'mystickyelements');?></label>
						<input type="hidden" class="contact-fields" name="contact-form[textblock]" value="<?php echo $textblock; ?>" />
					</div>
					<div class="sticky-col-2">
						<div class="mystickyelements-reqired-wrap">
							<?php
							$settings = array(
								'media_buttons' => false,
								'wpautop' => false,
								'drag_drop_upload' => false,
								'textarea_name' => 'contact-form[textblock_text]',
								'textarea_rows' => 4,
								'quicktags' => false,
								'tinymce'       => array(
									'toolbar1'      => 'bold, italic, underline, link, numlist  ,bullist,forecolor ,strikethrough,fontsizeselect',
									'toolbar2'  => '',
									'toolbar3'  => ''
								)
							);
							wp_editor( stripslashes($textblock_text), 'contact-form-textblock', $settings );
							?>
						</div>
						<div class="mystickyelements-action">
							<ul>
								<li>
									<label for="textblock_checkbox" class="myStickyelements-visible-icon mystickyelements-custom-fields-tooltip">
										<input type="checkbox" name="contact-form[textblock_checkbox]" id="textblock_checkbox" value="yes" <?php checked( @$contact_form['textblock_checkbox'], 'yes' );?>  />
										<span class="visible-icon">
											<p class="show-field-tooltip"><?php _e('Show Field','mystickyelements');?></p>
											<p class="hide-field-tooltip"><?php _e('Hide Field','mystickyelements');?></p>
										</span>
									</label>
								</li>
								<li>
									<span class="textblock-delete">
										<i class='fas fa-trash-alt stickyelement-textblock-delete'></i>
									</span>
								</li>
							</ul>
							<div class="mystickyelements-hide-field-guide">
								<p><?php esc_html_e( 'The field is hidden and won‚Äôt show.', 'mystickyelements');?></p>
							</div>
						</div>
					</div>
				</div>

				<!-- finish Contact Block -->
				<?php foreach ( $contact_field as $key=>$value ) :
					$val = $value;
					if ( !is_numeric($key) && $key == 'custom_fields' ) {
						$val = 'custom_fields';
					}
					if ( isset($value['custom_fields']) && is_array($value['custom_fields']) ) {
						$val = 'custom_fields';
						$value = $value['custom_fields'];
					}
					switch ( $val ) {
						case 'name' :
							$enable_class = '';
							if( !isset($contact_form['name']) && @$contact_form['name'] != '1') {
								$enable_class = 'hide_field';
							}

				?>
							<div class="mystickyelements-option-field contact-form-option myStickyelements-icon-wrap mystickyelements-name_enable <?php echo $enable_class; ?>">
								<span class="mystickyelement-field-hide-content"><?php esc_html_e('Field is hidden.', 'mystickyelements');?> <label for="name_enable"><a><?php esc_html_e('Show the field', 'mystickyelements'); ?></a></label></span>
								<div class="mystickyelements-move-handle"></div>
								<div class="sticky-col-1">
									<input type="hidden" class="contact-fields" name="contact-field[]" value="name" />
									<label><i class="fas fa-user"></i><?php esc_html_e('Name', 'mystickyelements');?></label>
								</div>
								<div class="sticky-col-2">
									<div class="mystickyelements-reqired-wrap">
										<input type="text" name="contact-form[name_value]" value="<?php echo $contact_form['name_value'];?>" placeholder="<?php _e('Name','mystickyelements');?>" />
									</div>
									<div class="mystickyelements-action">
										<ul>
											<li>
												<label  class="myStickyelements-visible-icon mystickyelements-custom-fields-tooltip">
													<input type="checkbox" id= "name_enable" name="contact-form[name]" value="1" <?php checked( @$contact_form['name'], '1' );?> />
													<span class="visible-icon">
														<p class="show-field-tooltip"><?php _e('Show Field','mystickyelements');?></p>
														<p class="hide-field-tooltip"><?php _e('Hide Field','mystickyelements');?></p>
													</span>
												</label>
											</li>
											<li>
												<label for="name_require"><?php _e('Required', 'mystickyelements');?></label>
												<label for="name_require" class="myStickyelements-switch">
													<input type="checkbox" id="name_require" class="required" name="contact-form[name_require]" value="1"  <?php checked( @$contact_form['name_require'], '1' );?> />
													<span class="slider round"></span>
												</label>
											</li>
										</ul>
										<div class="mystickyelements-hide-field-guide">
											<p><?php esc_html_e( 'The field is hidden and won‚Äôt show.', 'mystickyelements');?></p>
										</div>
									</div>
								</div>
							</div>
				<?php
							break;
						case 'phone' :
							$enable_class = '';
							if( !isset($contact_form['phone']) && @$contact_form['phone'] != '1') {
								$enable_class = 'hide_field';
							}
				?>
							<div class="mystickyelements-option-field contact-form-option myStickyelements-icon-wrap mystickyelements-enable_phone <?php echo $enable_class; ?>">
								<span class="mystickyelement-field-hide-content"><?php esc_html_e('Field is hidden.', 'mystickyelements');?> <label for="enable_phone"><a><?php esc_html_e('Show the field', 'mystickyelements'); ?></a></label></span>
								<div class="mystickyelements-move-handle"></div>
								<div class="sticky-col-1">
									<input type="hidden" class="contact-fields" name="contact-field[]" value="phone" />
									<label><i class="fas fa-phone"></i><?php esc_html_e('Phone', 'mystickyelements');?></label>
								</div>
								<div class="sticky-col-2">
									<div class="mystickyelements-reqired-wrap">
										<input type="text" name="contact-form[phone_value]" value="<?php echo $contact_form['phone_value'];?>" placeholder="<?php _e('Phone','mystickyelements');?>"/>
									</div>
									<label class="mystickyelement-permision-code"><input type="checkbox" name="contact-form[phone_formate]" value="1" <?php checked( @$contact_form['phone_formate'], '1' );?> > &nbsp;<?php esc_html_e('Use country code formatting', 'mystickyelements');?> 
									<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip myStickyelements-hide-tooltip">
										<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
										<p><?php esc_html_e("Add country code picker for easier phone number input", 'mystickyelements'); ?>
											<img src="<?php echo MYSTICKYELEMENTS_PRO_URL ?>/images/countryformtaing.png">
										</p>
									</div>
									</label>
									<div class="mystickyelements-action">
										<ul>
											<li>
												<label  class="myStickyelements-visible-icon mystickyelements-custom-fields-tooltip">
													<input type="checkbox" id="enable_phone" name="contact-form[phone]" value="1" <?php checked( @$contact_form['phone'], '1' );?> />
													<span class="visible-icon">
														<p class="show-field-tooltip"><?php _e('Show Field','mystickyelements');?></p>
														<p class="hide-field-tooltip"><?php _e('Hide Field','mystickyelements');?></p>
													</span>
												</label>
											</li>
											<li>
												<label for="phone_require"><?php _e('Required', 'mystickyelements');?></label>
												<label for="phone_require" class="myStickyelements-switch">
													<input type="checkbox" id="phone_require" class="required" name="contact-form[phone_require]" value="1" <?php checked( @$contact_form['phone_require'], '1' );?> />
													<span class="slider round"></span>
												</label>
											</li>
										</ul>
										<div class="mystickyelements-hide-field-guide">
											<p><?php esc_html_e( 'The field is hidden and won‚Äôt show.', 'mystickyelements');?></p>
										</div>
									</div>
								</div>
							</div>
				<?php
							break;

						case 'email' :
							$enable_class = '';
							if( !isset($contact_form['email']) && @$contact_form['email'] != '1') {
								$enable_class = 'hide_field';
							}
				?>
							<div class="mystickyelements-option-field contact-form-option myStickyelements-icon-wrap mystickyelements-email_enable <?php echo $enable_class; ?>">
								<span class="mystickyelement-field-hide-content"><?php esc_html_e('Field is hidden.', 'mystickyelements');?> <label for="email_enable"><a><?php esc_html_e('Show the field', 'mystickyelements'); ?></a></label></span>
								<div class="mystickyelements-move-handle"></div>
								<div class="sticky-col-1">
									<input type="hidden" class="contact-fields" name="contact-field[]" value="email" />
									<label><i class="fas fa-envelope"></i><?php esc_html_e('Email', 'mystickyelements');?></label>
								</div>
								<div class="sticky-col-2">
									<div class="mystickyelements-reqired-wrap">
										<input type="text" name="contact-form[email_value]" value="<?php echo $contact_form['email_value'];?>" placeholder="<?php _e('Email','mystickyelements');?>" />
									</div>
									<div class="mystickyelements-action">
										<ul>
											<li>
												<label  class="myStickyelements-visible-icon mystickyelements-custom-fields-tooltip">
													<input type="checkbox" id="email_enable" name="contact-form[email]" value="1" <?php checked( @$contact_form['email'], '1' );?> />
													<span class="visible-icon">
														<p class="show-field-tooltip"><?php _e('Show Field','mystickyelements');?></p>
														<p class="hide-field-tooltip"><?php _e('Hide Field','mystickyelements');?></p>
													</span>
												</label>
											</li>
											<li>
												<label for="email_require"><?php _e('Required', 'mystickyelements');?></label>
												<label for="email_require" class="myStickyelements-switch">
													<input type="checkbox" id="email_require" class="required" name="contact-form[email_require]" value="1"  <?php checked( @$contact_form['email_require'], '1' );?> />
													<span class="slider round"></span>
												</label>
											</li>
										</ul>
										<div class="mystickyelements-hide-field-guide">
											<p><?php esc_html_e( 'The field is hidden and won‚Äôt show.', 'mystickyelements');?></p>
										</div>
									</div>
								</div>
							</div>

				<?php
							break;
						case 'message' :
							$enable_class = '';
							if( !isset($contact_form['message']) && @$contact_form['message'] != '1') {
								$enable_class = 'hide_field';
							}
				?>
							<div class="mystickyelements-option-field contact-form-option myStickyelements-icon-wrap mystickyelements-message_enable <?php echo $enable_class; ?>">
								<span class="mystickyelement-field-hide-content"><?php esc_html_e('Field is hidden.', 'mystickyelements');?> <label for="message_enable"><a><?php esc_html_e('Show the field', 'mystickyelements'); ?></a></label></span>
								<div class="mystickyelements-move-handle"></div>
								<div class="sticky-col-1">
									<input type="hidden" class="contact-fields" name="contact-field[]" value="message" />
									<label><i class="fas fa-comment-dots"></i><?php esc_html_e('Message', 'mystickyelements');?></label>
								</div>
								<div class="sticky-col-2">
									<div class="mystickyelements-reqired-wrap">
										<textarea name="contact-form[message_value]" rows="2" cols="50" placeholder="<?php _e('Message','mystickyelements');?>" ><?php echo $contact_form['message_value'];?></textarea>
									</div>
									<div class="mystickyelements-action">
										<ul>
											<li>
												<label  class="myStickyelements-visible-icon mystickyelements-custom-fields-tooltip">
													<input type="checkbox" id="message_enable" name="contact-form[message]" value="1" <?php checked( @$contact_form['message'], '1' );?> />
													<span class="visible-icon">
														<p class="show-field-tooltip"><?php _e('Show Field','mystickyelements');?></p>
														<p class="hide-field-tooltip"><?php _e('Hide Field','mystickyelements');?></p>
													</span>
												</label>
											</li>
											<li>
												<label for="message_require"><?php _e('Required', 'mystickyelements');?></label>
												<label for="message_require" class="myStickyelements-switch">
													<input type="checkbox" class="required"  id="message_require" name="contact-form[message_require]" value="1" <?php checked( @$contact_form['message_require'], '1' );?> />
													<span class="slider round"></span>
												</label>
											</li>
										</ul>
										<div class="mystickyelements-hide-field-guide">
											<p><?php esc_html_e( 'The field is hidden and won‚Äôt show.', 'mystickyelements');?></p>
										</div>
									</div>
								</div>
							</div>

				<?php
							break;
						case 'dropdown' :
							$enable_class = '';
							if( (isset($contact_form['dropdown']) && $contact_form['dropdown'] == '') || !isset($contact_form['dropdown']) ) {
								$enable_class = 'hide_field';
							}

				?>
							<div class="mystickyelements-option-field contact-form-option myStickyelements-icon-wrap  mystickyelements-dropdown_enable  <?php echo !$is_pro_active?" myStickyelements-pro-wrap":"" ?> <?php echo $enable_class; ?>" >
								<?php if(!$is_pro_active) {?>
									<p class="mystickyelement-field-hide-content upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></p>
								<?php } else { ?>
									<span class="mystickyelement-field-hide-content"><?php esc_html_e('Field is hidden.', 'mystickyelements');?> <label for="dropdown_enable"><a><?php esc_html_e('Show the field', 'mystickyelements'); ?></a></label></span>
								<?php } ?>
								<div class="mystickyelements-move-handle"></div>
								<div class="sticky-col-1">
									<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip myStickyelements-hide-tooltip">
										<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
										<p><?php esc_html_e("Show dropdown in contact form", 'mystickyelements'); ?>
											<img src="<?php echo MYSTICKYELEMENTS_PRO_URL ?>/images/dropdown-image.jpeg">
										</p>
									</div>
									<input type="hidden" class="contact-fields" name="contact-field[]" value="dropdown" />
									<label><?php esc_html_e('Dropdown', 'mystickyelements');?></label>
								</div>
								<div class="sticky-col-2">
									<div class="mystickyelements-reqired-wrap">
										<select name="contact-form[dropdown_value]" id="" <?php echo !$is_pro_active?"disabled":"" ?> >
											<option value=""><?php echo @$contact_form['dropdown-placeholder'];?></option>
											<?php if ( isset( $contact_form['dropdown-option'] ) && !empty($contact_form['dropdown-option']) ) :
											foreach ( $contact_form['dropdown-option'] as $option) :
												if ( $option == '' ) {
													continue;
												}
												echo "<option>" . esc_html($option) . "</option>";
											endforeach;
											endif;
											?>
										</select>
									</div>
									<div class="mystickyelements-action">
										<ul>
											<li>
												<label  class="myStickyelements-visible-icon mystickyelements-custom-fields-tooltip">
													<input type="checkbox" id="dropdown_enable" name="contact-form[dropdown]" value="1" <?php checked( @$contact_form['dropdown'], '1' );?> <?php echo !$is_pro_active?"disabled":"" ?> />
													<span class="visible-icon">
														<p class="show-field-tooltip"><?php _e('Show Field','mystickyelements');?></p>
														<p class="hide-field-tooltip"><?php _e('Hide Field','mystickyelements');?></p>
													</span>
												</label>
											</li>
											<li>
												<label for="dropdown_require"><?php _e('Required', 'mystickyelements');?></label>
												<label for="dropdown_require" class="myStickyelements-switch">
													<input type="checkbox" class="required"  id="dropdown_require" name="contact-form[dropdown_require]" value="1" <?php checked( @$contact_form['dropdown_require'], '1' );?> <?php echo !$is_pro_active?"disabled":"" ?> />
													<span class="slider round"></span>
												</label>
											</li>
											<li>
												<label class="myStickyelements-setting-label">
													<span class="contact-form-dropdown-popup contact-form-popup-setting">
														<i class="fas fa-cog"></i>&nbsp;<?php esc_html_e( 'Settings', 'mystickyelements' );?>
													</span>
												</label>
											</li>
										</ul>
										<div class="mystickyelements-hide-field-guide">
											<p><?php esc_html_e( 'The field is hidden and won‚Äôt show.', 'mystickyelements');?></p>
										</div>
									</div>
								</div>
							</div>

				<?php
							break;
						case "custom_fields":
							foreach ( $value as $cutom_field ) {

								$cutom_field_value = $contact_form['custom_fields'][$cutom_field];
								$enable_class = '';
								if( !isset( $cutom_field_value['custom_field'] )) {
									$enable_class = 'hide_field';
								}
								?>
									<div class="mystickyelements-customfields mystickyelements-option-field contact-form-option myStickyelements-icon-wrap mystickyelements-enable_<?php echo $cutom_field;?> <?php echo $enable_class; ?>">
										<span class="mystickyelement-field-hide-content"><?php esc_html_e('Field is hidden.', 'mystickyelements');?> <label for="enable_<?php echo $cutom_field;?>"><a><?php esc_html_e('Show the field', 'mystickyelements'); ?></a></label></span>

										<div class="mystickyelements-move-handle"></div>
										<div class="sticky-col-1">
											<input type="hidden" class="contact-fields" name="contact-field[][custom_fields][]" value="<?php echo $cutom_field;?>" />
											<span class="text_label" id="custom_field_label<?php echo $cutom_field;?>">
												<?php echo esc_html_e($cutom_field_value['custom_field_name'],'mystickyelements');?>
											</span>
											<i class="fas fa-pencil-alt stickyelement-edit"></i>
											<input type="text" class="stickyelement-edit-field" name='contact-form[custom_fields][<?php echo $cutom_field;?>][custom_field_name]' value="<?php echo $cutom_field_value['custom_field_name'];?>" />
											<input type="hidden" name="contact-form[custom_fields][<?php echo $cutom_field;?>][field_dropdown]" value="<?php echo $cutom_field_value['field_dropdown']; ?>" />
										</div>
										<div class="sticky-col-2">
											<div class="mystickyelements-reqired-wrap">
												<?php
													$field_dropdown = ( isset($cutom_field_value['field_dropdown']) && $cutom_field_value['field_dropdown'] != '' ) ? $cutom_field_value['field_dropdown'] : 'text';

													$cutom_field_val = ( isset ($cutom_field_value['custom_field_value']) && $cutom_field_value['custom_field_value'] != '') ? stripslashes($cutom_field_value['custom_field_value']): '';

													if( $field_dropdown != 'textarea' && $field_dropdown != 'dropdown' ){
														if ( $field_dropdown == 'text' ){
															$custom_field_dropdown = "Enter your message";
														} elseif ( $field_dropdown == 'number' ) {
															$custom_field_dropdown = "Enter a number";
														} elseif ( $field_dropdown == 'url' ) {
															$custom_field_dropdown = "Enter your website";
														} elseif ( $field_dropdown == 'date' ) {
															$custom_field_dropdown = "mm/dd/yyyy";
														}
														if( $field_dropdown == 'file' ){ ?>
															<input type="file" name="contact-form[custom_fields][<?php echo $cutom_field;?>][custom_field_value]" value="<?php echo $cutom_field_val;?>" style="pointer-events: none;" />

														<?php } else { ?>
															<input type="text" name="contact-form[custom_fields][<?php echo $cutom_field;?>][custom_field_value]" value="<?php echo $cutom_field_val;?>" placeholder="<?php _e( ucwords( $custom_field_dropdown ),'mystickyelements');?>" />
														<?php }
														?>
													<?php
													}elseif( $field_dropdown == 'textarea' ) { ?>
														<textarea name="contact-form[custom_fields][<?php echo $cutom_field;?>][custom_field_value]" rows="5" cols="50" placeholder="<?php _e('Enter your Message','mystickyelements');?>" ><?php echo $cutom_field_val;?></textarea>
													<?php
													}else
													{ ?>
														<select name="contact-form[custom_fields][<?php echo $cutom_field;?>][custom_field_value]" >
															<option value=""><?php echo @$cutom_field_value['dropdown-placeholder']; ?></option>
															<?php if ( isset( $cutom_field_value['dropdown-option'] ) && !empty($cutom_field_value['dropdown-option']) ) :
															foreach ( $cutom_field_value['dropdown-option'] as $option) :
																if ( $option == '' ) {
																	continue;
																}
																echo "<option value=" . esc_html($option) . " >" . esc_html($option) . "</option>";
															endforeach;
															endif;
															?>
														</select>
													<?php
													}
												?>
											</div>
											<div class="mystickyelements-action">
												<ul>
													<li>
														<label class="myStickyelements-visible-icon mystickyelements-custom-fields-tooltip">
															<input type="checkbox" id="enable_<?php echo $cutom_field;?>" name="contact-form[custom_fields][<?php echo $cutom_field;?>][custom_field]" value="1" <?php checked( @$cutom_field_value['custom_field'], '1' );?> />
															<span class="visible-icon">
																<p class="show-field-tooltip"><?php _e('Show Field','mystickyelements');?></p>
																<p class="hide-field-tooltip"><?php _e('Hide Field','mystickyelements');?></p>
															</span>
														</label>
													</li>
													<li>
														<span class="custom-stickyelement-delete">
															<i class='fas fa-trash-alt stickyelement-delete'></i>
														</span>
													</li>
													<li>
														<label for="custom_fields_<?php echo $cutom_field;?>"><?php _e('Required', 'mystickyelements');?></label>
														<label class="myStickyelements-switch">
															<input type="checkbox" id="custom_fields_<?php echo $cutom_field;?>" class="required" name="contact-form[custom_fields][<?php echo $cutom_field;?>][custom_field_require]" value="1"  <?php checked( @$cutom_field_value['custom_field_require'], '1' );?> <?php echo !$is_pro_active?"disabled":"" ?> />
															<span class="slider round"></span>
														</label>
													</li>
													<li <?php if($cutom_field_value['field_dropdown'] != 'dropdown'): ?> style="display:none;" <?php endif;?>>
														<label class="myStickyelements-setting-label">
															<span  class="contact-form-field-popup contact-form-popup-setting dropdown-field-setting" data-id="contact_form_field_open<?php echo $cutom_field;?>"><i class="fas fa-cog"></i> <?php esc_html_e( 'Settings', 'mystickyelements' );?></span>
														</label>
													</li>
												</ul>
												<div class="mystickyelements-hide-field-guide">
													<p><?php esc_html_e( 'The field is hidden and won‚Äôt show.', 'mystickyelements');?></p>
												</div>
											</div>
										</div>

										<div id="contact_form_field_open<?php echo $cutom_field;?>" class="contact-form-field-open contact-form-setting-popup-open" style="display: none;">
											<div id="contact_form_custom_dropdown<?php echo $cutom_field;?>" class="contact-form-dropdown-main" style="<?php echo ( $cutom_field_value['field_dropdown'] != 'dropdown' ) ? 'display: none;' : '' ; ?>">
												<input type="text" name="contact-form[custom_fields][<?php echo $cutom_field;?>][dropdown-placeholder]" class="contact-form-dropdown-select" value="<?php if( isset($cutom_field_value['dropdown-placeholder']) && $cutom_field_value['dropdown-placeholder']!="" ){echo esc_attr(@$cutom_field_value['dropdown-placeholder']);}else{ echo "- Select -"; }?>" placeholder="<?php esc_html_e( 'Select...', 'mystickyelement' ); ?>"/>
												<div class="contact-form-dropdown-option">
													<div class="option-value-field">
														<span class="move-icon"></span>
														<input type="text" name="contact-form[custom_fields][<?php echo $cutom_field;?>][dropdown-option][]" value=""/>
														<span class="add-customfield-dropdown-option" data-field="<?php echo $cutom_field; ?>"><?php esc_html_e( 'Add', 'mystickyelement' );?></span>
													</div>
													<?php if ( isset( $cutom_field_value['dropdown-option'] ) && !empty($cutom_field_value['dropdown-option']) ) :
														foreach ( $cutom_field_value['dropdown-option'] as $option) :
															if ( $option == '' ) {
																continue;
															}
														?>
														<div class="option-value-field">
															<span class="move-icon"></span>
															<input type="text" name="contact-form[custom_fields][<?php echo $cutom_field;?>][dropdown-option][]" value="<?php echo esc_attr( $option );?>"/>
															<span class="delete-dropdown-option"><i class="fas fa-times"></i></span>
														</div>
													<?php
														endforeach;
													endif;?>

												</div>
												<input type="submit" name="submit" class="button button-primary btn-dropdown-save" value="<?php _e('Save', 'mystickyelements');?>">
											</div>
											<span class="contact-form-dropdfown-close"><i class="fas fa-times"></i></span>
										</div>
									</div>
								<?php
							}
							break;
					} /* Finish Awitch Case */

				endforeach; /* Contact Fields  */

				$enable_class = '';
				if( !isset($contact_form['consent_checkbox']) && @$contact_form['consent_checkbox'] != 'yes' ) {
					$enable_class = 'hide_field';
				}

				?>
				<div class="myStickyelements-consent-main-field">
					<div class="mystickyelements-option-field-iplog mystickyelements-option-field contact-form-option myStickyelements-icon-wrap mystickyelements-consent_checkbox <?php echo $enable_class; ?>">

						<?php if(!$is_pro_active) {?><p class="mystickyelement-field-hide-content upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></p><?php }else{ ?>
						<span class="mystickyelement-field-hide-content"><?php esc_html_e('Field is hidden.', 'mystickyelements');?> <label for="consent_checkbox"><a><?php esc_html_e('Show the field', 'mystickyelements'); ?></a></label></span>
						<?php }?>
						<div class="mystickyelements-move-handle"></div>
						<div class="sticky-col-1">
							<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip myStickyelements-hide-tooltip">
								<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
								<p><?php esc_html_e("Add a checkbox that asks for users' consent while submitting a form", 'mystickyelements'); ?>
									<img src="<?php echo MYSTICKYELEMENTS_PRO_URL ?>/images/consent-gif.gif">
								</p>
							</div>
							<label><?php _e( 'Consent Checkbox', 'mystickyelements' );?></label>

						</div>
						<div class="sticky-col-2">
							<div class="mystickyelements-reqired-wrap">

								<?php $consent_text = ( isset($contact_form['consent_text'])) ? $contact_form['consent_text'] : 'I agree to the terms and conditions.';

								$consent_text_settings = array(
										'media_buttons' => false,
										'wpautop' => false,
										'drag_drop_upload' => false,
										'textarea_name' => 'contact-form[consent_text]',
										'textarea_rows' => 1,
										'quicktags' => false,
										'tinymce'       => array(
											'toolbar1'      => 'bold, italic, underline, link, numlist  ,bullist,forecolor ,fontsizeselect',
											'toolbar2'  => '',
											'toolbar3'  => ''
										)
									);

								wp_editor( stripslashes($consent_text), 'contact-consent_text', $consent_text_settings );
								?>
								<!--<i class="fas fa-pencil-alt"></i>	 -->
							</div>
							<div class="mystickyelements-action">
								<ul>
									<li>
										<label class="myStickyelements-visible-icon mystickyelements-custom-fields-tooltip">
											<input type="checkbox" name="contact-form[consent_checkbox]" id="consent_checkbox" value="yes" <?php checked( @$contact_form['consent_checkbox'], 'yes' );?>  />
											<span class="visible-icon">
												<p class="show-field-tooltip"><?php _e('Show Field','mystickyelements');?></p>
												<p class="hide-field-tooltip"><?php _e('Hide Field','mystickyelements');?></p>
											</span>
										</label>
									</li>
									<li>
										<label for="consent_text_require"><?php _e('Required', 'mystickyelements');?></label>
										<label  class="myStickyelements-switch">
											<input type="checkbox" class="required" id="consent_text_require" name="contact-form[consent_text_require]" value="1" <?php checked( @$contact_form['consent_text_require'], '1' );?> />
											<span class="slider round"></span>
										</label>
									</li>
								</ul>
								<div class="mystickyelements-hide-field-guide">
									<p><?php esc_html_e( 'The field is hidden and won‚Äôt show.', 'mystickyelements');?></p>
								</div>
							</div>

						</div>
					</div>
				</div>
				<?php
				if( isset( $contact_form['iplog'] ) && $contact_form['iplog'] == 'iplog' ) {
					?>
						<div id= "mystickyelements-option-field-iplog" class="mystickyelements-option-field-iplog mystickyelements-option-field contact-form-option myStickyelements-icon-wrap mystickyelements-iplog-field">
							<div class="mystickyelements-move-handle"></div>
							<div class="sticky-col-1">
								<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
									<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
									<p><?php esc_html_e("When enabled, the plugin will log the IP address of each contact form submission", 'mystickyelements'); ?></p>
								</div>
								<label>
									<?php _e( 'Enable IP address log', 'mystickyelements' );?>
								</label>
								<input type="hidden" class="contact-fields" name="contact-form[iplog]" value="iplog" />
							</div>
							<div class="sticky-col-2">
								<div class="mystickyelements-reqired-wrap">
									<label class="myStickyelements-switch">
										<input type="checkbox" name="contact-form[iplog_checkbox]" id="iplog_checkbox" value="yes" <?php checked( @$contact_form['iplog_checkbox'], 'yes' );?>  />
										<span class='slider round'></span>
									</label>
								</div>
								<div class="mystickyelements-action">
									<ul>
										<li>
											<span class="iplog-delete">
												<i class='fas fa-trash-alt stickyelement-iplog-delete'></i>
											</span>
										</li>
									</ul>
								</div>
							</div>
						</div>
					<?php
				}
				if( isset( $contact_form['recaptcha'] ) && $contact_form['recaptcha'] == 'recaptcha' ){
					
					$enable_class = '';
					if( !isset($contact_form['recaptcha_checkbox']) ) {
						$enable_class = 'hide_field';
					}
					?>
						<div id="mystickyelements-option-field-recaptcha" class="mystickyelements-option-field contact-form-option myStickyelements-icon-wrap mystickyelements-recaptcha-field mystickyelements-recaptcha_checkbox <?php echo $enable_class; ?>">
							<span class="mystickyelement-field-hide-content"><?php esc_html_e('Field is hidden.', 'mystickyelements');?> <label for="recaptcha_checkbox"><a><?php esc_html_e('Show the field', 'mystickyelements'); ?></a></label></span>
							<div class="mystickyelements-move-handle"></div>
							<div class="sticky-col-1">
								<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip" >
									<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
									<p><?php _e("<a href='https://www.google.com/recaptcha/admin/create' target='_blank'>Click here</a> to add your website. (Either select reCAPTCHA v2 or v3). After adding your website you'll get your site key and secret key", 'mystickyelements'); ?></p>
								</div>
								<label><?php esc_html_e( 'reCAPTCHA', 'mystickyelements');?></label>
								<input type='hidden' class='contact-fields' name='contact-form[recaptcha]' value='recaptcha' />
							</div>
							<div class="sticky-col-2">
								<div class="mystickyelements-reqired-wrap recaptcha-content" style="margin-bottom:20px;">
									<div class="recaptcha-type-input">
										
										<span style="display: inline-block;"><?php esc_html_e( 'reCAPTCHA Type', 'mystickyelements');?></span>&nbsp;&nbsp;<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
											<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a><p><?php _e("Choose between Google's reCAPTCHA v2 or v3", 'mystickyelements'); ?></p>
										</div>&nbsp;&nbsp;<span  class="captch_type_buttons" data-option-recaptcha="<?php echo $contact_form['recaptcha_type'];?>" data-recapsite-key="<?php echo $recaptcha_site_key; ?>" data-recapsecreat-key="<?php echo $recaptcha_secrete_key;?>">  <label class="col-1 recaptcha-btn" for="captcha-v2"><input type="radio" id="captcha-v2" name="contact-form[recaptcha_type]" value="v2" <?php checked( @$contact_form['recaptcha_type'], 'v2' );?> ><span>reCAPTCHA v2 </span></label> <label label class="col-2 recaptcha-btn" for="captcha-v3"><input type="radio" id="captcha-v3" name="contact-form[recaptcha_type]" value="v3" <?php checked( @$contact_form['recaptcha_type'], 'v3' );?>><span>reCAPTCHA v3 </span></label></span>
									</div>
									<div class="recapcha-input-field">
										<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip" >
											<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
											<p>
												<?php _e("Click COPY SITE KEY from Google reCAPTCHA and paste it here.", 'mystickyelements'); ?>
												<img src="<?php echo MYSTICKYELEMENTS_PRO_URL.'images/site-key.png'?>" />
											</p>

										</div>&nbsp;&nbsp;
										<input type='text' id='recaptcha_site_key' name='contact-form[recaptcha_site_key]' value='<?php if(isset($recaptcha_site_key)) : echo $recaptcha_site_key; endif; ?>' placeholder='Enter your reCAPTCHA site key' />
									</div>
									<!--<i class='fas fa-pencil-alt'></i>-->
								</div>
								<div class="mystickyelements-reqired-wrap">
									<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip" >
										<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
										<p>
											<?php _e("Click the COPY SECRET KEY from Google reCAPTCHA and paste it here.", 'mystickyelements'); ?>
											<img src="<?php echo MYSTICKYELEMENTS_PRO_URL.'images/secret-key.png'?>" />
										</p>

									</div>&nbsp;&nbsp;
									<input type='text' id='recaptcha_secrete_key' name='contact-form[recaptcha_secrete_key]' value='<?php if(isset($recaptcha_secrete_key)) : echo $recaptcha_secrete_key; endif; ?>' placeholder='Enter your reCAPTCHA secret key' />
									<!--<i class='fas fa-pencil-alt'></i> -->
								</div>
								<div class="mystickyelements-reqired-wrap" style="margin-top:20px;display:<?php echo (isset($contact_form['recaptcha_type']) && $contact_form['recaptcha_type'] == 'v2') ? 'none' : 'inline-block'; ?>">
									<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip" >
										<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
										<p><?php _e("You're allowed to hide the reCAPTCHA badge from the bottom of your website as long as you comply with <a href='https://developers.google.com/recaptcha/docs/faq#id-like-to-hide-the-recaptcha-badge.-what-is-allowed' target='_blank'>these guidelines</a>", 'mystickyelements'); ?></p>
									</div>&nbsp;&nbsp;
									<label>
										<input type='checkbox' name='contact-form[invisible_recaptcha_checkbox]' id='invisible_recaptcha_checkbox' value='yes' <?php checked( @$contact_form['invisible_recaptcha_checkbox'], 'yes' );?> /> &nbsp; <?php _e( 'Hide reCAPTCHA badge', 'mystickyelements' );?>&nbsp; &nbsp;
									</label>
								</div>
								<div class="mystickyelements-action">
									<ul>
										<li>
											<label  class="myStickyelements-visible-icon mystickyelements-custom-fields-tooltip">
												<input type="checkbox" name="contact-form[recaptcha_checkbox]" id="recaptcha_checkbox" value="yes" <?php checked( @$contact_form['recaptcha_checkbox'], 'yes' );?>  />
												<span class="visible-icon">
													<p class="show-field-tooltip"><?php _e('Show Field','mystickyelements');?></p>
													<p class="hide-field-tooltip"><?php _e('Hide Field','mystickyelements');?></p>
												</span>
											</label>
										</li>
										<li>
											<span class="recaptcha-delete">
												<i class='fas fa-trash-alt stickyelement-recaptcha-delete'></i>
											</span>
										</li>
									</ul>
									<div class="mystickyelements-hide-field-guide">
										<p><?php esc_html_e( 'The field is hidden and won‚Äôt show.', 'mystickyelements');?></p>
									</div>
								</div>
							</div>
						</div>
					<?php
				}
			?>
			</div>

			<!-- Add Custom field-->
			<div class="myStickyelements-contact-form-field-hide myStickyelements-contact-form-field-option">
				<span class="mystickyelements-add-custom-fields">
					<a href="#" class="mystickyelements-add-custom-fields" data-isactive="<?php echo ( !$is_pro_active ) ? "0" : "1" ; ?>" data-active-page-url = "<?php echo ( !$is_pro_active ) ? $upgrade_url : '' ; ?>"> <?php esc_html_e( 'Add new field', 'mystickyelements');?><svg style="fill: #fff;"id="plus-circle" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 36 36"><path id="Path_1928" data-name="Path 1928" d="M18,7.875A1.125,1.125,0,0,1,19.125,9v9A1.125,1.125,0,0,1,18,19.125H9a1.125,1.125,0,0,1,0-2.25h7.875V9A1.125,1.125,0,0,1,18,7.875Z" fill-rule="evenodd"/><path id="Path_1929" data-name="Path 1929" d="M16.875,18A1.125,1.125,0,0,1,18,16.875h9a1.125,1.125,0,0,1,0,2.25H19.125V27a1.125,1.125,0,0,1-2.25,0Z" fill-rule="evenodd"/><path id="Path_1930" data-name="Path 1930" d="M18,33.75A15.75,15.75,0,1,0,2.25,18,15.75,15.75,0,0,0,18,33.75ZM18,36A18,18,0,1,0,0,18,18,18,0,0,0,18,36Z" fill-rule="evenodd"/></svg></a>
					<!-- -<i class="fas fa-plus"></i> -->
				</span>
			</div>

			<div class="contact-form-dropdown-open contact-form-setting-popup-open" style="display: none;">
				<div class="contact-form-dropdown-main">
					<input type="text" name="contact-form[dropdown-placeholder]" class="contact-form-dropdown-select" value="<?php  if( isset($contact_form['dropdown-placeholder']) && $contact_form['dropdown-placeholder'] != '' ){ echo esc_attr(@$contact_form['dropdown-placeholder']); }else{ echo "- Select -"; }  ?>" placeholder="<?php esc_html_e( 'Select... ', 'mystickyelement' ); ?>"/>
					<div class="contact-form-dropdown-option">
						<div class="option-value-field">
							<span class="move-icon"></span>
							<input type="text" name="contact-form[dropdown-option][]" value=""/> <span class="add-dropdown-option"><?php esc_html_e( 'Add', 'mystickyelement' );?></span>
						</div>
						<?php if ( isset( $contact_form['dropdown-option'] ) && !empty($contact_form['dropdown-option']) ) :
							foreach ( $contact_form['dropdown-option'] as $option) :
								if ( $option == '' ) {
									continue;
								}
							?>
							<div class="option-value-field">
								<span class="move-icon"></span>
								<input type="text" name="contact-form[dropdown-option][]" value="<?php echo esc_attr( $option );?>"/> <span class="delete-dropdown-option"><i class="fas fa-times"></i></span>
							</div>
						<?php
							endforeach;
						endif;?>
					</div>
					<input type="submit" name="submit" class="button button-primary btn-dropdown-save" value="<?php _e('Save', 'mystickyelements');?>">
				</div>
				<span class="contact-form-dropdfown-close"><i class="fas fa-times"></i></span>
			</div>
			<div class="myStickyelements-content-section mystickyelements-display-main-options">
				<!-- <div class="mystickyelements-header-main-title">
					<h2><i class="fas fa-cog"></i><?php //_e('Contact Form Preference', 'mystickyelements'); ?></h2>
				</div> -->
				<div class="mystickyelements-display-above-options myStickyelements-contact-form-tab">
					<div class="myStickyelements-header-title">
						<h3><?php _e('Contact Tab Settings', 'mystickyelements'); ?></h3>
					</div>
					<div class="myStickyelements-setting-wrap-list-main">
						<div class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list">
							<div class="mystickyelements-setting-wrap-left">
								<label><?php _e( 'Devices', 'mystickyelements');?></label>
							</div>
							<div class="mystickyelements-setting-wrap-right">
								<label>
									<input type="checkbox" name="contact-form[desktop]" value= "1"<?php checked( @$contact_form['desktop'], '1' );?> /> &nbsp;<?php _e( 'Desktop', 'mystickyelements' );?>
								</label>
								<label>
									<input type="checkbox" name="contact-form[mobile]" value="1" <?php checked( @$contact_form['mobile'], '1' );?> /> &nbsp;<?php _e( 'Mobile', 'mystickyelements' );?>
								</label>
							</div>
						</div>
						<div class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list">
							<div class="mystickyelements-setting-wrap-left">
								<label><?php _e( 'Direction', 'mystickyelements');?></label>
							</div>
							<div class="myStickyelements-inputs mystickyelements-setting-wrap-right myStickyelements-direction-rtl directionn-section">
								<label>
									<input type="radio" name="contact-form[direction]" value= "LTR" <?php checked( @$contact_form['direction'], 'LTR' );?> /> &nbsp;<?php _e( 'LTR', 'mystickyelements' );?>
								</label>
								<label>
									<input type="radio" name="contact-form[direction]" value="RTL" <?php checked( @$contact_form['direction'], 'RTL' );?> /> &nbsp;<?php _e( 'RTL', 'mystickyelements' );?>
								</label>
							</div>
						</div>
						<div class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list myStickyelements-setting-half">
							<div class="mystickyelements-setting-wrap-left">
								<label>
									<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
										<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
										<p><?php esc_html_e("Change the background color of the floating bar that opens the contact form", 'mystickyelements'); ?></p>
									</div>
									<?php _e( 'Background Color:', 'mystickyelements' );?>
								</label>
							</div>
							<div class="mystickyelements-setting-wrap-right">
								<input type="text" id="tab_background_color" name="contact-form[tab_background_color]" class="mystickyelement-color" value="<?php echo $contact_form['tab_background_color'];?>" />
							</div>
						</div>
						<div class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list myStickyelements-setting-half">
							<div class="mystickyelements-setting-wrap-left">
								<label>
									<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
										<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
										<p><?php esc_html_e("Change the text color of the floating bar that opens the contact form", 'mystickyelements'); ?></p>
									</div>
									<?php _e( 'Text Color:', 'mystickyelements' );?>
								</label>
							</div>
							<div class="mystickyelements-setting-wrap-right">
								<input type="text" id="tab_text_color" name="contact-form[tab_text_color]" class="mystickyelement-color" value="<?php echo $contact_form['tab_text_color'];?>" />
							</div>
						</div>
						<div class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list myStickyelements-setting-half">
							<div class="mystickyelements-setting-wrap-left">
								<label>
									<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
										<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
										<p><?php esc_html_e("The background color of the form that appears when someone hover/clicks to open the contact form", 'mystickyelements'); ?></p>
									</div>
									<?php _e('Form Background Color:', 'mystickyelements'); ?>
								</label>

							</div>
							<div class="mystickyelements-setting-wrap-right">
								<input type="text" id="form_bg_color" name="contact-form[form_bg_color]" class="mystickyelement-color" value="<?php echo ( isset($contact_form['form_bg_color']))? $contact_form['form_bg_color'] : '#ffffff'; ?>"/>
							</div>
						</div>

						<div class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list myStickyelements-setting-half">
							<div class="mystickyelements-setting-wrap-left">
								<label>
									<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
										<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
										<p><?php esc_html_e("The headline color of the form that appears when someone hover/clicks to open the contact form", 'mystickyelements'); ?></p>
									</div>
									<?php _e( 'Form Headline Color:', 'mystickyelements' );?>
								</label>
							</div>
							<div class="mystickyelements-setting-wrap-right">
								<input type="text" id="headine_text_color" name="contact-form[headine_text_color]" class="mystickyelement-color" value="<?php echo $contact_form['headine_text_color'];?>" />

							</div>
						</div>

						<div class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list myStickyelements-setting-half">
							<div class="mystickyelements-setting-wrap-left" >
								<span class="myStickyelements-label" style="width: 150px;">
									<label>
										<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
											<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
											<p><?php esc_html_e("Change the placeholder color of fields inside the contact form", 'mystickyelements'); ?></p>
										</div>
										<?php _e( 'Placeholder text color', 'mystickyelements' );?>
									</label>
									
								</span>
							</div>
							<div class="mystickyelements-setting-wrap-right">								
								<input type="text" id="placeholder_color" name="general-settings[placeholder_color]" class="mystickyelement-color" value="<?php echo ( isset( $general_settings['placeholder_color'] ) && $general_settings['placeholder_color'] != '' ) ? $general_settings['placeholder_color'] : '#4F4F4F'; ?>" />
							</div>
						</div>
						<?php if(!$is_pro_active) {?>
						<div class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list myStickyelements-setting-half" >
							<div class="mystickyelements-setting-wrap-left">
								<span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span>
							</div>
						</div>
						<?php } ?>
						<div class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list" style="width:">
							<div class="mystickyelements-setting-wrap-left">
								<label><?php _e( 'Text in tab', 'mystickyelements' );?></label>
							</div>
							<div class="mystickyelements-setting-wrap-right">
								<input type="text" name="contact-form[text_in_tab]" value="<?php echo $contact_form['text_in_tab'];?>" placeholder="<?php _e('Enter text here...','mystickyelements');?>" />
							</div>
						</div>
						<div class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list">
							<div class="mystickyelements-setting-wrap-left">
								<label><?php _e( 'Contact Form Title', 'mystickyelements' );?></label>
							</div>
							<?php if( isset( $contact_form['contact_title_text'] ) && $contact_form['contact_title_text'] != '' ) {
								$contact_title_text = $contact_form['contact_title_text'];
							} else {
								$contact_title_text = "Contact Form";
							} ?>
							<div class="mystickyelements-setting-wrap-right">
								<input type="text" name="contact-form[contact_title_text]" value="<?php echo $contact_title_text; ?>" placeholder="<?php _e('Enter text here...','mystickyelements');?>" />
							</div>
						</div>
						<table>
							<tr class="myStickyelements-contact-form-field-hide">
								<td>
									<div class="multiselect">
										<?php
										if ( isset($contact_form['send_leads']) && !is_array( $contact_form['send_leads'])) {
											$contact_form['send_leads'] = explode(', ', $contact_form['send_leads']);
										}

										$elements_mc_api_key = get_option( 'elements_mc_api_key');

										$elements_mailpoet_connect = get_option( 'elements_mailpoet_connect');
										?>
										<div id="checkboxes">
											<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
												<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
												<p><?php esc_html_e("Save the leads locally in your website", 'mystickyelements'); ?></p>
											</div>
											<label>
												<input type="checkbox" name="contact-form[send_leads][]" id="send_leads_database" value="database" <?php if ( !empty($contact_form['send_leads']) && in_array( 'database', $contact_form['send_leads']) ) { echo 'checked="checked"'; } ?> <?php if(!$is_pro_active) : ?> checked="checked" disabled = "disabled"<?php endif; ?>  />&nbsp;<?php _e( 'Save leads to <a href="'. admin_url('admin.php?page=my-sticky-elements-leads') .'" target="_blank">this site</a>' );?>
                                            </label>
											<a href="<?php echo admin_url('admin.php?page=my-sticky-elements-leads'); ?>" id="send_lead_to_contact_form" target="_blank"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 6H6C4.89543 6 4 6.89543 4 8V18C4 19.1046 4.89543 20 6 20H16C17.1046 20 18 19.1046 18 18V14M14 4H20M20 4V10M20 4L10 14" stroke="#475569" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg></a>
										</div>
									</div>
									<div class="mystickyelements-action-popup-open mystickyelements-action-popup-status" id="contactform-sendleads-database" style="display:none;">
									    <div class="popup-ui-widget-header">
									        <span id="ui-id-1" class="ui-dialog-title"><?php echo esc_html_e( 'Are you sure?', 'mystickyelement');?></span><span class="close-dialog" data-from ='localdb-leads'> &#10006 </span>
									    </div>
									    <div id="widget-delete-confirm" class="ui-widget-content">
									    	<p><?php esc_html_e( "You‚Äôre about to turn off saving emails to your local website. Are you sure?", "mystickyelement");?></p>
									    </div>
									    <div class="popup-ui-dialog-buttonset">
									    	<button type="button" class="btn-disable-cancel button-localdbleads-popup-disable"><?php echo esc_html_e('Disable anyway','mystickyelement');?></button>
									    	<button type="button" class="mystickyelement-keep-widget-btn button-localdbleads-popup-keep" data-from = "localdb-leads" ><?php echo esc_html_e('Keep using','mystickyelement');?></button>
									    </div>
									</div>
									<div id="mystickyelement-localdbleads-popup-overlay" class="stickyelement-overlay" data-from = "localdb-leads" style="display:none;"></div>
									<div class="multiselect send-lead-email-upgrade">
										<div id="checkboxes">
											<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
												<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
												<p><?php esc_html_e("Get notified when someone submits a response to the contact form", 'mystickyelements'); ?></p>
											</div>
											<?php if(!$is_pro_active){?>
													<label>
														<input type="checkbox" name="contact-form[send_leads][]" id="send_leads_mail" value="mail"  disabled="disabled" />&nbsp;<?php _e( 'Send leads to your email', 'mystickyelements' );?>
													</label>
													<span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span>
													<?php
												} else {
													?>
													<label>
														<input type="checkbox" name="contact-form[send_leads][]" id="send_leads_mail" value="mail" <?php if ( !empty($contact_form['send_leads']) && in_array( 'mail', $contact_form['send_leads']) ) { echo 'checked="checked"'; } ?> <?php if(!$is_pro_active) : ?> disabled="disabled" <?php endif; ?>/>&nbsp;<?php _e( 'Send leads to your email', 'mystickyelements' );?>
													</label>

												<?php
												}
											?>
										</div>
									</div>
									<div id="contact-form-send-mail" class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list" style="display:none">
										<div class="mystickyelements-setting-wrap-left">
											<div class="mystickyelements-custom-fields-tooltip mystickyelements-email-tooltip">
												<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
												<p><?php esc_html_e( 'If you want to send leads to more than one email address, please add your email addresses separated by commas', 'mystickyelements');?></p>
											</div>
											<label><?php _e( 'Email', 'mystickyelements' );?></label>
										</div>
										<div class="mystickyelements-setting-wrap-right">
											<input type="text" name="contact-form[sent_to_mail]" value="<?php echo @$contact_form['sent_to_mail'];?>" placeholder="<?php _e('Enter your email','mystickyelements');?>" />
											<p class="description"><?php esc_html_e( 'Check your Spam folder and Promotions tab', 'mystickyelements');?></p>

										</div>
										<a href="javascript:void(0);" class="morelessBtn" id="moreless-action">More ‚Üì</a>
									</div>
									
									<div id="contact-form-send-ccmail" class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list" >
										<div class="mystickyelements-setting-wrap-left">
											<div class="mystickyelements-custom-fields-tooltip mystickyelements-email-tooltip">
												<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
												<p><?php esc_html_e( 'Add emails (comma separated)  to whom you want to send the emails as CC', 'mystickyelements');?></p>
											</div>
											<label><?php _e( 'CC', 'mystickyelements' );?></label>
										</div>
										<div class="mystickyelements-setting-wrap-right">
											<input type="text" name="contact-form[sent_to_cc]" value="<?php echo @$contact_form['sent_to_cc'];?>" placeholder="<?php _e('Enter email addresses separated by a comma','mystickyelements');?>" />
										</div>
									</div>	
									
									<div id="contact-form-send-bccmail" class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list">
										<div class="mystickyelements-setting-wrap-left">
											<div class="mystickyelements-custom-fields-tooltip mystickyelements-email-tooltip">
												<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
												<p><?php esc_html_e( 'Add emails (comma separated) to whom you want to send the emails as BCC', 'mystickyelements');?></p>
											</div>
											<label><?php _e( 'BCC', 'mystickyelements' );?></label>
										</div>
										<div class="mystickyelements-setting-wrap-right">
											<input type="text" name="contact-form[sent_to_bcc]" value="<?php echo @$contact_form['sent_to_bcc'];?>" placeholder="<?php _e('Enter email addresses separated by a comma','mystickyelements');?>" />
										</div>
									</div>
									
																	
									
									<div id="contact-form-sendr-name" class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list" style="display:none">
										<div class="mystickyelements-setting-wrap-left">
											<div class="mystickyelements-custom-fields-tooltip mystickyelements-email-tooltip">
												<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
												<p><?php esc_html_e( 'The name that will appear as the sender name in your email', 'mystickyelements');?></p>
											</div>
											<label><?php _e( "Sender's name", 'mystickyelements' );?></label>
										</div>

										<div class="mystickyelements-setting-wrap-right">
											<?php $contact_form['sender_name'] = ( isset($contact_form['sender_name'])) ? $contact_form['sender_name'] : '';?>
											<input type="text" name="contact-form[sender_name]" value="<?php echo (isset($contact_form['sender_name']) && $contact_form['sender_name']!='') ? $contact_form['sender_name'] : '{name}';?>" placeholder="<?php _e('Enter sender name');?>" />
										</div>
									</div>
									<div id="contact-form-mail-subject-line" class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list" style="display:none">
										<div class="mystickyelements-setting-wrap-left">
											<div class="mystickyelements-custom-fields-tooltip mystickyelements-email-tooltip">
												<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
												<p><?php esc_html_e( "The subject line of the emails that you'll recieve from each contact form submission", 'mystickyelements');?></p>
											</div>
											<label><?php _e( 'Email subject line', 'mystickyelements' );?></label>
										</div>
										<div class="mystickyelements-setting-wrap-right">
											<?php $email_subject_line = isset( $contact_form['email_subject_line'] ) ? $contact_form['email_subject_line']:"New lead from MyStickyElements from {name} on {date} {hour}" ?>
											<input type="text" name="contact-form[email_subject_line]" value="<?php echo $email_subject_line;?>" placeholder="<?php _e('Enter your email subject line','mystickyelements');?>" /><div class="mail-merge-tags"><span class="mystickyelement-social-buttons button subject-tags">{name}</span><span class="mystickyelement-social-buttons button subject-tags">{phone}</span><span class="mystickyelement-social-buttons button subject-tags">{email}</span><span class="mystickyelement-social-buttons button subject-tags">{date}</span><span class="mystickyelement-social-buttons button subject-tags">{hour}</span></div>
										</div>
									</div>
									<div class="multiselect">
										<div id="checkboxes">
											<?php if(isset($elements_mc_api_key) && 	$elements_mc_api_key != '') : ?>
											<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip" >
												<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
												<p><?php esc_html_e("Integrate Mailchimp to directly sync email leads on Mailchimp", 'mystickyelements'); ?></p>
											</div>
											<?php endif; ?>
											<?php if(!$is_pro_active){ ?>
												<label>
													<input type="checkbox" name="contact-form[send_leads][]" id="send_leads_mailchimp" value="mailchimp"  disabled="disabled" />&nbsp;<?php _e( 'Sends leads to Mailchimp', 'mystickyelements' );?>
												</label>
												<span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span>
												<?php
											} else {
												if ( isset($elements_mc_api_key) && 	$elements_mc_api_key != '' ): ?>

												<label>
													<input type="checkbox" name="contact-form[send_leads][]" id="send_leads_mailchimp" value="mailchimp" <?php if ( !empty($contact_form['send_leads']) && in_array( 'mailchimp', $contact_form['send_leads']) ) { echo 'checked="checked"'; } ?> />&nbsp;<?php _e( 'Sends leads to Mailchimp', 'mystickyelements' );?>
												</label>
											<?php endif;

											}?>

										</div>
									</div>
									<?php
									if ( isset($elements_mc_api_key) && $elements_mc_api_key != '' ){
										include('mystickyelement-mailchimp-integration.php');
									}
									?>
									<div class="multiselect send-lead-mailpoet-upgrade">
										<div id="checkboxes">
											<?php if ( isset($elements_mailpoet_connect) && $elements_mailpoet_connect != '' ) : ?>
											<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
												<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
												<p><?php esc_html_e("Integrate MailPoet to directly sync email leads on MailPoet", 'mystickyelements'); ?></p>
											</div>
											<?php endif; ?>
											<?php if(!$is_pro_active){?>
												<label>
													<input type="checkbox" name="contact-form[send_leads][]" id="send_leads_mailpoet" value="mailpoet" <?php if ( !empty($contact_form['send_leads']) && in_array( 'mailpoet', $contact_form['send_leads']) ) { echo 'checked="checked"'; } ?> disabled="disabled"/>&nbsp;<?php _e( 'Sends leads to MailPoet', 'mystickyelements' );?>
												</label><span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span>
												<?php
											} else {

												if ( isset($elements_mailpoet_connect) && $elements_mailpoet_connect != '' ):?>

													<label>
														<input type="checkbox" name="contact-form[send_leads][]" id="send_leads_mailpoet" value="mailpoet" <?php if ( !empty($contact_form['send_leads']) && in_array( 'mailpoet', $contact_form['send_leads']) ) { echo 'checked="checked"'; } ?> />&nbsp;<?php _e( 'Sends leads to MailPoet', 'mystickyelements' );?>
													</label>
											<?php endif; }?>
										</div>
									</div>
									<?php
									if ( isset($elements_mailpoet_connect) && $elements_mailpoet_connect != '' ){
										include('mystickyelement-mailpoet-integration.php');
									}
									?>
								</td>
							</tr>
						</table>

					</div>

					<div class="myStickyelements-header-title">
						<h3><?php _e('Submit Button Settings', 'mystickyelements'); ?></h3>
					</div>
					<div class="myStickyelements-setting-wrap-list-main">
						<div class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list myStickyelements-setting-half">
							<div class="mystickyelements-setting-wrap-left">
								<label><?php _e( 'Background Color:', 'mystickyelements' );?></label>
							</div>
							<div class="mystickyelements-setting-wrap-right">
								<input type="text" id="submit_button_background_color" name="contact-form[submit_button_background_color]" class="mystickyelement-color" value="<?php echo esc_attr($contact_form['submit_button_background_color']); ?>" />
							</div>
						</div>
						<div class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list myStickyelements-setting-half">
							<div class="mystickyelements-setting-wrap-left">
								<label><?php _e( 'Text Color:', 'mystickyelements' );?></label>
							</div>
							<div class="mystickyelements-setting-wrap-right">
								<input type="text" id="submit_button_text_color" name="contact-form[submit_button_text_color]" class="mystickyelement-color" value="<?php echo esc_attr($contact_form['submit_button_text_color']);?>" />
							</div>
						</div>
						<div class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list">
							<div class="mystickyelements-setting-wrap-left">
								<label><?php _e( 'Text on the submit button', 'mystickyelements' );?></label>
							</div>
							<div class="mystickyelements-setting-wrap-right">
								<input type="text" id="contact-form-submit-button" name="contact-form[submit_button_text]" value="<?php echo $contact_form['submit_button_text'];?>" placeholder="<?php _e('Enter text here...','mystickyelements');?>"  />
							</div>
						</div>
						<div class="myStickyelements-redirect-link-wrap myStickyelements-setting-wrap">
							<div class="myStickyelements-redirect-block">
								<label>
									<input type="checkbox" id="redirect_after_submission" name="contact-form[redirect]" value="1" <?php checked( @$contact_form['redirect'], '1' );?> <?php echo !$is_pro_active?"disabled":"" ?> /> &nbsp; <?php _e('Redirect visitors after submission', 'mystickyelements');?>
								</label>
								<label class="myStickyelements-redirect-new-tab" style="display: none;">
									<input type="checkbox" name="contact-form[open_new_tab]" value= "1"<?php checked( @$contact_form['open_new_tab'], '1' );?> /> &nbsp;<?php _e( 'Open in a new tab', 'mystickyelements' );?>
								</label>
							</div>
							<div class="redirect-link-input">
								<input type="text" name="contact-form[redirect_link]" value="<?php echo @$contact_form['redirect_link'];?>" class="myStickyelements-redirect-link" placeholder="<?php _e('Enter redirect link','mystickyelements');?>" <?php echo !$is_pro_active?"disabled":"" ?> />
								<?php if(!$is_pro_active) {?><span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span><?php } ?>
							</div>
						</div>
						<div class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list">
							<div class="mystickyelements-setting-wrap-left">
								<label><?php _e( 'Thank you message', 'mystickyelements' );?></label>
								<?php if(!$is_pro_active) {?><span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span><?php } ?>
							</div>

							<div class="myStickyelements-thankyou-input mystickyelements-setting-wrap-right">
								<?php $thank_you_message = ( isset($contact_form['thank_you_message'])) ? $contact_form['thank_you_message'] : 'Your message was sent successfully';?>
								<input type="text" name="contact-form[thank_you_message]" value="<?php echo $thank_you_message;?>" placeholder="<?php _e('Enter thank you message here...','mystickyelements');?>"  <?php echo !$is_pro_active?"disabled":"" ?> />
							</div>
						</div>
						<div class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list">
							<div class="mystickyelements-setting-wrap-left">
								<label for="myStickyelements-contact-form-close">
									<span class="mystickyelements-custom-fields-tooltip">
										<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
										<p>Close the form automatically after a few seconds based on your choice</p>
									</span>
									<?php _e( 'Close form automatically after submission', 'mystickyelements' );?>
								</label>
							</div>

							<div class="myStickyelements-thankyou-input mystickyelements-setting-wrap-right">
								<label for="myStickyelements-contact-form-close" class="myStickyelements-switch">
									<input type="checkbox" id="myStickyelements-contact-form-close" name="contact-form[close_form_automatic]" value="1" <?php checked( @$contact_form['close_form_automatic'], '1' );?>>
									<span class="slider round"></span>
								</label>
							</div>
						</div>
						<div id="contact-form-close-after" class="myStickyelements-setting-wrap myStickyelements-setting-wrap-list" <?php if( !isset($contact_form['close_form_automatic']) ):?> style="display:none" <?php endif;?>>
							<div class="mystickyelements-setting-wrap-left">
								<label for="myStickyelements-contact-form-close-after"><?php _e( 'Close after', 'mystickyelements' );?></label>
							</div>

							<div class="myStickyelements-thankyou-input mystickyelements-setting-wrap-right">
								<?php $close_after = ( isset($contact_form['close_after'])) ? $contact_form['close_after'] : '1';?>
								<label>
									<input type="number" name="contact-form[close_after]" value="<?php echo $close_after;?>" placeholder=""  <?php echo !$is_pro_active?"disabled":"" ?> style="width:140px;"/>&nbsp; seconds
								</label>
								<?php if(!$is_pro_active) {?><span class="upgrade-myStickyelements"><a href="<?php echo $upgrade_url ?>" target="_blank"><i class="fas fa-lock"></i><?php _e('ACTIVATE YOUR KEY', 'mystickyelements' );?></a></span><?php } ?>
							</div>
						</div>
					</div>
					<!-- work -->
				</div>
			</div>
		</div>
	</div>
</div>


--- END FILE ---

--- FILE: admin/mystickyelement-mailchimp-integration.php ---
<?php
$dropdown = ( isset($contact_form['dropdown'])) ? $contact_form['dropdown'] : '';
if ( $dropdown == 1 ) {
	$contact_form['custom_fields'][] = array('custom_field_name' => 'Dropdown');
}


$mailchimp_list = ( isset($contact_form['mailchimp_list'])) ? $contact_form['mailchimp_list'] : '';
$mailchimp_enable_tag = ( isset($contact_form['mailchimp_enable_tag'])) ? $contact_form['mailchimp_enable_tag'] : '';
$mailchimp_tags = ( isset($contact_form['mailchimp_tags'])) ? $contact_form['mailchimp_tags'] : '';

$mailchimp_enable_group = ( isset($contact_form['mailchimp-enable-group'])) ? $contact_form['mailchimp-enable-group'] : '';
$mailchimp_group = ( isset($contact_form['mailchimp-group'])) ? $contact_form['mailchimp-group'] : array();
$mailchimp_field_mapping = ( isset($contact_form['mailchimp-field-mapping'])) ? $contact_form['mailchimp-field-mapping'] : array();

$mc_fields = mystickyelements_get_mailchimp_lists_fields( $mailchimp_list );
?>
<div id="contact-form-mailchimp" class="myStickyelements-setting-wrap">
	<h3>Mailchimp integration settings</h3>
	<div class="myStickyelements-mailchimp-settings myStickyelements-setting-wrap-list">
		<div class="mystickyelements-setting-wrap-left">
			<label><?php esc_html_e( 'Select a Mailchimp list' );?></label>


		</div>
		<div class="mystickyelements-setting-wrap-right">
			<?php $element_mc_lists = get_option( 'element_mc_lists');?>
			<select id="stickyelement_mailchimp_lists" name="contact-form[mailchimp_list]">
				<option value="">Select a list</option>
				<?php 
				if ( !empty($element_mc_lists)) :
				foreach($element_mc_lists as $lists):?>
					<option value="<?php echo $lists['id']?>" <?php selected($lists['id'], @$mailchimp_list, true);?>><?php echo $lists['name']?></option>
				<?php endforeach;
				endif;
				?>
			</select>
		</div>
	</div>
	<div class="myStickyelements-mailchimp-settings">
		<div class="myStickyelements-setting-wrap-list">
			<div class="mystickyelements-setting-wrap-left">
				 <div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
					<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
					<p><?php esc_html_e("Tag your leads with custom tags and find them with the tags in MailChimp"); ?></p>
				</div>
				<label class="mailchimp-enable-tag"><?php esc_html_e( 'Enable tags' );?></label>
			</div>
			<div class="mystickyelements-setting-wrap-right">
				<label class="myStickyelements-switch">
					<input type="checkbox" id="mailchimp-enable-tag" name="contact-form[mailchimp_enable_tag]" value="yes" <?php checked( @$mailchimp_enable_tag, 'yes' ); ?> />
					<span class="slider round"></span>
				</label>
                
               
                
			</div>
		</div>
		<div class="myStickyelements-mailchimp-tags-info" <?php if ( @$mailchimp_enable_tag != 'yes'):?>style="display:none" <?php endif;?>>
			<input type="text" name="contact-form[mailchimp_tags]" value="<?php echo @$mailchimp_tags;?>" placeholder="Example: WP tag, Another tag" style="float: none; width: 100%"/>
			<p class="description">The listed tags will be applied to all subscribers added by this form. Separate multiple values with a comma. </p>
		</div>
	</div>
	<?php $mailchimp_groups = myStickyelements_get_mailchimp_groups( $mailchimp_list ); ?>
	<div class="myStickyelements-mailchimp-groups" <?php if( empty($mailchimp_groups)  ):?> style="display:none;" <?php endif;?>>
		<div class="myStickyelements-setting-wrap-list">
			<div class="mystickyelements-setting-wrap-left">
				<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
					<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
					<p><?php esc_html_e("Sort your contacts based on their interests and preferences by using groups"); ?></p>
				</div>
				<label class="mailchimp-enable-group"><?php esc_html_e( 'Enable groups' );?></label>
			</div>
			<div class="mystickyelements-setting-wrap-right">
				<label class="myStickyelements-switch">
					<input type="checkbox" id="mailchimp-enable-group" name="contact-form[mailchimp-enable-group]" value="yes" <?php checked( $mailchimp_enable_group, 'yes' ); ?> />
					<span class="slider round"></span>
				</label>
            </div>
		</div>
		<div class="mailchimp-group-info" <?php if ( $mailchimp_enable_group != 'yes'):?>style="display:none" <?php endif;?>>
			<select id="mailchimp-group" name="contact-form[mailchimp-group][]" multiple>
				<option value="">Select Groups</option>
				<?php if ( !empty($mailchimp_groups)) :?>
					<?php foreach( $mailchimp_groups as $key=>$groups ):?>
						<optgroup label="<?php echo esc_html($key);?>">
						<?php foreach($groups as $group ):?>
							<option value="<?php echo esc_html($group['id']);?>" <?php if ( in_array($group['id'] ,$mailchimp_group)){ echo "selected"; }?>><?php echo esc_html($group['name']);?></option>
						<?php endforeach;?>
						</optgroup>
					<?php endforeach;?>
				<?php endif;?>
			</select>
		</div>
	</div>
	<div class="myStickyelements-mailchimp-field-mapping" <?php if( !isset($contact_form['custom_fields']) && empty( $contact_form['custom_fields'] ) || $mailchimp_list == '' ) :?> style="display:none;" <?php endif;?>>
		
		<div class="myStickyelements-setting-wrap-list">
			<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
				<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
				<p>Your default fields (email, name, etc) will be automatically synced. Use the field mapping option to decide which My Sticky Elements fields are pushed to your integration's fields.</p>
			</div>			
			<label class="mailchimp-enable-group"><?php esc_html_e( 'Field mapping' );?></label>
		</div>
		<div class="myStickyelements-mailchimp-field-lists">
			<?php if( isset($contact_form['custom_fields']) && !empty( $contact_form['custom_fields'] )) :?>
				<?php foreach( $contact_form['custom_fields'] as $fields ):
					$custom_field_name = ( isset($fields['custom_field_name']) ) ? sanitize_title($fields['custom_field_name']): '';
					if($custom_field_name != ''):
				?>
					<div class="mailchimp-field-control myStickyelements-setting-wrap-list">
						<div class="mystickyelements-setting-wrap-left">
							<label class="field-control-title" for="<?php echo esc_attr($custom_field_name);?>"><?php echo $fields['custom_field_name']?></label>
						</div>
						<div class="mystickyelements-setting-wrap-right">
							<select class="field-control-dropdown" id="<?php echo esc_attr($custom_field_name);?>" name="contact-form[mailchimp-field-mapping][<?php echo esc_attr($custom_field_name);?>]">
								<option value="">Select fields</option>
								<?php foreach( $mc_fields as $field):?>
									<option value="<?php echo $field['field_id'];?>" <?php if( isset($mailchimp_field_mapping[$custom_field_name]) && $mailchimp_field_mapping[$custom_field_name] == $field['field_id'] ):?> selected <?php endif;?>><?php echo $field['field_label'];?></option>
								<?php endforeach;?>
							</select>	
						</div>
					</div>
				<?php 
				endif;
			endforeach;?>
			<?php endif;?>
		</div>
	</div>
</div>

--- END FILE ---

--- FILE: admin/mystickyelement-mailpoet-integration.php ---
<?php if (  class_exists( '\MailPoet\API\API' ) ) :

$mailpoet_list = ( isset($contact_form['mailpoet_list'])) ? $contact_form['mailpoet_list'] : '';
?>

<div id="contact-form-MailPoet" class="myStickyelements-setting-wrap">
	<h3>MailPoet integration settings</h3>
	<div class="myStickyelements-mailchimp-settings myStickyelements-setting-wrap-list">
		<div class="mystickyelements-setting-wrap-left">
			<label><?php esc_html_e( 'Select a MailPoet list' );?></label>
		</div>
		<div class="mystickyelements-setting-wrap-right">
			<?php $mailpoet_lists = \MailPoet\API\API::MP( 'v1' )->getLists();?>
			<select id="sfba_mailchimp_lists" name="contact-form[mailpoet_list]">
				<option value="">Select a list</option>
				<?php 
				if ( !empty($mailpoet_lists)) :
				foreach($mailpoet_lists as $lists):
					if ( $lists['id'] != '' && $lists['name'] != '' ) {
					?>
					<option value="<?php echo $lists['id']?>" <?php selected($lists['id'], @$mailpoet_list, true);?>><?php echo $lists['name']?></option>
					<?php }
					endforeach;
				endif;
				?>
			</select>
		</div>
	</div>	
</div>

<?php endif;?>

--- END FILE ---

--- FILE: admin/social-media.php ---
<?php 
$custom_fields = array();
foreach ( $contact_field as $key=>$value ) {
	if ( isset($value['custom_fields']) && is_array($value['custom_fields']) ) {
		$custom_fields[] = $value['custom_fields'][0];
	}
} 

$textblock_apper = ( isset( $contact_form['textblock'] ) && $contact_form['textblock'] == 'textblock' ) ? 'mystickyelements-textblock-open' : '' ;
$textblock_text = ( isset($contact_form['textblock_text'])) ? $contact_form['textblock_text'] : ''; 
?>

<div id="mystickyelements-tab-social-media" class="mystickyelements-tab-social-media mystickyelements-options"   style="display: <?php echo ( isset($widget_tab_index) && $widget_tab_index == 'mystickyelements-social-media' ) ? 'block' : 'none'; ?>;">
	<div class="" >
		<!-- Social Channels Tabs Section -->
		<div class="myStickyelements-container myStickyelements-social-channels-tabs">
			<div class="myStickyelements-header-title">
				<h3><?php _e('Show Chat & Social Icons', 'mystickyelements'); ?></h3>
				<label for="myStickyelements-social-channels-enabled" class="myStickyelements-switch">
					<input type="checkbox" id="myStickyelements-social-channels-enabled" name="social-channels[enable]" value="1" <?php checked( @$social_channels['enable'], '1' );?> />
					<span class="slider round"></span>
				</label>
				<p class="social-disable-info" style="display: none;"><i class="fas fa-info-circle"></i>&nbsp;&nbsp;<span><?php esc_html_e('Social channels in sticky bar has been turned off.','mystickyelements');?></span>&nbsp;&nbsp;<a href="javascript:void(0)" class="mystickyelements-turnit-on" data-turnit="myStickyelements-social-channels-enabled"><?php esc_html_e( 'Turn it on', 'mystickyelements' );?></a><?php esc_html_e( ' to collect user submitted forms from sidebar.', 'mystickyelements' );?></p>
			</div>
			<div class="mystickyelements-header-sub-title">
				<h4><?php _e( 'Enable your preferred social channels', 'mystickyelements' ); ?></h4>
			</div>
			<div class="mystickyelements-disable-wrap">
				<div class="mystickyelements-disable-content-wrap" style="display:none;">
					<div class="mystickyelements-disable-content">
						<i class="fas fa-eye-slash"></i>
						<p><?php esc_html_e( 'DISABLED', 'mystickyelements' );?></p>
					</div>
				</div>

				<div class="mystickyelements-action-popup-open mystickyelements-action-popup-status" id="socialform-status-popup" style="display:none;">
					<div class="popup-ui-widget-header">
						<span id="ui-id-1" class="ui-dialog-title"><?php echo esc_html_e( 'Are you sure?', 'mystickyelement');?></span><span class="close-dialog" data-from ='social-form'> &#10006 </span>
					</div>	
					<div id="widget-delete-confirm" class="ui-widget-content"><p><?php 
						echo esc_html_e( "You're about to turn off ", "mystickyelement");
					?> <span><?php echo esc_html_e( "social chats and channels", "mystickyelement"); ?></span><?php echo esc_html_e( ". By turning it off, this widget won't appear on your website. Are you sure?", "mystickyelement"); ?></p></div>
					<div class="popup-ui-dialog-buttonset"><button type="button" class="btn-disable-cancel button-social-popup-disable"><?php echo esc_html_e('Disable anyway','mystickyelement');?></button><button type="button" class="mystickyelement-keep-widget-btn button-social-popup-keep" data-from = "contact-form" ><?php echo esc_html_e('Keep using','mystickyelement');?></button></div>
				</div>
				<div id="mystickyelement-social-popup-overlay" class="stickyelement-overlay" data-from = "social-form" style="display:none;"></div>
				<div class="myStickyelements-social-search">
					<label><?php _e( 'Quick Search', 'mystickyelements' ); ?></label>
					<div class="myStickyelements-social-search-wrap">
						<input type="text" placeholder="facebook" /><i class="fas fa-search"></i>
					</div>
				</div>
				<div class="myStickyelements-social-channels-lists-section">
					<ul class="myStickyelements-social-channels-lists">
					<?php
						$custom_channel = ['custom_one', 'custom_two', 'custom_three', 'custom_four', 'custom_five', 'custom_six'];
						$custom_shortcode = ['custom_seven', 'custom_eight', 'custom_nine', 'custom_ten', 'custom_eleven', 'custom_twelve'];
						$social_channels_lists = set_social_channel_order( $social_channels_lists , $social_channels_tabs  );
						foreach( $social_channels_lists as $key=>$value):
						$is_locked = ( isset($value['custom']) && $value['custom'] == 1 && isset($value['is_locked']) && !$is_pro_active ) ? 1 : 0;
						if( !isset($value['custom'])) { 
						
						?><li data-search="<?php echo str_replace("_", " ", $key); ?>" <?php if ( $is_locked == 1 ):?> class="upgrade-myStickyelements" <?php endif;?>>
							
							<label>
								<span class="social-channels-list social-<?php echo esc_attr($key);?> <?php if( isset($social_channels[$key]) && $social_channels[$key] == '1' ) : ?>social-checked-active<?php endif; ?>" style="background-color: <?php echo set_span_bg_color( $key , $value ); ?>;">
									<?php 
										/*if (strpos($key, 'custom_channel') !== false || in_array( $key, $custom_channel)) {
											?>
												<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.9999 2.20002C9.9999 1.20591 10.8058 0.400024 11.7999 0.400024C12.794 0.400024 13.5999 1.20591 13.5999 2.20002V2.80002C13.5999 3.46277 14.1372 4.00002 14.7999 4.00002H18.3999C19.0626 4.00002 19.5999 4.53728 19.5999 5.20002V8.80002C19.5999 9.46277 19.0626 10 18.3999 10H17.7999C16.8058 10 15.9999 10.8059 15.9999 11.8C15.9999 12.7941 16.8058 13.6 17.7999 13.6H18.3999C19.0626 13.6 19.5999 14.1373 19.5999 14.8V18.4C19.5999 19.0628 19.0626 19.6 18.3999 19.6H14.7999C14.1372 19.6 13.5999 19.0628 13.5999 18.4V17.8C13.5999 16.8059 12.794 16 11.7999 16C10.8058 16 9.9999 16.8059 9.9999 17.8V18.4C9.9999 19.0628 9.46264 19.6 8.7999 19.6H5.1999C4.53716 19.6 3.9999 19.0628 3.9999 18.4V14.8C3.9999 14.1373 3.46264 13.6 2.7999 13.6H2.1999C1.20579 13.6 0.399902 12.7941 0.399902 11.8C0.399902 10.8059 1.20579 10 2.1999 10H2.7999C3.46264 10 3.9999 9.46277 3.9999 8.80002V5.20002C3.9999 4.53728 4.53716 4.00002 5.1999 4.00002H8.7999C9.46264 4.00002 9.9999 3.46277 9.9999 2.80002V2.20002Z" fill="#0EA5E9"/></svg>
											<?php
										}else if( strpos($key, 'custom_shortcode') !== false || in_array( $key, $custom_shortcode)) {
											?>
											<svg width="20" height="18" viewBox="0 0 20 18" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M0.399902 2.99998C0.399902 1.67449 1.47442 0.599976 2.7999 0.599976H17.1999C18.5254 0.599976 19.5999 1.67449 19.5999 2.99998V15C19.5999 16.3255 18.5254 17.4 17.1999 17.4H2.7999C1.47442 17.4 0.399902 16.3255 0.399902 15V2.99998ZM4.35137 4.55145C4.82 4.08282 5.5798 4.08282 6.04843 4.55145L9.64843 8.15145C10.1171 8.62008 10.1171 9.37988 9.64843 9.8485L6.04843 13.4485C5.5798 13.9171 4.82 13.9171 4.35137 13.4485C3.88275 12.9799 3.88275 12.2201 4.35137 11.7514L7.10285 8.99998L4.35137 6.2485C3.88275 5.77987 3.88275 5.02008 4.35137 4.55145ZM11.1999 11.4C10.5372 11.4 9.9999 11.9372 9.9999 12.6C9.9999 13.2627 10.5372 13.8 11.1999 13.8H14.7999C15.4626 13.8 15.9999 13.2627 15.9999 12.6C15.9999 11.9372 15.4626 11.4 14.7999 11.4H11.1999Z" fill="#A855F7"/></svg>
											<?php
										} else {*/
											?>
											<i class="<?php echo social_channel_icon_class( $key , $value );?>"></i>
											<?php
										//}
									$social_channels[$key] = isset($social_channels[$key]) ? $social_channels[$key] : '';
									?>
								</span>
								<input type="checkbox" data-social-channel="<?php echo esc_attr($key);?>" class="social-channel" name="social-channels[<?php echo esc_attr($key);?>]" value="1" <?php checked( @$social_channels[$key], '1' );?>   <?php if( isset($value['is_locked']) && $value['is_locked'] == 1) { echo "disabled";}?>/>
							</label>
							<span class="social-tooltip-popup">
								<?php 
								if ( isset($value['custom_tooltip']) && $value['custom_tooltip'] != "" ) {
									echo $value['custom_tooltip'];
								} else {
									echo ucwords(str_replace("_", " ", $value['hover_text']));
								}											
								?>
							</span>
						</li><?php } endforeach;?>
					</ul>
				</div>
				<input type="hidden" id="myStickyelements-custom-channel-lenght" name = "general-settings[custom_channel_count]" value="<?php echo (isset($general_settings['custom_channel_count']) && $general_settings['custom_channel_count']!='') ? $general_settings['custom_channel_count'] : 0 ; ?>" />
				
				<input type="hidden" id="myStickyelements-custom-shortcode-lenght" name = "general-settings[custom_shortcode_count]" value="<?php echo (isset($general_settings['custom_shortcode_count']) && $general_settings['custom_shortcode_count']!='') ? $general_settings['custom_shortcode_count'] : 0 ; ?>" />
				
				<div class="mystickyelement-social-buttons">
					<div class="mystickyelement-more-less-channel">
						<a id="myStickyelements-more-social" name="button_more_social_btn" href="javascript:void(0);">
							<svg class="more-icon" width="10" height="7" viewBox="0 0 10 7" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M9 1.5L5 5.5L1 1.5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
							</svg>
							<svg class="less-icon" width="10" height="7" viewBox="0 0 10 7" fill="none" xmlns="http://www.w3.org/2000/svg">
								<path d="M1 5.5L5 1.5L9 5.5" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
							</svg>

							<span><?php _e( 'Show More Channels', 'mystickyelements' ); ?></span>
						</a>
					</div>
					<div class="mystickyelement-custom-channel">
						<button id="myStickyelements-add-custom-social" name="button_add_custom_social" value = "<?php _e( 'Custom Channel', 'mystickyelements' ); ?>"><?php _e( 'Custom Channel', 'mystickyelements' ); ?><svg style="fill: #3F83F8;" id="plus-circle" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 36 36"><path id="Path_1928" data-name="Path 1928" d="M18,7.875A1.125,1.125,0,0,1,19.125,9v9A1.125,1.125,0,0,1,18,19.125H9a1.125,1.125,0,0,1,0-2.25h7.875V9A1.125,1.125,0,0,1,18,7.875Z" fill-rule="evenodd"/><path id="Path_1929" data-name="Path 1929" d="M16.875,18A1.125,1.125,0,0,1,18,16.875h9a1.125,1.125,0,0,1,0,2.25H19.125V27a1.125,1.125,0,0,1-2.25,0Z" fill-rule="evenodd"/><path id="Path_1930" data-name="Path 1930" d="M18,33.75A15.75,15.75,0,1,0,2.25,18,15.75,15.75,0,0,0,18,33.75ZM18,36A18,18,0,1,0,0,18,18,18,0,0,0,18,36Z" fill-rule="evenodd"/></svg></button>
						<label>
							<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
								<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
								<p><?php esc_html_e("Use custom channels to link to any web page, social service or even custom JavaScript code. ", 'mystickyelements'); ?><a href="https://premio.io/help/mystickyelements/how-do-i-create-a-custom-link-or-javascript-channel/" target="_blank"><?php esc_html_e('Learn more','mystickyelements');?></a></p>
							</div><a class = "custom-social-channel-info-link" href="https://premio.io/help/mystickyelements/how-do-i-create-a-custom-link-or-javascript-channel/" target="_blank"><?php _e( 'How custom channels work?', 'mystickyelements' ); ?></a>
						</label>
					</div>
					<div class="mystickyelement-custom-shortcode">
						<button id="myStickyelements-add-custom-shortcode" name="button_add_custom_shortcode" value = "<?php _e( 'Custom Shortcode', 'mystickyelements' ); ?>"  > <?php _e( 'Custom Shortcode', 'mystickyelements' ); ?><svg style="fill: #9061F9;" id="plus-circle" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 36 36"><path id="Path_1928" data-name="Path 1928" d="M18,7.875A1.125,1.125,0,0,1,19.125,9v9A1.125,1.125,0,0,1,18,19.125H9a1.125,1.125,0,0,1,0-2.25h7.875V9A1.125,1.125,0,0,1,18,7.875Z" fill-rule="evenodd"/><path id="Path_1929" data-name="Path 1929" d="M16.875,18A1.125,1.125,0,0,1,18,16.875h9a1.125,1.125,0,0,1,0,2.25H19.125V27a1.125,1.125,0,0,1-2.25,0Z" fill-rule="evenodd"/><path id="Path_1930" data-name="Path 1930" d="M18,33.75A15.75,15.75,0,1,0,2.25,18,15.75,15.75,0,0,0,18,33.75ZM18,36A18,18,0,1,0,0,18,18,18,0,0,0,18,36Z" fill-rule="evenodd"/></svg></button>
						<label>
							<div class="mystickyelements-custom-fields-tooltip myStickyelements-country-tooltip">
								<a href="javascript:void(0);" class="mystickyelements-tooltip mystickyelements-new-custom-btn"><i class="fas fa-info"></i></a>
								<p><?php esc_html_e("Add a custom shortcode/Iframe/HTML to your widget. Learn more or check out ", 'mystickyelements'); ?><a href="https://premio.io/help/mystickyelements/how-to-add-a-custom-shortcode-html-channel-to-your-widget/" target="_blank"><?php esc_html_e('some inspirations','mystickyelements');?></a></p>
							</div><a class = "custom-social-channel-info-link" href="https://premio.io/help/mystickyelements/how-to-add-a-custom-shortcode-html-channel-to-your-widget/" target="_blank"><?php _e( 'How shortcodes work?', 'mystickyelements' ); ?></a>
						</label>
					</div>
				</div>
				<?php if(!$is_pro_active) {?>
				<div class="social-channel-popover" style="display:none;">
					<p>
						<strong>Upgrade to MyStickyElements Pro</strong> ‚ÄçüöÄ for unlimited channels, custom fields, send leads to email, integrate with MailChimp/MailPoet, with more triggers & targeting rules
						<br/><br/>
						<span class="mystickyelement-tab-integration-action mystickyelement-upgrade-action">
							<a class="upgradenow-box-btn" href="<?php echo esc_url($upgrade_url); ?>" target="_blank" class="btn">Upgrade Now</a>
						</span>					
						<a href="javascript:;" class="dismiss-btn premio-upgrade-dismiss-btn"><span class="dashicons dashicons-no-alt"></span></a>
					</p>
					
					<!--a href="<?php echo $upgrade_url ?>" target="_blank">
						<?php _e('Get unlimited channels in the Pro plan', 'mystickyelements'); ?>
						<strong><?php _e('Upgrade Now', 'mystickyelements'); ?></strong>
					</a-->
				</div>
				<?php } ?>
				
				<div class="myStickyelements-social-channels-info">
					<div class="mystickyelements-header-sub-title">
						<h4><?php _e( 'Customize Channel Specific Behavior', 'mystickyelements' ); ?></h4>
					</div>
					<div class="social-channels-tab">
						<?php
						if (!empty($social_channels_tabs)) {
							global $social_channel_count;
							$social_channel_count = 1;
							foreach( $social_channels_tabs as $key=>$value ) {
								$this->mystickyelement_social_tab_add( $key, $element_widget_no );
							}
						}
						?>
					</div>
				</div>
			</div>
		</div>
	</div>	
</div>

<?php 

	function social_channel_icon_class( $key , $value ){
		if( strpos($key, 'custom_channel') !== false && $value['custom_icon'] == '' && $value['fontawesome_icon'] == '' ){
			return 'fas fa-cloud-upload-alt';
		}else if( strpos($key, 'custom_shortcode') !== false && $value['custom_icon'] == '' && $value['fontawesome_icon'] == '' ){
			return 'fas fa-code';
		}else{
			return $value['class'];
		}
	}
	function set_span_bg_color( $key , $value ){
		
		$custom_channel = ['custom_one', 'custom_two', 'custom_three', 'custom_four', 'custom_five', 'custom_six'];
		$custom_shortcode = ['custom_seven', 'custom_eight', 'custom_nine', 'custom_ten', 'custom_eleven', 'custom_twelve'];
		if( strpos($key, 'custom_channel') !== false || in_array($key, $custom_channel)){
			return '#7761DF';
		}else if( strpos($key, 'custom_shortcode') !== false || in_array($key, $custom_shortcode)){
			return '#7761DF';
		}else{
			return (isset($value['background_color'])) ? $value['background_color'] : '';
		}
	}

	function set_social_channel_order( $social_channels_lists , $social_channels_tabs ){
		$selected_social_channels = array();
		foreach ( $social_channels_tabs as $key1 => $social_channel ) {	
			if (strpos($key1, 'custom') !== false) {
			   $selected_social_channels[$key1] =  $social_channel;
			}
		}
		$social_channels_lists = array_merge( $social_channels_lists ,$selected_social_channels);	
		return $social_channels_lists;
	}
?>

--- END FILE ---

